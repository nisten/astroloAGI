var openmeds=function(){"use strict";function t(){}function e(t,e){for(const i in e)t[i]=e[i];return t}function i(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(i)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t,e){return t!=t?e==e:t!==e}function a(t,e,i,n){if(t)return e=l(t,e,i,n),t[0](e)}function l(t,i,n,r){return t[1]&&r?e(n.ctx.slice(),t[1](r(i))):n.ctx}function u(t,e,i,n){if(t[2]&&n){var r=t[2](n(i));if(void 0===e.dirty)return r;if("object"!=typeof r)return e.dirty|r;var s=[],o=Math.max(e.dirty.length,r.length);for(let t=0;o>t;t+=1)s[t]=e.dirty[t]|r[t];return s}return e.dirty}function c(t,e,i,n,r,s){r&&(e=l(e,i,n,s),t.p(e,r))}function f(t){if(t.ctx.length>32){var e=[],i=t.ctx.length/32;for(let t=0;i>t;t++)e[t]=-1;return e}return-1}function p(t){var e={};for(const i in t)"$"!==i[0]&&(e[i]=t[i]);return e}function d(t,e){var i={};e=new Set(e);for(const n in t)e.has(n)||"$"===n[0]||(i[n]=t[n]);return i}function y(e){return e&&s(e.destroy)?e.destroy:t}function v(t,e,i){t.insertBefore(e,i||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function _(){return w("")}function M(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function x(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function S(t,e){var i=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)null==e[n]?t.removeAttribute(n):"style"===n?t.style.cssText=e[n]:"__value"===n?t.value=t[n]=e[n]:i[n]&&i[n].set?t[n]=e[n]:x(t,n,e[n])}function k(t,e){t.wholeText!==(e=""+e)&&(t.data=e)}let C;function $(t){C=t}function B(){if(C)return C;throw Error("Function called outside component initialization")}function P(t,e){B().$$.context.set(t,e)}function E(t,e){(t=t.$$.callbacks[e.type])&&t.slice().forEach((t=>t.call(this,e)))}const T=[],D=[],O=[],A=[],z=Promise.resolve();let R=!1;function L(t){O.push(t)}const j=new Set;let K=0;function F(){var t=C;do{for(;T.length>K;){var e,i=T[K],n=(K++,$(i),e=n=void 0,i.$$);null!==n.fragment&&(n.update(),r(n.before_update),e=n.dirty,n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(L))}for($(null),T.length=0,K=0;D.length;)D.pop()();for(let t=0;O.length>t;t+=1){var s=O[t];j.has(s)||(j.add(s),s())}}while(O.length=0,T.length);for(;A.length;)A.pop()();R=!1,j.clear(),$(t)}const N=new Set;let W;function V(){W={r:0,c:[],p:W}}function I(){W.r||r(W.c),W=W.p}function G(t,e){t&&t.i&&(N.delete(t),t.i(e))}function X(t,e,i,n){t&&t.o?N.has(t)||(N.add(t),W.c.push((()=>{N.delete(t),n&&(i&&t.d(1),n())})),t.o(e)):n&&n()}function Y(t,e){var i={},n={},r={$$scope:1};let s=t.length;for(;s--;){var o=t[s],h=e[s];if(h){for(const t in o)t in h||(n[t]=1);for(const t in h)r[t]||(i[t]=h[t],r[t]=1);t[s]=h}else for(const t in o)r[t]=1}for(const t in n)t in i||(i[t]=void 0);return i}function J(t){t&&t.c()}function q(t,e,n,o){var{fragment:h,after_update:a}=t.$$;h&&h.m(e,n),o||L((()=>{var e=t.$$.on_mount.map(i).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(L)}function Z(t,e){null!==(t=t.$$).fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function H(e,i,s,o,h,a,l,u=[-1]){var c=C;$(e);const f=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:h,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(c?c.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||c.$$.root};l&&l(f.root);let p=!1;f.ctx=s?s(e,i.props||{},((t,i,...n)=>(n=n.length?n[0]:i,f.ctx&&h(f.ctx[t],f.ctx[t]=n)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](n),p)&&function(t,e){-1===t.$$.dirty[0]&&(T.push(t),R||(R=!0,z.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t),i))):[],f.update(),p=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),i.target&&(i.hydrate?(u=Array.from((a=i.target).childNodes),f.fragment&&f.fragment.l(u),u.forEach(m)):f.fragment&&f.fragment.c(),i.intro&&G(e.$$.fragment),q(e,i.target,i.anchor,i.customElement),F()),$(c)}class U{$destroy(){Z(this,1),this.$destroy=t}$on(e,i){if(!s(i))return t;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{var t=n.indexOf(i);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(t,e,i){return!0===i||""===i?t?"col":"col-"+e:"auto"===i?t?"col-auto":`col-${e}-auto`:t?"col-"+i:`col-${e}-`+i}function tt(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(tt).filter(Boolean).join(" ");else for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}function et(...t){return t.map(tt).filter(Boolean).join(" ")}function it(t){let i,n,r,s,o;const h=t[19].default,l=a(h,t,t[18],null),p=l||function(t){let e,i,n,r;const s=[st,rt],o=[];function h(t){return t[1]?0:1}return e=h(t),i=o[e]=s[e](t),{c(){i.c(),n=_()},m(t,i){o[e].m(t,i),v(t,n,i),r=!0},p(t,r){let a=e;(e=h(t))===a?o[e].p(t,r):(V(),X(o[a],1,1,(()=>{o[a]=null})),I(),(i=o[e])?i.p(t,r):(i=o[e]=s[e](t)).c(),G(i,1),i.m(n.parentNode,n))},i(t){r||(G(i),r=!0)},o(t){X(i),r=!1},d(t){o[e].d(t),t&&m(n)}}}(t);let d=[t[9],{class:t[7]},{disabled:t[2]},{value:t[5]},{"aria-label":n=t[8]||t[6]},{style:t[4]}],y={};for(let t=0;d.length>t;t+=1)y=e(y,d[t]);return{c(){i=g("button"),p&&p.c(),S(i,y)},m(e,n){v(e,i,n),p&&p.m(i,null),i.autofocus&&i.focus(),t[23](i),r=!0,s||(o=M(i,"click",t[21]),s=!0)},p(t,e){l?l.p&&(!r||262144&e)&&c(l,h,t,t[18],r?u(h,t[18],e,null):f(t[18]),null):p&&p.p&&(!r||262146&e)&&p.p(t,r?e:-1),S(i,y=Y(d,[512&e&&t[9],(!r||128&e)&&{class:t[7]},(!r||4&e)&&{disabled:t[2]},(!r||32&e)&&{value:t[5]},(!r||320&e&&n!==(n=t[8]||t[6]))&&{"aria-label":n},(!r||16&e)&&{style:t[4]}]))},i(t){r||(G(p,t),r=!0)},o(t){X(p,t),r=!1},d(e){e&&m(i),p&&p.d(e),t[23](null),s=!1,o()}}}function nt(t){let i,n,r,s,o,h,a;const l=[ht,ot],u=[];function c(t){return t[1]?0:1}n=c(t),r=u[n]=l[n](t);let f=[t[9],{class:t[7]},{disabled:t[2]},{href:t[3]},{"aria-label":s=t[8]||t[6]},{style:t[4]}],p={};for(let t=0;f.length>t;t+=1)p=e(p,f[t]);return{c(){i=g("a"),r.c(),S(i,p)},m(e,r){v(e,i,r),u[n].m(i,null),t[22](i),o=!0,h||(a=M(i,"click",t[20]),h=!0)},p(t,e){let h=n;(n=c(t))===h?u[n].p(t,e):(V(),X(u[h],1,1,(()=>{u[h]=null})),I(),(r=u[n])?r.p(t,e):(r=u[n]=l[n](t)).c(),G(r,1),r.m(i,null)),S(i,p=Y(f,[512&e&&t[9],(!o||128&e)&&{class:t[7]},(!o||4&e)&&{disabled:t[2]},(!o||8&e)&&{href:t[3]},(!o||320&e&&s!==(s=t[8]||t[6]))&&{"aria-label":s},(!o||16&e)&&{style:t[4]}]))},i(t){o||(G(r),o=!0)},o(t){X(r),o=!1},d(e){e&&m(i),u[n].d(),t[22](null),h=!1,a()}}}function rt(t){let e;const i=t[19].default,n=a(i,t,t[18],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||262144&r)&&c(n,i,t,t[18],e?u(i,t[18],r,null):f(t[18]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function st(e){let i;return{c(){i=w(e[1])},m(t,e){v(t,i,e)},p(t,e){2&e&&k(i,t[1])},i:t,o:t,d(t){t&&m(i)}}}function ot(t){let e;const i=t[19].default,n=a(i,t,t[18],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||262144&r)&&c(n,i,t,t[18],e?u(i,t[18],r,null):f(t[18]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function ht(e){let i;return{c(){i=w(e[1])},m(t,e){v(t,i,e)},p(t,e){2&e&&k(i,t[1])},i:t,o:t,d(t){t&&m(i)}}}function at(t){let e,i,n,r;const s=[nt,it],o=[];function h(t){return t[3]?0:1}return e=h(t),i=o[e]=s[e](t),{c(){i.c(),n=_()},m(t,i){o[e].m(t,i),v(t,n,i),r=!0},p(t,[r]){let a=e;(e=h(t))===a?o[e].p(t,r):(V(),X(o[a],1,1,(()=>{o[a]=null})),I(),(i=o[e])?i.p(t,r):(i=o[e]=s[e](t)).c(),G(i,1),i.m(n.parentNode,n))},i(t){r||(G(i),r=!0)},o(t){X(i),r=!1},d(t){o[e].d(t),t&&m(n)}}}function lt(t,i,n){let r,s,o;const h=["class","active","block","children","close","color","disabled","href","inner","outline","size","style","value","white"];let a=d(i,h),{$$slots:l={},$$scope:u}=i,{class:c=""}=i,{active:f=!1}=i,{block:y=!1}=i,{children:v}=i,{close:m=!1}=i,{color:g="secondary"}=i,{disabled:w=!1}=i,{href:b=""}=i,{inner:_}=i,{outline:M=!1}=i,{size:x=null}=i,{style:S=""}=i,{value:k=""}=i,{white:C=!1}=i;return t.$$set=t=>{n(24,i=e(e({},i),p(t))),n(9,a=d(i,h)),"class"in t&&n(10,c=t.class),"active"in t&&n(11,f=t.active),"block"in t&&n(12,y=t.block),"children"in t&&n(1,v=t.children),"close"in t&&n(13,m=t.close),"color"in t&&n(14,g=t.color),"disabled"in t&&n(2,w=t.disabled),"href"in t&&n(3,b=t.href),"inner"in t&&n(0,_=t.inner),"outline"in t&&n(15,M=t.outline),"size"in t&&n(16,x=t.size),"style"in t&&n(4,S=t.style),"value"in t&&n(5,k=t.value),"white"in t&&n(17,C=t.white),"$$scope"in t&&n(18,u=t.$$scope)},t.$$.update=()=>{n(8,r=i["aria-label"]),261120&t.$$.dirty&&n(7,s=et(c,m?"btn-close":"btn",m||`btn${M?"-outline":""}-`+g,!!x&&"btn-"+x,!!y&&"d-block w-100",{active:f,"btn-close-white":m&&C})),8192&t.$$.dirty&&n(6,o=m?"Close":null)},i=p(i),[_,v,w,b,S,k,o,s,r,a,c,f,y,m,g,M,x,C,u,l,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},function(t){D[t?"unshift":"push"]((()=>{_=t,n(0,_)}))},function(t){D[t?"unshift":"push"]((()=>{_=t,n(0,_)}))}]}class ut extends U{constructor(t){super(),H(this,t,lt,at,o,{class:10,active:11,block:12,children:1,close:13,color:14,disabled:2,href:3,inner:0,outline:15,size:16,style:4,value:5,white:17})}}function ct(t){let i,n,r;const s=t[10].default,o=a(s,t,t[9],null);let h=[t[1],{class:n=t[0].join(" ")}],l={};for(let t=0;h.length>t;t+=1)l=e(l,h[t]);return{c(){i=g("div"),o&&o.c(),S(i,l)},m(t,e){v(t,i,e),o&&o.m(i,null),r=!0},p(t,[e]){o&&o.p&&(!r||512&e)&&c(o,s,t,t[9],r?u(s,t[9],e,null):f(t[9]),null),S(i,l=Y(h,[2&e&&t[1],{class:n}]))},i(t){r||(G(o,t),r=!0)},o(t){X(o,t),r=!1},d(t){t&&m(i),o&&o.d(t)}}}function ft(t,i,n){const r=["class","xs","sm","md","lg","xl","xxl"];let s=d(i,r),{$$slots:o={},$$scope:h}=i,{class:a=""}=i,{xs:l}=i,{sm:u}=i,{md:c}=i,{lg:f}=i,{xl:y}=i,{xxl:v}=i;const m=[],g={xs:l,sm:u,md:c,lg:f,xl:y,xxl:v};return Object.keys(g).forEach((t=>{var e,i,n=g[t];!n&&""!==n||(e="xs"===t,i=typeof n,null==n||"object"!=i&&"function"!=i?m.push(Q(e,t,n)):(i=e?"-":`-${t}-`,e=Q(e,t,n.size),!n.size&&""!==n.size||m.push(e),n.push&&m.push("push"+i+n.push),n.pull&&m.push("pull"+i+n.pull),n.offset&&m.push("offset"+i+n.offset),n.order&&m.push("order"+i+n.order)))})),m.length||m.push("col"),a&&m.push(a),t.$$set=t=>{i=e(e({},i),p(t)),n(1,s=d(i,r)),"class"in t&&n(2,a=t.class),"xs"in t&&n(3,l=t.xs),"sm"in t&&n(4,u=t.sm),"md"in t&&n(5,c=t.md),"lg"in t&&n(6,f=t.lg),"xl"in t&&n(7,y=t.xl),"xxl"in t&&n(8,v=t.xxl),"$$scope"in t&&n(9,h=t.$$scope)},[m,s,a,l,u,c,f,y,v,h,o]}class pt extends U{constructor(t){super(),H(this,t,ft,ct,o,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function dt(t){let i,n;const r=t[10].default,s=a(r,t,t[9],null);let o=[t[1],{class:t[0]}],h={};for(let t=0;o.length>t;t+=1)h=e(h,o[t]);return{c(){i=g("div"),s&&s.c(),S(i,h)},m(t,e){v(t,i,e),s&&s.m(i,null),n=!0},p(t,[e]){s&&s.p&&(!n||512&e)&&c(s,r,t,t[9],n?u(r,t[9],e,null):f(t[9]),null),S(i,h=Y(o,[2&e&&t[1],(!n||1&e)&&{class:t[0]}]))},i(t){n||(G(s,t),n=!0)},o(t){X(s,t),n=!1},d(t){t&&m(i),s&&s.d(t)}}}function yt(t,i,n){let r;const s=["class","sm","md","lg","xl","xxl","fluid"];let o=d(i,s),{$$slots:h={},$$scope:a}=i,{class:l=""}=i,{sm:u}=i,{md:c}=i,{lg:f}=i,{xl:y}=i,{xxl:v}=i,{fluid:m=!1}=i;return t.$$set=t=>{i=e(e({},i),p(t)),n(1,o=d(i,s)),"class"in t&&n(2,l=t.class),"sm"in t&&n(3,u=t.sm),"md"in t&&n(4,c=t.md),"lg"in t&&n(5,f=t.lg),"xl"in t&&n(6,y=t.xl),"xxl"in t&&n(7,v=t.xxl),"fluid"in t&&n(8,m=t.fluid),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{508&t.$$.dirty&&n(0,r=et(l,{"container-sm":u,"container-md":c,"container-lg":f,"container-xl":y,"container-xxl":v,"container-fluid":m,container:!(u||c||f||y||v||m)}))},[r,o,l,u,c,f,y,v,m,a,h]}class vt extends U{constructor(t){super(),H(this,t,yt,dt,o,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function mt(t){let e;const i=t[10].default,n=a(i,t,t[11],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||2048&r)&&c(n,i,t,t[11],e?u(i,t[11],r,null):f(t[11]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function gt(t){let e,i;return e=new vt({props:{fluid:"fluid"===t[0],$$slots:{default:[wt]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,n){q(e,t,n),i=!0},p(t,i){var n={};1&i&&(n.fluid="fluid"===t[0]),2048&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Z(e,t)}}}function wt(t){let e;const i=t[10].default,n=a(i,t,t[11],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||2048&r)&&c(n,i,t,t[11],e?u(i,t[11],r,null):f(t[11]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function bt(t){let i,n,r,s;const o=[gt,mt],h=[];function a(t){return t[0]?0:1}n=a(t),r=h[n]=o[n](t);let l=[t[2],{class:t[1]}],u={};for(let t=0;l.length>t;t+=1)u=e(u,l[t]);return{c(){i=g("nav"),r.c(),S(i,u)},m(t,e){v(t,i,e),h[n].m(i,null),s=!0},p(t,[e]){let c=n;(n=a(t))===c?h[n].p(t,e):(V(),X(h[c],1,1,(()=>{h[c]=null})),I(),(r=h[n])?r.p(t,e):(r=h[n]=o[n](t)).c(),G(r,1),r.m(i,null)),S(i,u=Y(l,[4&e&&t[2],(!s||2&e)&&{class:t[1]}]))},i(t){s||(G(r),s=!0)},o(t){X(r),s=!1},d(t){t&&m(i),h[n].d()}}}function _t(t,i,n){let r;const s=["class","container","color","dark","expand","fixed","light","sticky"];let o=d(i,s),{$$slots:h={},$$scope:a}=i,{class:l=""}=(P("navbar",{inNavbar:!0}),i),{container:u="fluid"}=i,{color:c=""}=i,{dark:f=!1}=i,{expand:y=""}=i,{fixed:v=""}=i,{light:m=!1}=i,{sticky:g=""}=i;return t.$$set=t=>{i=e(e({},i),p(t)),n(2,o=d(i,s)),"class"in t&&n(3,l=t.class),"container"in t&&n(0,u=t.container),"color"in t&&n(4,c=t.color),"dark"in t&&n(5,f=t.dark),"expand"in t&&n(6,y=t.expand),"fixed"in t&&n(7,v=t.fixed),"light"in t&&n(8,m=t.light),"sticky"in t&&n(9,g=t.sticky),"$$scope"in t&&n(11,a=t.$$scope)},t.$$.update=()=>{var e;1016&t.$$.dirty&&n(1,r=et(l,"navbar",!1!==(e=y)&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e),{"navbar-light":m,"navbar-dark":f,["bg-"+c]:c,["fixed-"+v]:v,["sticky-"+g]:g}))},[u,r,o,l,c,f,y,v,m,g,h,a]}class Mt extends U{constructor(t){super(),H(this,t,_t,bt,o,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function xt(t){let i,n,r,s;const o=t[5].default,h=a(o,t,t[4],null);let l=[t[2],{class:t[1]},{href:t[0]}],p={};for(let t=0;l.length>t;t+=1)p=e(p,l[t]);return{c(){i=g("a"),h&&h.c(),S(i,p)},m(e,o){v(e,i,o),h&&h.m(i,null),n=!0,r||(s=M(i,"click",t[6]),r=!0)},p(t,[e]){h&&h.p&&(!n||16&e)&&c(h,o,t,t[4],n?u(o,t[4],e,null):f(t[4]),null),S(i,p=Y(l,[4&e&&t[2],(!n||2&e)&&{class:t[1]},(!n||1&e)&&{href:t[0]}]))},i(t){n||(G(h,t),n=!0)},o(t){X(h,t),n=!1},d(t){t&&m(i),h&&h.d(t),r=!1,s()}}}function St(t,i,n){let r;const s=["class","href"];let o=d(i,s),{$$slots:h={},$$scope:a}=i,{class:l=""}=i,{href:u="/"}=i;return t.$$set=t=>{i=e(e({},i),p(t)),n(2,o=d(i,s)),"class"in t&&n(3,l=t.class),"href"in t&&n(0,u=t.href),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&n(1,r=et(l,"navbar-brand"))},[u,r,o,l,a,h,function(e){E.call(this,t,e)}]}class kt extends U{constructor(t){super(),H(this,t,St,xt,o,{class:3,href:0})}}function Ct(e){let i;const n=e[3].default,r=a(n,e,e[5],null),s=r||function(){let e;return{c(){x(e=g("span"),"class","navbar-toggler-icon")},m(t,i){v(t,e,i)},p:t,d(t){t&&m(e)}}}();return{c(){s&&s.c()},m(t,e){s&&s.m(t,e),i=!0},p(t,e){r&&r.p&&(!i||32&e)&&c(r,n,t,t[5],i?u(n,t[5],e,null):f(t[5]),null)},i(t){i||(G(s,t),i=!0)},o(t){X(s,t),i=!1},d(t){s&&s.d(t)}}}function $t(t){let i,n;const r=[t[1],{class:t[0]}];let s={$$slots:{default:[Ct]},$$scope:{ctx:t}};for(let t=0;r.length>t;t+=1)s=e(s,r[t]);return(i=new ut({props:s})).$on("click",t[4]),{c(){J(i.$$.fragment)},m(t,e){q(i,t,e),n=!0},p(t,[e]){var n=3&e?Y(r,[2&e&&("object"==typeof(n=t[1])&&null!==n?n:{}),1&e&&{class:t[0]}]):{};32&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){X(i.$$.fragment,t),n=!1},d(t){Z(i,t)}}}function Bt(t,i,n){let r;const s=["class"];let o=d(i,s),{$$slots:h={},$$scope:a}=i,{class:l=""}=i;return t.$$set=t=>{i=e(e({},i),p(t)),n(1,o=d(i,s)),"class"in t&&n(2,l=t.class),"$$scope"in t&&n(5,a=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=et(l,"navbar-toggler"))},[r,o,l,h,function(e){E.call(this,t,e)},a]}class Pt extends U{constructor(t){super(),H(this,t,Bt,$t,o,{class:2})}}function Et(t){let i,n;const r=t[8].default,s=a(r,t,t[7],null);let o=[t[2],{class:t[1]}],h={};for(let t=0;o.length>t;t+=1)h=e(h,o[t]);return{c(){i=g("div"),s&&s.c(),S(i,h)},m(e,r){v(e,i,r),s&&s.m(i,null),t[9](i),n=!0},p(t,[e]){s&&s.p&&(!n||128&e)&&c(s,r,t,t[7],n?u(r,t[7],e,null):f(t[7]),null),S(i,h=Y(o,[4&e&&t[2],(!n||2&e)&&{class:t[1]}]))},i(t){n||(G(s,t),n=!0)},o(t){X(s,t),n=!1},d(e){e&&m(i),s&&s.d(e),t[9](null)}}}function Tt(t,i,n){let r;const s=["class","noGutters","form","cols","inner"];let o=d(i,s),{$$slots:h={},$$scope:a}=i,{class:l=""}=i,{noGutters:u=!1}=i,{form:c=!1}=i,{cols:f=0}=i,{inner:y}=i;return t.$$set=t=>{i=e(e({},i),p(t)),n(2,o=d(i,s)),"class"in t&&n(3,l=t.class),"noGutters"in t&&n(4,u=t.noGutters),"form"in t&&n(5,c=t.form),"cols"in t&&n(6,f=t.cols),"inner"in t&&n(0,y=t.inner),"$$scope"in t&&n(7,a=t.$$scope)},t.$$.update=()=>{120&t.$$.dirty&&n(1,r=et(l,u?"gx-0":null,c?"form-row":"row",...function(t){var e=parseInt(t);if(isNaN(e)){if("object"==typeof t)return["xs","sm","md","lg","xl"].map((e=>{var i=t[e];return"number"==typeof i&&i>0?"row-cols"+("xs"===e?"-":`-${e}-`)+i:null})).filter((t=>!!t))}else if(e>0)return["row-cols-"+e];return[]}(f)))},[y,r,o,l,u,c,f,a,h,function(t){D[t?"unshift":"push"]((()=>{y=t,n(0,y)}))}]}class Dt extends U{constructor(t){super(),H(this,t,Tt,Et,o,{class:3,noGutters:4,form:5,cols:6,inner:0})}}const Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,At=Object.keys,zt=Array.isArray;function Rt(t,e){return"object"==typeof e&&At(e).forEach((function(i){t[i]=e[i]})),t}"undefined"==typeof Promise||Ot.Promise||(Ot.Promise=Promise);const Lt=Object.getPrototypeOf,jt={}.hasOwnProperty;function Kt(t,e){return jt.call(t,e)}function Ft(t,e){"function"==typeof e&&(e=e(Lt(t))),("undefined"==typeof Reflect?At:Reflect.ownKeys)(e).forEach((i=>{Wt(t,i,e[i])}))}const Nt=Object.defineProperty;function Wt(t,e,i,n){Nt(t,e,Rt(i&&Kt(i,"get")&&"function"==typeof i.get?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},n))}function Vt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Wt(t.prototype,"constructor",t),{extend:Ft.bind(null,t.prototype)}}}}const It=Object.getOwnPropertyDescriptor;function Gt(t,e){return It(t,e)||(t=Lt(t))&&Gt(t,e)}const Xt=[].slice;function Yt(t,e,i){return Xt.call(t,e,i)}function Jt(t,e){return e(t)}function qt(t){if(!t)throw Error("Assertion Failed")}function Zt(t){Ot.setImmediate?setImmediate(t):setTimeout(t,0)}function Ht(t,e){return t.reduce(((t,i,n)=>((i=e(i,n))&&(t[i[0]]=i[1]),t)),{})}function Ut(t,e){if(Kt(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var i=[],n=0,r=e.length;r>n;++n){var s=Ut(t,e[n]);i.push(s)}return i}var o,h=e.indexOf(".");return-1===h||void 0===(o=t[e.substr(0,h)])?void 0:Ut(o,e.substr(h+1))}function Qt(t,e,i){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){qt("string"!=typeof i&&"length"in i);for(var n=0,r=e.length;r>n;++n)Qt(t,e[n],i[n])}else{var s,o,h=e.indexOf(".");-1!==h?(s=e.substr(0,h),""===(h=e.substr(h+1))?void 0===i?zt(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=i:Qt(o=(o=t[s])&&Kt(t,s)?o:t[s]={},h,i)):void 0===i?zt(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=i}}function te(t){var e,i={};for(e in t)Kt(t,e)&&(i[e]=t[e]);return i}const ee=[].concat;function ie(t){return ee.apply([],t)}var ne="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ie([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>Ot[t]));const re=ne.map((t=>Ot[t]));Ht(ne,(t=>[t,!0]));let se=null;function oe(t){return se="undefined"!=typeof WeakMap&&new WeakMap,t=function t(e){if(!e||"object"!=typeof e)return e;let i=se&&se.get(e);if(i)return i;if(zt(e)){i=[],se&&se.set(e,i);for(var n=0,r=e.length;r>n;++n)i.push(t(e[n]))}else if(re.indexOf(e.constructor)<0){const n=Lt(e);for(var s in i=n===Object.prototype?{}:Object.create(n),se&&se.set(e,i),e)Kt(e,s)&&(i[s]=t(e[s]))}else i=e;return i}(t),se=null,t}const he={}.toString;function ae(t){return he.call(t).slice(8,-1)}const le="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",ue="symbol"==typeof le?function(t){var e;return null!=t&&(e=t[le])&&e.apply(t)}:function(){return null},ce={};function fe(t){var e,i,n,r;if(1===arguments.length){if(zt(t))return t.slice();if(this===ce&&"string"==typeof t)return[t];if(r=ue(t))for(i=[];!(n=r.next()).done;)i.push(n.value);else{if(null==t)return[t];if("number"!=typeof(e=t.length))return[t];for(i=Array(e);e--;)i[e]=t[e]}}else for(i=Array(e=arguments.length);e--;)i[e]=arguments[e];return i}const pe="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var de="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ye(t,e){de=t,ve=e}var ve=()=>!0;const me=!Error("").stack;function ge(){if(me)try{throw Error()}catch(t){return t}return Error()}function we(t,e){var i=t.stack;return i?(e=e||0,0===i.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),i.split("\n").slice(e).filter(ve).map((t=>"\n"+t)).join("")):""}var be=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ne=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(t,e){this._e=ge(),this.name=t,this.message=e}function xe(t,e){return t+". Errors: "+Object.keys(e).map((t=>""+e[t])).filter(((t,e,i)=>i.indexOf(t)===e)).join("\n")}function Se(t,e,i,n){this._e=ge(),this.failures=e,this.failedKeys=n,this.successCount=i,this.message=xe(t,e)}function ke(t,e){this._e=ge(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=xe(t,e)}Vt(Me).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+we(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Vt(Se).from(Me),Vt(ke).from(Me);var Ce=be.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const $e=Me;var Be=be.reduce(((t,e)=>{var i=e+"Error";function n(t,n){this._e=ge(),this.name=i,t?"string"==typeof t?(this.message=t+(n?"\n "+n:""),this.inner=n||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=_e[e]||i,this.inner=null)}return Vt(n).from($e),t[e]=n,t}),{}),Pe=(Be.Syntax=SyntaxError,Be.Type=TypeError,Be.Range=RangeError,ne.reduce(((t,e)=>(t[e+"Error"]=Be[e],t)),{}));function Ee(){}function Te(t){return t}function De(t,e){return null==t||t===Te?e:function(i){return e(t(i))}}function Oe(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Ae(t,e){return t===Ee?e:function(){var i=t.apply(this,arguments),n=(void 0!==i&&(arguments[0]=i),this.onsuccess),r=this.onerror,s=(this.onsuccess=null,this.onerror=null,e.apply(this,arguments));return n&&(this.onsuccess=this.onsuccess?Oe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Oe(r,this.onerror):r),void 0!==s?s:i}}function ze(t,e){return t===Ee?e:function(){t.apply(this,arguments);var i=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Oe(i,this.onsuccess):i),n&&(this.onerror=this.onerror?Oe(n,this.onerror):n)}}function Re(t,e){return t===Ee?e:function(i){var n=t.apply(this,arguments),r=(i=(Rt(i,n),this.onsuccess),this.onerror),s=(this.onsuccess=null,this.onerror=null,e.apply(this,arguments));return i&&(this.onsuccess=this.onsuccess?Oe(i,this.onsuccess):i),r&&(this.onerror=this.onerror?Oe(r,this.onerror):r),void 0===n?void 0===s?void 0:s:Rt(n,s)}}function Le(t,e){return t===Ee?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function je(t,e){return t===Ee?e:function(){var i=t.apply(this,arguments);if(i&&"function"==typeof i.then){for(var n=this,r=arguments.length,s=Array(r);r--;)s[r]=arguments[r];return i.then((function(){return e.apply(n,s)}))}return e.apply(this,arguments)}}ne=be.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Be[e]),t)),{}),ne.ModifyError=Se,ne.DexieError=Me,ne.BulkError=ke;var Ke={};const[Fe,Ne,We]="undefined"==typeof Promise?[]:(be=Promise.resolve(),"undefined"!=typeof crypto&&crypto.subtle?[Ki=crypto.subtle.digest("SHA-512",new Uint8Array([0])),Lt(Ki),be]:[be,Lt(be),be]),Ve=Ne&&Ne.then,Ie=Fe&&Fe.constructor,Ge=!!We;var Xe=!1,Ye=We?()=>{We.then(di)}:Ot.setImmediate?setImmediate.bind(null,di):Ot.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{di(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(di,0)},Je=function(t,e){ni.push([t,e]),Ze&&(Ye(),Ze=!1)},qe=!0,Ze=!0,He=[],Ue=[],Qe=null,ti=Te,ei={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ji,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{ji(t[0],t[1])}catch(t){}}))}},ii=ei,ni=[],ri=0,si=[];function oi(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ee,this._lib=!1;var e=this._PSD=ii;if(de&&(this._stackHolder=ge(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Ke)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],!1===this._state&&li(this,this._value)}else this._state=null,this._value=null,++e.ref,function t(e,i){try{i((i=>{if(null===e._state){if(i===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&yi();i&&"function"==typeof i.then?t(e,((t,e)=>{i instanceof oi?i._then(t,e):i.then(t,e)})):(e._state=!0,e._value=i,ui(e)),n&&vi()}}),li.bind(null,e))}catch(i){li(e,i)}}(this,t)}const hi={get:function(){var t=ii,e=Si;function i(i,n){var r=!t.global&&(t!==ii||e!==Si);const s=r&&!Bi();var o=new oi(((e,o)=>{ci(this,new ai(zi(i,t,r,s),zi(n,t,r,s),e,o,t))}));return de&&pi(o,this),o}return i.prototype=Ke,i},set:function(t){Wt(this,"then",t&&t.prototype===Ke?hi:{get:function(){return t},set:hi.set})}};function ai(t,e,i,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n,this.psd=r}function li(t,e){if(Ue.push(e),null===t._state){var i,n=t._lib&&yi();if(e=ti(e),t._state=!1,t._value=e,de&&null!==e&&"object"==typeof e&&!e._promise){try{(()=>{var i=Gt(e,"stack");e._promise=t,Wt(e,"stack",{get:()=>Xe?i&&(i.get?i.get.apply(e):i.value):t.stack})}).apply(null,void 0)}catch(n){}}i=t,He.some((t=>t._value===i._value))||He.push(i),ui(t),n&&vi()}}function ui(t){var e=t._listeners;t._listeners=[];for(var i=0,n=e.length;n>i;++i)ci(t,e[i]);var r=t._PSD;--r.ref||r.finalize(),0===ri&&(++ri,Je((()=>{0==--ri&&mi()}),[]))}function ci(t,e){if(null===t._state)t._listeners.push(e);else{var i=t._state?e.onFulfilled:e.onRejected;if(null===i)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ri,Je(fi,[i,t,e])}}function fi(t,e,i){try{var n,r=(Qe=e)._value;e._state?n=t(r):(Ue.length&&(Ue=[]),n=t(r),-1===Ue.indexOf(r)&&function(t){for(var e=He.length;e;)if(He[--e]._value===t._value)return He.splice(e,1)}(e)),i.resolve(n)}catch(t){i.reject(t)}finally{Qe=null,0==--ri&&mi(),--i.psd.ref||i.psd.finalize()}}function pi(t,e){var i=e?e._numPrev+1:0;100>i&&(t._prev=e,t._numPrev=i)}function di(){yi()&&vi()}function yi(){var t=qe;return Ze=qe=!1,t}function vi(){var t,e,i;do{for(;ni.length>0;)for(t=ni,ni=[],i=t.length,e=0;i>e;++e){var n=t[e];n[0].apply(null,n[1])}}while(ni.length>0);Ze=qe=!0}function mi(){for(var t=He,e=(He=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)})),si.slice(0)),i=e.length;i;)e[--i]()}function gi(t){return new oi(Ke,!1,t)}function wi(t,e){var i=ii;return function(){var n=yi(),r=ii;try{return Ti(i,!0),t.apply(this,arguments)}catch(n){e&&e(n)}finally{Ti(r,!1),n&&vi()}}}Ft(oi.prototype,{then:hi,_then:function(t,e){ci(this,new ai(null,null,t,e,ii))},catch:function(t){var e,i;return 1===arguments.length?this.then(null,t):(i=arguments[1],this.then(null,"function"==typeof(e=t)?t=>(t instanceof e?i:gi)(t):t=>(t&&t.name===e?i:gi)(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),gi(e))))},stack:{get:function(){if(this._stack)return this._stack;try{Xe=!0;var t=function t(e,i,n){if(i.length===n)return i;var r,s,o,h="";return!1===e._state&&(null!=(r=e._value)?(s=r.name||"Error",o=r.message||r,h=we(r,0)):(s=r,o=""),i.push(s+(o?": "+o:"")+h)),de&&((h=we(e._stackHolder,2))&&-1===i.indexOf(h)&&i.push(h),e._prev)&&t(e._prev,i,n),i}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Xe=!1}}},timeout:function(t,e){return 1/0>t?new oi(((i,n)=>{var r=setTimeout((()=>n(new Be.Timeout(e))),t);this.then(i,n).finally(clearTimeout.bind(null,r))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Wt(oi.prototype,Symbol.toStringTag,"Dexie.Promise"),ei.env=Di(),Ft(oi,{all:function(){var t=fe.apply(null,arguments).map(Pi);return new oi((function(e,i){0===t.length&&e([]);var n=t.length;t.forEach(((r,s)=>oi.resolve(r).then((i=>{t[s]=i,--n||e(t)}),i)))}))},resolve:t=>{var e;return t instanceof oi?t:t&&"function"==typeof t.then?new oi(((e,i)=>{t.then(e,i)})):(pi(e=new oi(Ke,!0,t),Qe),e)},reject:gi,race:function(){var t=fe.apply(null,arguments).map(Pi);return new oi(((e,i)=>{t.map((t=>oi.resolve(t).then(e,i)))}))},PSD:{get:()=>ii,set:t=>ii=t},totalEchoes:{get:()=>Si},newPSD:Ci,usePSD:Oi,scheduler:{get:()=>Je,set:t=>{Je=t}},rejectionMapper:{get:()=>ti,set:t=>{ti=t}},follow:(t,e)=>new oi(((i,n)=>Ci(((e,i)=>{var n=ii;n.unhandleds=[],n.onunhandled=i,n.finalize=Oe((function(){var t;t=()=>{0===this.unhandleds.length?e():i(this.unhandleds[0])},si.push((function e(){t(),si.splice(si.indexOf(e),1)})),++ri,Je((()=>{0==--ri&&mi()}),[])}),n.finalize),t()}),e,i,n)))}),Ie&&(Ie.allSettled&&Wt(oi,"allSettled",(function(){const t=fe.apply(null,arguments).map(Pi);return new oi((e=>{0===t.length&&e([]);let i=t.length;const n=Array(i);t.forEach(((t,r)=>oi.resolve(t).then((t=>n[r]={status:"fulfilled",value:t}),(t=>n[r]={status:"rejected",reason:t})).then((()=>--i||e(n)))))}))})),Ie.any)&&"undefined"!=typeof AggregateError&&Wt(oi,"any",(function(){const t=fe.apply(null,arguments).map(Pi);return new oi(((e,i)=>{0===t.length&&i(new AggregateError([]));let n=t.length;const r=Array(n);t.forEach(((t,s)=>oi.resolve(t).then((t=>e(t)),(t=>{r[s]=t,--n||i(new AggregateError(r))}))))}))}));const bi={awaits:0,echoes:0,id:0};var _i=0,Mi=[],xi=0,Si=0,ki=0;function Ci(t,e,i,n){var r=ii,s=Object.create(r),o=(s.parent=r,s.ref=0,s.global=!1,s.id=++ki,ei.env);s.env=Ge?{Promise:oi,PromiseProp:{value:oi,configurable:!0,writable:!0},all:oi.all,race:oi.race,allSettled:oi.allSettled,any:oi.any,resolve:oi.resolve,reject:oi.reject,nthen:Ri(o.nthen,s),gthen:Ri(o.gthen,s)}:{},e&&Rt(s,e),++r.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},o=Oi(s,t,i,n);return 0===s.ref&&s.finalize(),o}function $i(){return bi.id||(bi.id=++_i),++bi.awaits,bi.echoes+=100,bi.id}function Bi(){return!!bi.awaits&&(0==--bi.awaits&&(bi.id=0),bi.echoes=100*bi.awaits,!0)}function Pi(t){return bi.echoes&&t&&t.constructor===Ie?($i(),t.then((t=>(Bi(),t)),(t=>(Bi(),Fi(t))))):t}function Ei(){var t=Mi[Mi.length-1];Mi.pop(),Ti(t,!1)}function Ti(t,e){var i,n,r=ii;(e?!bi.echoes||xi++&&t===ii:!xi||--xi&&t===ii)||Ai(e?function(t){++Si,bi.echoes&&0!=--bi.echoes||(bi.echoes=bi.id=0),Mi.push(ii),Ti(t,!0)}.bind(null,t):Ei),t!==ii&&(ii=t,r===ei&&(ei.env=Di()),Ge)&&(i=ei.env.Promise,Ne.then=(n=t.env).nthen,i.prototype.then=n.gthen,r.global||t.global)&&(Object.defineProperty(Ot,"Promise",n.PromiseProp),i.all=n.all,i.race=n.race,i.resolve=n.resolve,i.reject=n.reject,n.allSettled&&(i.allSettled=n.allSettled),n.any)&&(i.any=n.any)}function Di(){var t=Ot.Promise;return Ge?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Ot,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ne.then,gthen:t.prototype.then}:{}}function Oi(t,e,i,n,r){var s=ii;try{return Ti(t,!0),e(i,n,r)}finally{Ti(s,!1)}}function Ai(t){Ve.call(Fe,t)}function zi(t,e,i,n){return"function"!=typeof t?t:function(){var r=ii;i&&$i(),Ti(e,!0);try{return t.apply(this,arguments)}finally{Ti(r,!1),n&&Ai(Bi)}}}function Ri(t,e){return function(i,n){return t.call(this,zi(i,e),zi(n,e))}}-1===(""+Ve).indexOf("[native code]")&&($i=Bi=Ee);const Li="unhandledrejection";function ji(t,e){var i;try{i=e.onuncatched(t)}catch(t){}if(!1!==i)try{var n,r={promise:e,reason:t};if(Ot.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(Li,!0,!0),Rt(n,r)):Ot.CustomEvent&&Rt(n=new CustomEvent(Li,{detail:r}),r),n&&Ot.dispatchEvent&&(dispatchEvent(n),!Ot.PromiseRejectionEvent)&&Ot.onunhandledrejection)try{Ot.onunhandledrejection(n)}catch(t){}de&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var Ki,Fi=oi.reject;const Ni="￿",Wi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vi="String expected.",Ii=[],Gi="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Xi=Gi,Yi=Gi,Ji=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),qi="__dbnames",Zi="readonly",Hi="readwrite";function Ui(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Qi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tn(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=oe(e))[t],e)}class en{_trans(t,e,i){const n=this._tx||ii.trans,r=this.name;function s(t,i,n){if(n.schema[r])return e(n.idbtrans,n);throw new Be.NotFound("Table "+r+" not part of transaction")}var o=yi();try{return n&&n.db===this.db?n===ii.trans?n._promise(t,s,i):Ci((()=>n._promise(t,s,i)),{trans:n,transless:ii.transless||ii}):function t(e,i,n,r){if(e.idbdb&&(e._state.openComplete||ii.letThrough||e._vip)){var s=e._createTransaction(i,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Ce.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>t(e,i,n,r)))):Fi(s)}return s._promise(i,((t,e)=>Ci((()=>(ii.trans=s,r(t,e,s)))))).then((t=>s._completion.then((()=>t))))}if(e._state.openComplete)return Fi(new Be.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Fi(new Be.DatabaseClosed);e.open().catch(Ee)}return e._state.dbReadyPromise.then((()=>t(e,i,n,r)))}(this.db,t,[this.name],s)}finally{o&&vi()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(zt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=At(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var i=this.schema.indexes.concat(this.schema.primKey).filter((t=>t.compound&&e.every((e=>t.keyPath.indexOf(e)>=0))&&t.keyPath.every((t=>e.indexOf(t)>=0))))[0];if(i&&this.db._maxKey!==Ni)return this.where(i.name).equals(i.keyPath.map((e=>t[e])));!i&&de&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const n=this.schema.idxByName,r=this.db._deps.indexedDB;function s(t,e){try{return 0===r.cmp(t,e)}catch(t){return!1}}var[o,h]=e.reduce((([e,i],r)=>{var o=n[r];const h=t[r];return[e||o,e||!o?Ui(i,o&&o.multi?t=>(t=Ut(t,r),zt(t)&&t.some((t=>s(h,t)))):t=>s(h,Ut(t,r))):i]}),[null,null]);return o?this.where(o.name).equals(t[o.keyPath]).filter(h):i?this.filter(h):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,zt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;var e=e=>{if(!e)return e;var i,n=Object.create(t.prototype);for(i in e)if(Kt(e,i))try{n[i]=e[i]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){Rt(this,t)}))}add(t,e){const{auto:i,keyPath:n}=this.schema.primKey;let r=t;return n&&i&&(r=tn(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[r]}))).then((t=>t.numFailures?oi.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{Qt(t,n,e)}catch(e){}return e}))}update(t,e){if("object"!=typeof t||zt(t))return this.where(":id").equals(t).modify(e);var i=Ut(t,this.schema.primKey.keyPath);if(void 0===i)return Fi(new Be.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?At(e).forEach((i=>{Qt(t,i,e[i])})):e(t,{value:t,primKey:i})}catch(i){}return this.where(":id").equals(i).modify(e)}put(t,e){const{auto:i,keyPath:n}=this.schema.primKey;let r=t;return n&&i&&(r=tn(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[r],keys:null!=e?[e]:null}))).then((t=>t.numFailures?oi.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{Qt(t,n,e)}catch(e){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?oi.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:Qi}))).then((t=>t.numFailures?oi.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,i){const n=Array.isArray(e)?e:void 0,r=(i=i||(n?void 0:e))?i.allKeys:void 0;return this._trans("readwrite",(e=>{var{auto:i,keyPath:s}=this.schema.primKey;if(s&&n)throw new Be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");const o=t.length;return i=s&&i?t.map(tn(s)):t,this.core.mutate({trans:e,type:"add",keys:n,values:i,wantResults:r}).then((({numFailures:t,results:e,lastResult:i,failures:n})=>{if(e=r?e:i,0===t)return e;throw new ke(`${this.name}.bulkAdd(): ${t} of ${o} operations failed`,n)}))}))}bulkPut(t,e,i){const n=Array.isArray(e)?e:void 0,r=(i=i||(n?void 0:e))?i.allKeys:void 0;return this._trans("readwrite",(e=>{var{auto:i,keyPath:s}=this.schema.primKey;if(s&&n)throw new Be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");const o=t.length;return i=s&&i?t.map(tn(s)):t,this.core.mutate({trans:e,type:"put",keys:n,values:i,wantResults:r}).then((({numFailures:t,results:e,lastResult:i,failures:n})=>{if(e=r?e:i,0===t)return e;throw new ke(`${this.name}.bulkPut(): ${t} of ${o} operations failed`,n)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:i,failures:n})=>{if(0===t)return i;throw new ke(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,n)}))}}function nn(t){function e(e,n){if(n){for(var r=arguments.length,s=Array(r-1);--r;)s[r-1]=arguments[r];return i[e].subscribe.apply(null,s),t}if("string"==typeof e)return i[e]}var i={};e.addEventType=s;for(var n=1,r=arguments.length;r>n;++n)s(arguments[n]);return e;function s(t,n,r){var o,h;if("object"!=typeof t)return n=n||Le,h={subscribers:[],fire:r=r||Ee,subscribe:function(t){-1===h.subscribers.indexOf(t)&&(h.subscribers.push(t),h.fire=n(h.fire,t))},unsubscribe:function(t){h.subscribers=h.subscribers.filter((function(e){return e!==t})),h.fire=h.subscribers.reduce(n,r)}},i[t]=e[t]=h;At(o=t).forEach((function(t){var e=o[t];if(zt(e))s(t,o[t][0],o[t][1]);else{if("asap"!==e)throw new Be.InvalidArgument("Invalid event config");var i=s(t,Te,(function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];i.subscribers.forEach((function(t){Zt((function(){t.apply(null,e)}))}))}))}}))}}function rn(t,e){return Vt(e).from({prototype:t}),e}function sn(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function on(t,e){t.filter=Ui(t.filter,e)}function hn(t,e,i){var n=t.replayFilter;t.replayFilter=n?()=>Ui(n(),e()):e,t.justLimit=i&&!n}function an(t,e){if(t.isPrimKey)return e.primaryKey;var i=e.getIndexByKeyPath(t.index);if(i)return i;throw new Be.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed")}function ln(t,e,i){var n=an(t,e.schema);return e.openCursor({trans:i,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:n,range:t.range}})}function un(t,e,i,n){const r=t.replayFilter?Ui(t.filter,t.replayFilter()):t.filter;if(t.or){const o={};var s=(t,i,n)=>{var s,h;r&&!r(i,n,(t=>i.stop(t)),(t=>i.fail(t)))||("[object ArrayBuffer]"==(h=""+(s=i.primaryKey))&&(h=""+new Uint8Array(s)),Kt(o,h))||(o[h]=!0,e(t,i,n))};return Promise.all([t.or._iterate(s,i),cn(ln(t,n,i),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return cn(ln(t,n,i),Ui(t.algorithm,r),e,!t.keysOnly&&t.valueMapper)}function cn(t,e,i,n){var r=wi(n?(t,e,r)=>i(n(t),e,r):i);return t.then((t=>{if(t)return t.start((()=>{var i=()=>t.continue();e&&!e(t,(t=>i=t),(e=>{t.stop(e),i=Ee}),(e=>{t.fail(e),i=Ee}))||r(t.value,t,(t=>i=t)),i()}))}))}function fn(t,e){try{var i=pn(t),n=pn(e);if(i!==n)return"Array"===i?1:"Array"===n?-1:"binary"===i?1:"binary"===n?-1:"string"===i?1:"string"===n?-1:"Date"===i?1:"Date"!==n?NaN:-1;switch(i){case"number":case"Date":case"string":return t>e?1:e>t?-1:0;case"binary":var r=dn(t),s=dn(e),o=r.length,h=s.length,a=h>o?o:h;for(let t=0;a>t;++t)if(r[t]!==s[t])return s[t]>r[t]?-1:1;return o===h?0:h>o?-1:1;case"Array":var l=t,u=e,c=l.length,f=u.length,p=f>c?c:f;for(let t=0;p>t;++t){var d=fn(l[t],u[t]);if(0!==d)return d}return c===f?0:f>c?-1:1}}catch(t){}return NaN}function pn(t){var e=typeof t;return"object"!=e||!ArrayBuffer.isView(t)&&"ArrayBuffer"!==(e=ae(t))?e:"binary"}function dn(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class yn{_read(t,e){var i=this._ctx;return i.error?i.table._trans(null,Fi.bind(null,i.error)):i.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,Fi.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Ui(e.algorithm,t)}_iterate(t,e){return un(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return t&&Rt(i,t),e._ctx=i,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((i=>un(e,t,i,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx;var i,n=e.table.core;return sn(e,!0)?n.count({trans:t,query:{index:an(e,n.schema),range:e.range}}).then((t=>Math.min(t,e.limit))):(i=0,un(e,(()=>(++i,!1)),t,n).then((()=>i)))})).then(t)}sortBy(t,e){const i=t.split(".").reverse(),n=i[0],r=i.length-1;function s(t,e){return e?s(t[i[e]],e-1):t[n]}var o="next"===this._ctx.dir?1:-1;function h(t,e){return t=s(t,r),(e=s(e,r))>t?-o:t>e?o:0}return this.toArray((function(t){return t.sort(h)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&sn(e,!0)&&e.limit>0){const n=e.valueMapper;var i=an(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:i,range:e.range}}).then((({result:t})=>n?t.map(n):t))}{const i=[];return un(e,(t=>i.push(t)),t,e.table.core).then((()=>i))}}),t)}offset(t){var e=this._ctx;return 0>=t||(e.offset+=t,sn(e)?hn(e,(()=>{var e=t;return(t,i)=>0===e||(1===e?--e:i((()=>{t.advance(e),e=0})),!1)})):hn(e,(()=>{var e=t;return()=>0>--e}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),hn(this._ctx,(()=>{var e=t;return function(t,i,n){return 0>=--e&&i(n),e>=0}}),!0),this}until(t,e){return on(this._ctx,(function(i,n,r){return!t(i.value)||(n(r),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e;return on(this._ctx,(function(e){return t(e.value)})),(e=this._ctx).isMatch=Ui(e.isMatch,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,i){t(i.key,i)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,i){t(i.primaryKey,i)}))}keys(t){var e=this._ctx,i=(e.keysOnly=!e.isMatch,[]);return this.each((function(t,e){i.push(e.key)})).then((function(){return i})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&sn(e,!0)&&e.limit>0)return this._read((t=>{var i=an(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:i,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var i=[];return this.each((function(t,e){i.push(e.primaryKey)})).then((function(){return i})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t,e;return(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])&&e.multi&&(t={},on(this._ctx,(function(e){var i=Kt(t,e=""+e.primaryKey);return t[e]=!0,!i}))),this}modify(t){var e=this._ctx;return this._write((i=>{var n,r,s;s="function"==typeof t?t:(n=At(t),r=n.length,function(e){for(var i=!1,s=0;r>s;++s){var o=n[s],h=t[o];Ut(e,o)!==h&&(Qt(e,o,h),i=!0)}return i});const o=e.table.core,{outbound:h,extractKey:a}=o.schema.primaryKey,l=this.db._options.modifyChunkSize||200,u=[];let c=0;const f=[],p=(t,e)=>{var i,{failures:n,numFailures:e}=e;for(i of(c+=t-e,At(n)))u.push(n[i])};return this.clone().primaryKeys().then((n=>{const r=u=>{const c=Math.min(l,n.length-u);return o.getMany({trans:i,keys:n.slice(u,u+c),cache:"immutable"}).then((f=>{const d=[],y=[],v=h?[]:null,m=[];for(let t=0;c>t;++t){var g=f[t];const e={value:oe(g),primKey:n[u+t]};!1!==s.call(e,e.value,e)&&(null==e.value?m.push(n[u+t]):h||0===fn(a(g),a(e.value))?(y.push(e.value),h&&v.push(n[u+t])):(m.push(n[u+t]),d.push(e.value)))}const w=sn(e)&&e.limit===1/0&&("function"!=typeof t||t===vn)&&{index:e.index,range:e.range};return Promise.resolve(d.length>0&&o.mutate({trans:i,type:"add",values:d}).then((t=>{for(var e in t.failures)m.splice(parseInt(e),1);p(d.length,t)}))).then((()=>(y.length>0||w&&"object"==typeof t)&&o.mutate({trans:i,type:"put",keys:v,values:y,criteria:w,changeSpec:"function"!=typeof t&&t}).then((t=>p(y.length,t))))).then((()=>(m.length>0||w&&t===vn)&&o.mutate({trans:i,type:"delete",keys:m,criteria:w}).then((t=>p(m.length,t))))).then((()=>n.length>u+c&&r(u+l)))}))};return r(0).then((()=>{if(u.length>0)throw new Se("Error modifying one or more objects",u,c,f);return n.length}))}))}))}delete(){var t=this._ctx,e=t.range;return sn(t)&&(t.isPrimKey&&!Yi||3===e.type)?this._write((i=>{const n=e;return t.table.core.count({trans:i,query:{index:t.table.core.schema.primaryKey,range:n}}).then((e=>t.table.core.mutate({trans:i,type:"deleteRange",range:n}).then((({failures:t,numFailures:i})=>{if(i)throw new Se("Could not delete some values",Object.keys(t).map((e=>t[e])),e-i);return e-i}))))})):this.modify(vn)}}const vn=(t,e)=>e.value=null;function mn(t,e){return e>t?-1:t===e?0:1}function gn(t,e){return t>e?-1:t===e?0:1}function wn(t,e,i){return(t=t instanceof Sn?new t.Collection(t):t)._ctx.error=new(i||TypeError)(e),t}function bn(t){return new t.Collection(t,(()=>xn(""))).limit(0)}function _n(t,e,i,n){var r,s,o,h,a,l,u,c=i.length;if(!i.every((t=>"string"==typeof t)))return wn(t,Vi);function f(t){r="next"===t?t=>t.toUpperCase():t=>t.toLowerCase(),s="next"===t?t=>t.toLowerCase():t=>t.toUpperCase(),o="next"===t?mn:gn;var e=i.map((function(t){return{lower:s(t),upper:r(t)}})).sort((function(t,e){return o(t.lower,e.lower)}));h=e.map((function(t){return t.upper})),a=e.map((function(t){return t.lower})),u="next"===(l=t)?"":n}f("next");var p=((t=new t.Collection(t,(()=>Mn(h[0],a[c-1]+n))))._ondirectionchange=function(t){f(t)},0);return t._addAlgorithm((function(t,i,n){var r=t.key;if("string"==typeof r){var f=s(r);if(e(f,a,p))return!0;for(var d=null,y=p;c>y;++y){var v=function(t,e,i,n,r,s){for(var o=Math.min(t.length,n.length),h=-1,a=0;o>a;++a){var l=e[a];if(l!==n[a])return 0>r(t[a],i[a])?t.substr(0,a)+i[a]+i.substr(a+1):0>r(t[a],n[a])?t.substr(0,a)+n[a]+i.substr(a+1):0>h?null:t.substr(0,h)+e[h]+i.substr(h+1);0>r(t[a],l)&&(h=a)}return n.length>o&&"next"===s?t+i.substr(t.length):t.length>o&&"prev"===s?t.substr(0,i.length):0>h?null:t.substr(0,h)+n[h]+i.substr(h+1)}(r,f,h[y],a[y],o,l);null===v&&null===d?p=y+1:(null===d||o(d,v)>0)&&(d=v)}i(null!==d?function(){t.continue(d+u)}:n)}return!1})),t}function Mn(t,e,i,n){return{type:2,lower:t,upper:e,lowerOpen:i,upperOpen:n}}function xn(t){return{type:1,lower:t,upper:t}}class Sn{get Collection(){return this._ctx.table.db.Collection}between(t,e,i,n){i=!1!==i,n=!0===n;try{return 0>=this._cmp(t,e)&&(0!==this._cmp(t,e)||!i&&!n||i&&n)?new this.Collection(this,(()=>Mn(t,e,!i,!n))):bn(this)}catch(t){return wn(this,Wi)}}equals(t){return null==t?wn(this,Wi):new this.Collection(this,(()=>xn(t)))}above(t){return null==t?wn(this,Wi):new this.Collection(this,(()=>Mn(t,void 0,!0)))}aboveOrEqual(t){return null==t?wn(this,Wi):new this.Collection(this,(()=>Mn(t,void 0,!1)))}below(t){return null==t?wn(this,Wi):new this.Collection(this,(()=>Mn(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?wn(this,Wi):new this.Collection(this,(()=>Mn(void 0,t)))}startsWith(t){return"string"!=typeof t?wn(this,Vi):this.between(t,t+Ni,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):_n(this,((t,e)=>0===t.indexOf(e[0])),[t],Ni)}equalsIgnoreCase(t){return _n(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=fe.apply(ce,arguments);return 0===t.length?bn(this):_n(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=fe.apply(ce,arguments);return 0===t.length?bn(this):_n(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,Ni)}anyOf(){const t=fe.apply(ce,arguments);let e=this._cmp;try{t.sort(e)}catch(i){return wn(this,Wi)}if(0===t.length)return bn(this);var i=new this.Collection(this,(()=>Mn(t[0],t[t.length-1])));i._ondirectionchange=i=>{e="next"===i?this._ascending:this._descending,t.sort(e)};let n=0;return i._addAlgorithm(((i,r,s)=>{for(var o=i.key;e(o,t[n])>0;)if(++n===t.length)return r(s),!1;return 0===e(o,t[n])||(r((()=>{i.continue(t[n])})),!1)})),i}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){var t=fe.apply(ce,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return wn(this,Wi)}var e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const i=this._cmp,n=this._ascending,r=this._descending,s=this._min,o=this._max;if(0===t.length)return bn(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&0>=n(t[0],t[1]))))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Be.InvalidArgument);const h=!e||!1!==e.includeLowers,a=e&&!0===e.includeUppers;let l,u=n;function c(t,e){return u(t[0],e[0])}try{(l=t.reduce((function(t,e){let n=0,r=t.length;for(;r>n;++n){var h=t[n];if(0>i(e[0],h[1])&&i(e[1],h[0])>0){h[0]=s(h[0],e[0]),h[1]=o(h[1],e[1]);break}}return n===r&&t.push(e),t}),[])).sort(c)}catch(t){return wn(this,Wi)}let f=0;const p=a?t=>n(t,l[f][1])>0:t=>n(t,l[f][1])>=0,d=h?t=>r(t,l[f][0])>0:t=>r(t,l[f][0])>=0;let y=p;return(e=new this.Collection(this,(()=>Mn(l[0][0],l[l.length-1][1],!h,!a))))._ondirectionchange=t=>{u="next"===t?(y=p,n):(y=d,r),l.sort(c)},e._addAlgorithm(((t,e,i)=>{for(var r,s=t.key;y(s);)if(++f===l.length)return e(i),!1;return!p(r=s)&&!d(r)||(0===this._cmp(s,l[f][1])||0===this._cmp(s,l[f][0])||e((()=>{t.continue(u===n?l[f][0]:l[f][1])})),!1)})),e}startsWithAnyOf(){var t=fe.apply(ce,arguments);return t.every((t=>"string"==typeof t))?0===t.length?bn(this):this.inAnyRange(t.map((t=>[t,t+Ni]))):wn(this,"startsWithAnyOf() only works with strings")}}function kn(t){return wi((function(e){return Cn(e),t(e.target.error),!1}))}function Cn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const $n="storagemutated",Bn="x-storagemutated-1",Pn=nn(null,$n);class En{_lock(){return qt(!ii.global),++this._reculock,1!==this._reculock||ii.global||(ii.lockOwnerFor=this),this}_unlock(){if(qt(!ii.global),0==--this._reculock)for(ii.global||(ii.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Oi(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&ii.lockOwnerFor!==this}create(t){if(this.mode){var e=this.db.idbdb,i=this.db._state.dbOpenError;if(qt(!this.idbtrans),!t&&!e)switch(i&&i.name){case"DatabaseClosedError":throw new Be.DatabaseClosed(i);case"MissingAPIError":throw new Be.MissingAPI(i.message,i);default:throw new Be.OpenFailed(i)}if(!this.active)throw new Be.TransactionInactive;qt(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||e).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=wi((e=>{Cn(e),this._reject(t.error)})),t.onabort=wi((e=>{Cn(e),this.active&&this._reject(new Be.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=wi((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Pn.storagemutated.fire(t.mutatedParts)}))}return this}_promise(t,e,i){var n;return"readwrite"===t&&"readwrite"!==this.mode?Fi(new Be.ReadOnly("Transaction is readonly")):this.active?this._locked()?new oi(((n,r)=>{this._blockedFuncs.push([()=>{this._promise(t,e,i).then(n,r)},ii])})):i?Ci((()=>{var t=new oi(((t,i)=>{this._lock();var n=e(t,i,this);n&&n.then&&n.then(t,i)}));return t.finally((()=>this._unlock())),t._lib=!0,t})):((n=new oi(((t,i)=>{var n=e(t,i,this);n&&n.then&&n.then(t,i)})))._lib=!0,n):Fi(new Be.TransactionInactive)}_root(){return this.parent?this.parent._root():this}waitFor(t){var e,i=this._root();const n=oi.resolve(t);i._waitingFor?i._waitingFor=i._waitingFor.then((()=>n)):(i._waitingFor=n,i._waitingQueue=[],e=i.idbtrans.objectStore(i.storeNames[0]),function t(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(e.get(-1/0).onsuccess=t)}());var r=i._waitingFor;return new oi(((t,e)=>{n.then((e=>i._waitingQueue.push(wi(t.bind(null,e)))),(t=>i._waitingQueue.push(wi(e.bind(null,t))))).finally((()=>{i._waitingFor===r&&(i._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Be.Abort))}table(t){var e=this._memoizedTables||(this._memoizedTables={});if(Kt(e,t))return e[t];var i=this.schema[t];if(i)return(i=new this.db.Table(t,i,this)).core=this.db.core.table(t),e[t]=i;throw new Be.NotFound("Table "+t+" not part of transaction")}}function Tn(t,e,i,n,r,s,o){return{name:t,keyPath:e,unique:i,multi:n,auto:r,compound:s,src:(i&&!o?"&":"")+(n?"*":"")+(r?"++":"")+Dn(e)}}function Dn(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function On(t,e,i){return{name:t,primKey:e,indexes:i,mappedClass:null,idxByName:Ht(i,(t=>[t.name,t]))}}let An=t=>{try{return t.only([[]]),An=()=>[[]],[[]]}catch(t){return An=()=>Ni,Ni}};function zn(t){return null==t?()=>{}:"string"==typeof t?1===(e=t).split(".").length?t=>t[e]:t=>Ut(t,e):e=>Ut(e,t);var e}function Rn(t){return[].slice.call(t)}let Ln=0;function jn(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function Kn(t,e,i){function n(t){if(3===t.type)return null;if(4===t.type)throw Error("Cannot convert never type to IDBKeyRange");var{lower:t,upper:i,lowerOpen:n,upperOpen:r}=t;return void 0===t?void 0===i?null:e.upperBound(i,!!r):void 0===i?e.lowerBound(t,!!n):e.bound(t,i,!!n,!!r)}o=i,h=Rn((i=t).objectStoreNames);const{schema:r,hasGetAll:s}={schema:{name:i.name,tables:h.map((t=>o.objectStore(t))).map((t=>{var{keyPath:e,autoIncrement:i}=t,n=zt(e);const r={};return n={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==e,compound:n,keyPath:e,autoIncrement:i,unique:!0,extractKey:zn(e)},indexes:Rn(t.indexNames).map((e=>t.index(e))).map((t=>{var{name:t,unique:e,multiEntry:i,keyPath:n}=t;t={name:t,compound:zt(n),keyPath:n,unique:e,multiEntry:i,extractKey:zn(n)};return r[jn(n)]=t})),getIndexByKeyPath:t=>r[jn(t)]},r[":id"]=n.primaryKey,null!=e&&(r[jn(e)]=n.primaryKey),n}))},hasGetAll:h.length>0&&"getAll"in o.objectStore(h[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&604>[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1])};var o,h;i=r.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:i,keys:r,values:s,range:o}){return new Promise(((h,a)=>{h=wi(h);var l=t.objectStore(e),u=null==l.keyPath,c="put"===i||"add"===i;if(!c&&"delete"!==i&&"deleteRange"!==i)throw Error("Invalid operation type: "+i);var f=(r||s||{length:1}).length;if(r&&s&&r.length!==s.length)throw Error("Given keys array must have same length as given values array.");if(0===f)return h({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const d=[],y=[];let v=0;const m=t=>{++v,Cn(t)};if("deleteRange"===i){if(4===o.type)return h({numFailures:v,failures:y,results:[],lastResult:void 0});d.push(p=3===o.type?l.clear():l.delete(n(o)))}else{var[g,w]=c?u?[s,r]:[s,null]:[r,null];if(c)for(let t=0;f>t;++t)d.push(p=w&&void 0!==w[t]?l[i](g[t],w[t]):l[i](g[t])),p.onerror=m;else for(let t=0;f>t;++t)d.push(p=l[i](g[t])),p.onerror=m}const b=t=>{t=t.target.result,d.forEach(((t,e)=>null!=t.error&&(y[e]=t.error))),h({numFailures:v,failures:y,results:"delete"===i?r:d.map((t=>t.result)),lastResult:t})};p.onerror=t=>{m(t),b(t)},p.onsuccess=b}))},getMany:({trans:t,keys:i})=>new Promise(((n,r)=>{n=wi(n);var s,o=t.objectStore(e),h=i.length;const a=Array(h);let l=0,u=0;var c=t=>{a[(t=t.target)._pos]=t.result,++u===l&&n(a)},f=kn(r);for(let t=0;h>t;++t)null!=i[t]&&((s=o.get(i[t]))._pos=t,s.onsuccess=c,s.onerror=f,++l);0===l&&n(a)})),get:({trans:t,key:i})=>new Promise(((n,r)=>{n=wi(n);var s=t.objectStore(e).get(i);s.onsuccess=t=>n(t.target.result),s.onerror=kn(r)})),query:(i=s,t=>new Promise(((r,s)=>{r=wi(r);const{trans:o,values:h,limit:a,query:l}=t;var u=a===1/0?void 0:a,{index:c,range:f}=l,p=o.objectStore(e),c=(p=c.isPrimaryKey?p:p.index(c.name),n(f));if(0===a)return r({result:[]});if(i)(f=h?p.getAll(c,u):p.getAllKeys(c,u)).onsuccess=t=>r({result:t.target.result}),f.onerror=kn(s);else{let t=0;const e=!h&&"openKeyCursor"in p?p.openKeyCursor(c):p.openCursor(c),i=[];e.onsuccess=n=>{var s=e.result;return s&&(i.push(h?s.value:s.primaryKey),++t!==a)?void s.continue():r({result:i})},e.onerror=kn(s)}}))),openCursor:function({trans:t,values:i,query:r,reverse:s,unique:o}){return new Promise(((h,a)=>{h=wi(h);var{index:l,range:u}=r,c=t.objectStore(e),l=(c=l.isPrimaryKey?c:c.index(l.name),s?o?"prevunique":"prev":o?"nextunique":"next");const f=!i&&"openKeyCursor"in c?c.openKeyCursor(n(u),l):c.openCursor(n(u),l);f.onerror=kn(a),f.onsuccess=wi((e=>{const i=f.result;if(i){i.___id=++Ln,i.done=!1;const e=i.continue.bind(i);let n=i.continuePrimaryKey;n=n&&n.bind(i);const r=i.advance.bind(i),s=()=>{throw Error("Cursor not stopped")};i.trans=t,i.stop=i.continue=i.continuePrimaryKey=i.advance=()=>{throw Error("Cursor not started")},i.fail=wi(a),i.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},i.start=t=>{var o=new Promise(((t,e)=>{t=wi(t),f.onerror=kn(e),i.fail=e,i.stop=e=>{i.stop=i.continue=i.continuePrimaryKey=i.advance=s,t(e)}}));const h=()=>{if(f.result)try{t()}catch(t){i.fail(t)}else i.done=!0,i.start=()=>{throw Error("Cursor behind last entry")},i.stop()};return f.onsuccess=wi((t=>{(f.onsuccess=h)()})),i.continue=e,i.continuePrimaryKey=n,i.advance=r,h(),o},h(i)}else h(null)}),a)}))},count({query:t,trans:i}){const{index:r,range:s}=t;return new Promise(((t,o)=>{var h,a=i.objectStore(e);a=r.isPrimaryKey?a:a.index(r.name),(h=(h=n(s))?a.count(h):a.count()).onsuccess=wi((e=>t(e.target.result))),h.onerror=kn(o)}))}};var i}(t)));const a={};return i.forEach((t=>a[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(a[t])return a[t];throw Error(`Table '${t}' not found`)},MIN_KEY:-1/0,MAX_KEY:An(e),schema:r}}function Fn({_novip:t},e){var i,n=e.db,r=([n,e,r,i]=[t._middlewares,n,t._deps.IDBKeyRange,e],e=Kn(e,r,i),{dbcore:n.dbcore.reduce(((t,{create:e})=>({...t,...e(t)})),e)});t.core=r.dbcore,t.tables.forEach((e=>{const i=e.name;t.core.schema.tables.some((t=>t.name===i))&&(e.core=t.core.table(i),t[i]instanceof t.Table)&&(t[i].core=e.core)}))}function Nn({_novip:t},e,i,n){i.forEach((i=>{const r=n[i];e.forEach((e=>{var n=Gt(e,i);(!n||"value"in n&&void 0===n.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?Wt(e,i,{get(){return this.table(i)},set(t){Nt(this,i,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[i]=new t.Table(i,r))}))}))}function Wn({_novip:t},e){e.forEach((e=>{for(var i in e)e[i]instanceof t.Table&&delete e[i]}))}function Vn(t,e){return t._cfg.version-e._cfg.version}function In(t,e){var i={del:[],add:[],change:[]};let n;for(n in t)e[n]||i.del.push(n);for(n in e){var r=t[n],s=e[n];if(r){var o={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||r.primKey.auto!==s.primKey.auto&&!Gi)o.recreate=!0,i.change.push(o);else{var h=r.idxByName,a=s.idxByName;let t;for(t in h)a[t]||o.del.push(t);for(t in a){var l=h[t],u=a[t];l?l.src!==u.src&&o.change.push(u):o.add.push(u)}(o.del.length>0||o.add.length>0||o.change.length>0)&&i.change.push(o)}}else i.add.push([n,s])}return i}function Gn(t,e,i,n){const r=t.db.createObjectStore(e,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});n.forEach((t=>Xn(r,t)))}function Xn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Yn(t,e,i){const n={};return Yt(e.objectStoreNames,0).forEach((t=>{var e=i.objectStore(t);let r=e.keyPath;var s=Tn(Dn(r),r||"",!1,!1,!!e.autoIncrement,r&&"string"!=typeof r,!0),o=[];for(let t=0;e.indexNames.length>t;++t){var h=(r=(h=e.index(e.indexNames[t])).keyPath,Tn(h.name,r,!!h.unique,!!h.multiEntry,!1,r&&"string"!=typeof r,!1));o.push(h)}n[t]=On(t,s,o)})),n}function Jn({_novip:t},e,i){var n=i.db.objectStoreNames;for(let l=0;n.length>l;++l){var r=n[l],s=i.objectStore(r);t._hasGetAll="getAll"in s;for(let t=0;s.indexNames.length>t;++t){var o,h=s.indexNames[t],a="string"==typeof(a=s.index(h).keyPath)?a:"["+Yt(a).join("+")+"]";e[r]&&(o=e[r].idxByName[a])&&(o.name=h,delete e[r].idxByName[a],e[r].idxByName[h]=o)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ot.WorkerGlobalScope&&Ot instanceof Ot.WorkerGlobalScope&&604>[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]&&(t._hasGetAll=!1)}class qn{_parseStoresSpec(t,e){At(t).forEach((i=>{if(null!==t[i]){var n=t[i].split(",").map(((t,e)=>{var i=(t=t.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return Tn(i,n||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),zt(n),0===e)})),r=n.shift();if(r.multi)throw new Be.Schema("Primary key cannot be multi-valued");n.forEach((t=>{if(t.auto)throw new Be.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Be.Schema("Index must have a name and cannot be an empty string")})),e[i]=On(i,r,n)}}))}stores(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?Rt(this._cfg.storesSource,t):t,t=e._versions;const i={};let n={};return t.forEach((t=>{Rt(i,t._cfg.storesSource),n=t._cfg.dbschema={},t._parseStoresSpec(i,n)})),e._dbSchema=n,Wn(e,[e._allTables,e,e.Transaction.prototype]),Nn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],At(n),n),e._storeNames=At(n),this}upgrade(t){return this._cfg.contentUpgrade=je(this._cfg.contentUpgrade||Ee,t),this}}function Zn(t,e){let i=t._dbNamesDB;return i||(i=t._dbNamesDB=new yr(qi,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),i.table("dbnames")}function Hn(t){return t&&"function"==typeof t.databases}function Un(t){return Ci((function(){return ii.letThrough=!0,t()}))}function Qn(t){const e=t._state,i=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?Fi(e.dbOpenError):t));de&&(e.openCanceller._stackHolder=ge()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function r(){if(e.openCanceller!==n)throw new Be.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,o=null,h=!1;return oi.race([n,("undefined"==typeof navigator?oi.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){function e(){return indexedDB.databases().finally(t)}a=setInterval(e,100),e()})).finally((function(){return clearInterval(a)})):Promise.resolve()).then((()=>new oi(((n,s)=>{if(r(),!i)throw new Be.MissingAPI;const a=t.name,l=e.autoSchema?i.open(a):i.open(a,Math.round(10*t.verno));if(!l)throw new Be.MissingAPI;l.onerror=kn(s),l.onblocked=wi(t._fireOnBlocked),l.onupgradeneeded=wi((n=>{var r;o=l.transaction,e.autoSchema&&!t._options.allowEmptyDB?(l.onerror=Cn,o.abort(),l.result.close(),(r=i.deleteDatabase(a)).onsuccess=r.onerror=wi((()=>{s(new Be.NoSuchDatabase(`Database ${a} doesnt exist`))}))):(o.onerror=kn(s),h=1>(r=n.oldVersion>Math.pow(2,62)?0:n.oldVersion),t._novip.idbdb=l.result,function(t,e,i,n){const r=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,r),o=(s.create(i),s._completion.catch(n),s._reject.bind(s)),h=ii.transless||ii;Ci((()=>{ii.trans=s,ii.transless=h,(0===e?(At(r).forEach((t=>{Gn(i,t,r[t].primKey,r[t].indexes)})),Fn(t,i),oi.follow((()=>t.on.populate.fire(s)))):function({_novip:t},e,i,n){const r=[],s=t._versions;let o=t._dbSchema=Yn(0,t.idbdb,n),h=!1;return s.filter((t=>t._cfg.version>=e)).forEach((s=>{r.push((()=>{const r=o;var a=s._cfg.dbschema,l=(Jn(t,r,n),Jn(t,a,n),o=t._dbSchema=a,In(r,a));l.add.forEach((t=>{Gn(n,t[0],t[1].primKey,t[1].indexes)})),l.change.forEach((t=>{if(t.recreate)throw new Be.Upgrade("Not yet support for changing primary key");{const e=n.objectStore(t.name);t.add.forEach((t=>Xn(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),Xn(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const u=s._cfg.contentUpgrade;if(u&&s._cfg.version>e){Fn(t,n),i._memoizedTables={},h=!0;let e=te(a);l.del.forEach((t=>{e[t]=r[t]})),Wn(t,[t.Transaction.prototype]),Nn(t,[t.Transaction.prototype],At(e),e),i.schema=e;const s=pe(u);let o;return s&&$i(),a=oi.follow((()=>{var t;(o=u(i))&&s&&(t=Bi.bind(null,null),o.then(t,t))})),o&&"function"==typeof o.then?oi.resolve(o):a.then((()=>o))}})),r.push((e=>{var n,r;h&&Xi||(n=s._cfg.dbschema,[].slice.call((r=e).db.objectStoreNames).forEach((t=>null==n[t]&&r.db.deleteObjectStore(t)))),Wn(t,[t.Transaction.prototype]),Nn(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),i.schema=t._dbSchema}))})),function t(){return r.length?oi.resolve(r.shift()(i.idbtrans)).then(t):oi.resolve()}().then((()=>{var t,e;e=n,At(t=o).forEach((i=>{e.db.objectStoreNames.contains(i)||Gn(e,i,t[i].primKey,t[i].indexes)}))}))}(t,e,s,i)).catch(o)}))}(t,r/10,o,s))}),s),l.onsuccess=wi((()=>{o=null;var i,r,s,u,c,f,p=t._novip.idbdb=l.result,d=Yt(p.objectStoreNames);if(d.length>0)try{var y=p.transaction(1===(c=d).length?c[0]:c,"readonly");e.autoSchema?([s,f,u]=[t._novip,p,y],s.verno=f.version/10,u=s._dbSchema=Yn(0,f,u),s._storeNames=Yt(f.objectStoreNames,0),Nn(s,[s._allTables],At(u),u)):(Jn(t,t._dbSchema,y),((r=In(Yn(0,(i=t).idbdb,r=y),i._dbSchema)).add.length||r.change.some((t=>t.add.length||t.change.length)))&&console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Fn(t,y)}catch(i){}Ii.push(t),p.onversionchange=wi((i=>{e.vcFired=!0,t.on("versionchange").fire(i)})),p.onclose=wi((e=>{t.on("close").fire(e)})),h&&([{indexedDB:d,IDBKeyRange:c},f]=[t._deps,a],Hn(d)||f===qi||Zn(d,c).put({name:f}).catch(Ee)),n()}),s)}))))]).then((()=>(r(),e.onReadyBeingFired=[],oi.resolve(Un((()=>t.on.ready.fire(t.vip)))).then((function i(){if(e.onReadyBeingFired.length>0){let n=e.onReadyBeingFired.reduce(je,Ee);return e.onReadyBeingFired=[],oi.resolve(Un((()=>n(t.vip)))).then(i)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((i=>{e.dbOpenError=i;try{o&&o.abort()}catch(i){}return n===e.openCanceller&&t._close(),Fi(i)})).finally((()=>{e.openComplete=!0,s()}));var a}function tr(t){var e=e=>t.next(e),i=r(e),n=r((e=>t.throw(e)));function r(t){return e=>{var r=(e=t(e)).value;return e.done?r:r&&"function"==typeof r.then?r.then(i,n):zt(r)?Promise.all(r).then(i,n):i(r)}}return r(e)()}function er(t,e,i){var n=zt(t)?t.slice():[t];for(let t=0;i>t;++t)n.push(e);return n}const ir={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const i=t.table(e),n={},r=[];function s(t,e,i){var o=jn(t),h=(o=n[o]=n[o]||[],null==t?0:"string"==typeof t?1:t.length),a=e>0;a={...i,isVirtual:a,keyTail:e,keyLength:h,extractKey:zn(t),unique:!a&&i.unique};return o.push(a),a.isPrimaryKey||r.push(a),h>1&&s(2===h?t[0]:t.slice(0,h-1),e+1,i),o.sort(((t,e)=>t.keyTail-e.keyTail)),a}var o=s((e=i.schema).primaryKey.keyPath,0,e.primaryKey);n[":id"]=[o];for(const t of e.indexes)s(t.keyPath,0,t);function h(e){var i,n=e.query.index;return n.isVirtual?{...e,query:{index:n,range:(i=e.query.range,n=n.keyTail,{type:1===i.type?2:i.type,lower:er(i.lower,i.lowerOpen?t.MAX_KEY:t.MIN_KEY,n),lowerOpen:!0,upper:er(i.upper,i.upperOpen?t.MIN_KEY:t.MAX_KEY,n),upperOpen:!0})}}:e}return{...i,schema:{...e,primaryKey:o,indexes:r,getIndexByKeyPath:function(t){return(t=n[jn(t)])&&t[0]}},count:t=>i.count(h(t)),query:t=>i.query(h(t)),openCursor(e){const{keyTail:n,isVirtual:r,keyLength:s}=e.query.index;return r?i.openCursor(h(e)).then((i=>i&&function(i){return Object.create(i,{continue:{value:function(r){null!=r?i.continue(er(r,e.reverse?t.MAX_KEY:t.MIN_KEY,n)):e.unique?i.continue(i.key.slice(0,s).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,n)):i.continue()}},continuePrimaryKey:{value(e,r){i.continuePrimaryKey(er(e,t.MAX_KEY,n),r)}},primaryKey:{get:()=>i.primaryKey},key:{get(){var t=i.key;return 1===s?t[0]:t.slice(0,s)}},value:{get:()=>i.value}})}(i))):i.openCursor(e)}}}}}};function nr(t,e,i,n){return i=i||{},n=n||"",At(t).forEach((r=>{var s,o,h;Kt(e,r)?(o=e[r],"object"==typeof(s=t[r])&&"object"==typeof o&&s&&o?(h=ae(s))!==ae(o)?i[n+r]=e[r]:"Object"===h?nr(s,o,i,n+r+"."):s!==o&&(i[n+r]=e[r]):s!==o&&(i[n+r]=e[r])):i[n+r]=void 0})),At(e).forEach((r=>{Kt(t,r)||(i[n+r]=e[r])})),i}const rr={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const i=t.table(e),n=i.schema.primaryKey;return{...i,mutate(t){var r=ii.trans;const{deleting:s,creating:o,updating:h}=r.table(e).hook;switch(t.type){case"add":if(o.fire===Ee)break;return r._promise("readwrite",(()=>a(t)),!0);case"put":if(o.fire===Ee&&h.fire===Ee)break;return r._promise("readwrite",(()=>a(t)),!0);case"delete":if(s.fire===Ee)break;return r._promise("readwrite",(()=>a(t)),!0);case"deleteRange":if(s.fire===Ee)break;return r._promise("readwrite",(()=>function t(e,r,s){return i.query({trans:e,values:!1,query:{index:n,range:r},limit:s}).then((({result:i})=>a({type:"delete",keys:i,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):s>i.length?{failures:[],numFailures:0,lastResult:void 0}:t(e,{...r,lower:i[i.length-1],lowerOpen:!0},s)))))}(t.trans,t.range,1e4)),!0)}return i.mutate(t);function a(t){const e=ii.trans,r=t.keys||(l=n,"delete"===(a=t).type?a.keys:a.keys||a.values.map(l.extractKey));var a,l,u;if(r)return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:r}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),a=i,u=r,("add"===(l=t).type?Promise.resolve([]):a.getMany({trans:l.trans,keys:u,cache:"immutable"})).then((a=>{const l=r.map(((i,r)=>{var l=a[r],u={onerror:null,onsuccess:null};if("delete"===t.type)s.fire.call(u,i,l,e);else if("add"===t.type||void 0===l){var c=o.fire.call(u,i,t.values[r],e);null==i&&null!=c&&(t.keys[r]=i=c,n.outbound||Qt(t.values[r],n.keyPath,i))}else{c=nr(l,t.values[r]);const n=h.fire.call(u,c,i,l,e);if(n){const e=t.values[r];Object.keys(n).forEach((t=>{Kt(e,t)?e[t]=n[t]:Qt(e,t,n[t])}))}}return u}));return i.mutate(t).then((({failures:e,results:i,numFailures:n,lastResult:s})=>{for(let n=0;r.length>n;++n){var o=(i||r)[n],h=l[n];null==o?h.onerror&&h.onerror(e[n]):h.onsuccess&&h.onsuccess("put"===t.type&&a[n]?t.values[n]:o)}return{failures:e,results:i,numFailures:n,lastResult:s}})).catch((t=>(l.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}));throw Error("Keys missing")}}}}})};function sr(t,e,i){try{if(!e)return null;if(t.length>e.keys.length)return null;var n=[];for(let r=0,s=0;e.keys.length>r&&t.length>s;++r)0===fn(e.keys[r],t[s])&&(n.push(i?oe(e.values[r]):e.values[r]),++s);return n.length===t.length?n:null}catch(t){return null}}const or={stack:"dbcore",level:-1,create:t=>({table:e=>{const i=t.table(e);return{...i,getMany:t=>{var e;return t.cache?(e=sr(t.keys,t.trans._cache,"clone"===t.cache))?oi.resolve(e):i.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?oe(e):e},e))):i.getMany(t)},mutate:t=>("add"!==t.type&&(t.trans._cache=null),i.mutate(t))}}})};function hr(t){return!("from"in t)}const ar=function(t,e){var i;if(!this)return i=new ar,t&&"d"in t&&Rt(i,t),i;Rt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function lr(t,e,i){var n=fn(e,i);if(!isNaN(n)){if(n>0)throw RangeError();if(hr(t))return Rt(t,{from:e,to:i,d:1});n=t.l;var r=t.r;if(0>fn(i,t.from))return n?lr(n,e,i):t.l={from:e,to:i,d:1,l:null,r:null},fr(t);if(fn(e,t.to)>0)return r?lr(r,e,i):t.r={from:e,to:i,d:1,l:null,r:null},fr(t);0>fn(e,t.from)&&(t.from=e,t.l=null,t.d=r?r.d+1:1),fn(i,t.to)>0&&(t.to=i,t.r=null,t.d=t.l?t.l.d+1:1),e=!t.r,n&&!t.l&&ur(t,n),r&&e&&ur(t,r)}}function ur(t,e){hr(e)||function t(e,{from:i,to:n,l:r,r:s}){lr(e,i,n),r&&t(e,r),s&&t(e,s)}(t,e)}function cr(t){let e=hr(t)?null:{s:0,n:t};return{next(t){for(var i=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,i)for(;e.n.l&&0>fn(t,e.n.from);)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!i||0>=fn(t,e.n.to))return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function fr(t){var e,i,n,r;(r=(r=((null==(r=t.r)?void 0:r.d)||0)-((null==(r=t.l)?void 0:r.d)||0))>1?"r":-1>r?"l":"")&&(e="r"==r?"l":"r",i={...t},t.from=(n=t[r]).from,t.to=n.to,t[r]=n[r],i[r]=n[e],(t[e]=i).d=pr(i)),t.d=pr(t)}function pr({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Ft(ar.prototype,{add(t){return ur(this,t),this},addKey(t){return lr(this,t,t),this},addKeys(t){return t.forEach((t=>lr(this,t,t))),this},[le](){return cr(this)}});const dr={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,i=new ar(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const r=t.table(n),s=r.schema,o=s.primaryKey,{extractKey:h,outbound:a}=o,l={...r,mutate:t=>{var o=t.trans;const h=o.mutatedParts||(o.mutatedParts={}),a=t=>h[t=`idb://${e}/${n}/`+t]||(h[t]=new ar),l=a(""),u=a(":dels"),c=t.type;let[f,p]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:50>t.values.length?[[],t.values]:[];const d=t.trans._cache;return r.mutate(t).then((t=>{var e,n,r,o;return zt(f)?("delete"!==c&&(f=t.results),l.addKeys(f),(e=sr(f,d))||"add"===c||u.addKeys(f),(e||p)&&(n=a,r=e,o=p,s.indexes.forEach((function(t){const e=n(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const s=i=>t.multiEntry&&zt(i)?i.forEach((t=>e.addKey(t))):e.addKey(i);(r||o).forEach(((t,e)=>{var n=r&&i(r[e]);0!==fn(n,e=o&&i(o[e]))&&(null!=n&&s(n),null!=e)&&s(e)}))})))):f?(u.add(e={from:f.lower,to:f.upper}),l.add(e)):(l.add(i),u.add(i),s.indexes.forEach((t=>a(t.name).add(i)))),t}))}};var u=({query:{index:e,range:i}})=>[e,new ar(null!=(e=i.lower)?e:t.MIN_KEY,null!=(e=i.upper)?e:t.MAX_KEY)];const c={get:t=>[o,new ar(t.key)],getMany:t=>[o,(new ar).addKeys(t.keys)],count:u,query:u,openCursor:u};return At(c).forEach((t=>{l[t]=function(s){const o=ii.subscr;if(o){var l=t=>o[t=`idb://${e}/${n}/`+t]||(o[t]=new ar);const p=l(""),d=l(":dels");var[u,f]=c[t](s);if(l(u.name||"").add(f),!u.isPrimaryKey){if("count"!==t){const e="query"===t&&a&&s.values&&r.query({...s,values:!1});return r[t].apply(this,arguments).then((i=>{if("query"===t){if(a&&s.values)return e.then((({result:t})=>(p.addKeys(t),i)));var n=s.values?i.result.map(h):i.result;(s.values?p:d).addKeys(n)}else if("openCursor"===t){const t=i,e=s.values;return t&&Object.create(t,{key:{get:()=>(d.addKey(t.primaryKey),t.key)},primaryKey:{get(){var e=t.primaryKey;return d.addKey(e),e}},value:{get:()=>(e&&p.addKey(t.primaryKey),t.value)}})}return i}))}d.add(i)}}return r[t].apply(this,arguments)}})),l}}}};class yr{constructor(t,e){this._middlewares={},this.verno=0;var i,n,r,s,o,h=(this._options=e={addons:yr.addons,autoOpen:!0,indexedDB:(h=yr.dependencies).indexedDB,IDBKeyRange:h.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange},e).addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new oi((t=>{a.dbReadyResolve=t})),a.openCanceller=new oi(((t,e)=>{a.cancelOpen=e})),this._state=a,this.name=t,this.on=nn(this,"populate","blocked","versionchange","close",{ready:[je,Ee]}),this.on.ready.subscribe=Jt(this.on.ready.subscribe,(t=>(e,i)=>{yr.vip((()=>{var n=this._state;if(n.openComplete)n.dbOpenError||oi.resolve().then(e),i&&t(e);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(e),i&&t(e);else{t(e);const n=this;i||t((function t(){n.on.ready.unsubscribe(e),n.on.ready.unsubscribe(t)}))}}))})),this.Collection=(i=this,rn(yn.prototype,(function(t,e){this.db=i;let n=Qi,r=null;if(e)try{n=e()}catch(t){r=t}var s=(t=(e=t._ctx).table).hook.reading.fire;this._ctx={table:t,index:e.index,isPrimKey:!e.index||t.schema.primKey.keyPath&&e.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:e.or,valueMapper:s!==Te?s:null}}))),this.Table=(n=this,rn(en.prototype,(function(t,e,i){this.db=n,this._tx=i,this.name=t,this.schema=e,this.hook=n._allTables[t]?n._allTables[t].hook:nn(null,{creating:[Ae,Ee],reading:[De,Te],updating:[Re,Ee],deleting:[ze,Ee]})}))),this.Transaction=(r=this,rn(En.prototype,(function(t,e,i,n,s){this.db=r,this.mode=t,this.storeNames=e,this.schema=i,this.chromeTransactionDurability=n,this.idbtrans=null,this.on=nn(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new oi(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),Fi(t)}))}))),this.Version=(s=this,rn(qn.prototype,(function(t){this.db=s,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(o=this,rn(Sn.prototype,(function(t,e,i){this.db=o,this._ctx={table:t,index:":id"===e?null:e,or:i};const n=o._deps.indexedDB;if(!n)throw new Be.MissingAPI;this._cmp=this._ascending=n.cmp.bind(n),this._descending=(t,e)=>n.cmp(e,t),this._max=(t,e)=>n.cmp(t,e)>0?t:e,this._min=(t,e)=>0>n.cmp(t,e)?t:e,this._IDBKeyRange=o._deps.IDBKeyRange}))),this.on("versionchange",(t=>{console.warn(t.newVersion>0?`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`:`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{console.warn(!t.newVersion||t.oldVersion>t.newVersion?`Dexie.delete('${this.name}') was blocked`:`Upgrade '${this.name}' blocked by other connection holding version `+t.oldVersion/10)})),this._maxKey=An(e.IDBKeyRange),this._createTransaction=(t,e,i,n)=>new this.Transaction(t,e,i,this._options.chromeTransactionDurability,n),this._fireOnBlocked=t=>{this.on("blocked").fire(t),Ii.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(ir),this.use(rr),this.use(dr),this.use(or),this.vip=Object.create(this,{_vip:{value:!0}}),h.forEach((t=>t(this)))}version(t){if(isNaN(t)||.1>t)throw new Be.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,i=e.filter((e=>e._cfg.version===t))[0];return i||(i=new this.Version(t),e.push(i),e.sort(Vn),i.stores({}),this._state.autoSchema=!1),i}_whenReady(t){return this.idbdb&&(this._state.openComplete||ii.letThrough||this._vip)?t():new oi(((t,e)=>{if(this._state.openComplete)return e(new Be.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new Be.DatabaseClosed);this.open().catch(Ee)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:i,name:n}){n&&this.unuse({stack:t,name:n});var r=this._middlewares[t]||(this._middlewares[t]=[]);return r.push({stack:t,create:e,level:null==i?10:i,name:n}),r.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:i}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>i?t.create!==i:!!e&&t.name!==e))),this}open(){return Qn(this)}_close(){const t=this._state;var e=Ii.indexOf(this);if(e>=0&&Ii.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}t.dbReadyPromise=new oi((e=>{t.dbReadyResolve=e})),t.openCanceller=new oi(((e,i)=>{t.cancelOpen=i}))}close(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Be.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new oi(((i,n)=>{var r=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=wi((()=>{var t,e,n;[{indexedDB:t,IDBKeyRange:e},n]=[this._deps,this.name],Hn(t)||n===qi||Zn(t,e).delete(n).catch(Ee),i()})),t.onerror=kn(n),t.onblocked=this._fireOnBlocked};if(t)throw new Be.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(r):r()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return At(this._allTables).map((t=>this._allTables[t]))}transaction(){var t=function(t,e,i){var n=arguments.length;if(2>n)throw new Be.InvalidArgument("Too few arguments");for(var r=Array(n-1);--n;)r[n-1]=arguments[n];return i=r.pop(),[t,ie(r),i]}.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,i){let n=ii.trans;n&&n.db===this&&-1===t.indexOf("!")||(n=null);const r=-1!==t.indexOf("?");let s,o;t=t.replace("!","").replace("?","");try{if(o=e.map((t=>{if("string"!=typeof(t=t instanceof this.Table?t.name:t))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==t||t===Zi)s=Zi;else{if("rw"!=t&&t!=Hi)throw new Be.InvalidArgument("Invalid transaction mode: "+t);s=Hi}if(n){if(n.mode===Zi&&s===Hi){if(!r)throw new Be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&o.forEach((t=>{if(n&&-1===n.storeNames.indexOf(t)){if(!r)throw new Be.SubTransaction("Table "+t+" not included in parent transaction.");n=null}})),r&&n&&!n.active&&(n=null)}}catch(i){return n?n._promise(null,((t,e)=>{e(i)})):Fi(i)}const h=function t(e,i,n,r,s){return oi.resolve().then((()=>{var o=ii.transless||ii;const h=e._createTransaction(i,n,e._dbSchema,r);if(o={trans:h,transless:o},r)h.idbtrans=r.idbtrans;else try{h.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Ce.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>t(e,i,n,null,s)))):Fi(o)}const a=pe(s);let l;return a&&$i(),o=oi.follow((()=>{var t;(l=s.call(h,h))&&(a?(t=Bi.bind(null,null),l.then(t,t)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=tr(l)))}),o),(l&&"function"==typeof l.then?oi.resolve(l).then((t=>h.active?t:Fi(new Be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):o.then((()=>l))).then((t=>(r&&h._resolve(),h._completion.then((()=>t))))).catch((t=>(h._reject(t),Fi(t))))}))}.bind(null,this,s,o,n,i);return n?n._promise(s,h,"lock"):ii.trans?Oi(ii.transless,(()=>this._whenReady(h))):this._whenReady(h)}table(t){if(Kt(this._allTables,t))return this._allTables[t];throw new Be.InvalidTable(`Table ${t} does not exist`)}}class vr{constructor(t){this._subscribe=t}subscribe(t,e,i){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:i})}["undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable"](){return this}}function mr(t,e){return At(e).forEach((i=>{ur(t[i]||(t[i]=new ar),e[i])})),t}let gr;try{gr={indexedDB:Ot.indexedDB||Ot.mozIndexedDB||Ot.webkitIndexedDB||Ot.msIndexedDB,IDBKeyRange:Ot.IDBKeyRange||Ot.webkitIDBKeyRange}}catch(Br){gr={indexedDB:null,IDBKeyRange:null}}const wr=yr;function br(t){var e=_r;try{_r=!0,Pn.storagemutated.fire(t)}finally{_r=e}}Ft(wr,{...ne,delete:t=>new wr(t,{addons:[]}).delete(),exists:t=>new wr(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return({indexedDB:e,IDBKeyRange:i}=wr.dependencies),(Hn(e)?Promise.resolve(e.databases()).then((t=>t.map((t=>t.name)).filter((t=>t!==qi)))):Zn(e,i).toCollection().primaryKeys()).then(t)}catch(t){return Fi(new Be.MissingAPI)}var e,i},defineClass:()=>function(t){Rt(this,t)},ignoreTransaction:t=>ii.trans?Oi(ii.transless,t):t(),vip:Un,async:function(t){return function(){try{var e=tr(t.apply(this,arguments));return e&&"function"==typeof e.then?e:oi.resolve(e)}catch(e){return Fi(e)}}},spawn:function(t,e,i){try{var n=tr(t.apply(i,e||[]));return n&&"function"==typeof n.then?n:oi.resolve(n)}catch(t){return Fi(t)}},currentTransaction:{get:()=>ii.trans||null},waitFor:function(t,e){return t=oi.resolve("function"==typeof t?wr.ignoreTransaction(t):t).timeout(e||6e4),ii.trans?ii.trans.waitFor(t):t},Promise:oi,debug:{get:()=>de,set:t=>{ye(t,"dexie"===t?()=>!0:Ji)}},derive:Vt,extend:Rt,props:Ft,override:Jt,Events:nn,on:Pn,liveQuery:function(t){return new vr((e=>{const i=pe(t);let n=!1,r={},s={};const o={get closed(){return n},unsubscribe:()=>{n=!0,Pn.storagemutated.unsubscribe(u)}};e.start&&e.start(o);let h=!1,a=!1;function l(){return At(s).some((t=>r[t]&&function(t,e){var i=cr(e);let n=i.next();if(!n.done){let e=n.value;var r=cr(t);let s=r.next(e.from),o=s.value;for(;!n.done&&!s.done;){if(0>=fn(o.from,e.to)&&fn(o.to,e.from)>=0)return!0;0>fn(e.from,o.from)?e=(n=i.next(o.from)).value:o=(s=r.next(e.from)).value}}return!1}(r[t],s[t])))}const u=t=>{mr(r,t),l()&&c()},c=()=>{if(!h&&!n){r={};const d={};var f,p;f=d,i&&$i(),p=()=>Ci(t,{subscr:f,trans:null}),p=ii.trans?Oi(ii.transless,p):p(),i&&p.then(Bi,Bi),a||(Pn($n,u),a=!0),h=!0,Promise.resolve(p).then((t=>{h=!1,n||(l()?c():(r={},s=d,e.next&&e.next(t)))}),(t=>{h=!1,e.error&&e.error(t),o.unsubscribe()}))}};return c(),o}))},extendObservabilitySet:mr,getByKeyPath:Ut,setByKeyPath:Qt,delByKeyPath:function(t,e){"string"==typeof e?Qt(t,e,void 0):"length"in e&&[].map.call(e,(function(e){Qt(t,e,void 0)}))},shallowClone:te,deepClone:oe,getObjectDiff:nr,cmp:fn,asap:Zt,minKey:-1/0,addons:[],connections:Ii,errnames:Ce,dependencies:gr,semVer:"3.2.2",version:"3.2.2".split(".").map((t=>parseInt(t))).reduce(((t,e,i)=>t+e/Math.pow(10,2*i)))}),wr.maxKey=An(wr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Pn($n,(t=>{if(!_r){let e;Gi?(e=document.createEvent("CustomEvent")).initCustomEvent(Bn,!0,!0,t):e=new CustomEvent(Bn,{detail:t}),_r=!0,dispatchEvent(e),_r=!1}})),addEventListener(Bn,(({detail:t})=>{_r||br(t)})));let _r=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel(Bn);Pn($n,(e=>{_r||t.postMessage(e)})),t.onmessage=t=>{t.data&&br(t.data)}}else"undefined"!=typeof self&&"undefined"!=typeof navigator&&(Pn($n,(t=>{try{_r||("undefined"!=typeof localStorage&&localStorage.setItem(Bn,JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:Bn,changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{t.key===Bn&&(t=JSON.parse(t.newValue))&&br(t.changedParts)})),Ki=self.document&&navigator.serviceWorker)&&Ki.addEventListener("message",(function({data:t}){t&&t.type===Bn&&br(t.changedParts)}));oi.rejectionMapper=function(t,e){return!t||t instanceof Me||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Pe[t.name]?t:(e=new Pe[t.name](e||t.message,t),"stack"in t&&Wt(e,"stack",{get:function(){return this.inner.stack}}),e)},ye(de,Ji);var Mr={allowDownsampling:!0};Sr.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(Sr.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),Sr.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(Sr.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),Sr.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},Sr.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(e){return e!=t}))},Sr.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},Sr.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(e){return e.call(t)}))},Sr.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw Error("No window is associated with the canvas");this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+t.devicePixelRatio+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},Sr.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},Sr.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},Sr.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()};var xr=Sr;function Sr(t,e){var i=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return i._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}function kr(t,e){var i={0:[]};i[1]=[t.lineWidth,t.lineWidth],i[2]=[2*t.lineWidth,2*t.lineWidth],i[3]=[6*t.lineWidth,6*t.lineWidth],i[4]=[t.lineWidth,4*t.lineWidth],t.setLineDash(i[e])}function Cr(t,e,i,n){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function $r(t,e){if(!t)throw Error("Assertion failed"+(e?": "+e:""))}function Br(t){if(void 0===t)throw Error("Value is undefined");return t}function Pr(t){if(null===t)throw Error("Value is null");return t}function Er(t){return Pr(Br(t))}var Tr={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Dr(t){return 0>t?0:t>255?255:Math.round(t)||0}function Or(t){return t>0&&0>=t||0>t?0:t>1?1:Math.round(1e4*t)/1e4}var Ar=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,zr=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Rr=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Lr=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function jr(t){var e;if((t=t.toLowerCase())in Tr&&(t=Tr[t]),e=Lr.exec(t)||Rr.exec(t))return[Dr(parseInt(e[1],10)),Dr(parseInt(e[2],10)),Dr(parseInt(e[3],10)),Or(5>e.length?1:parseFloat(e[4]))];if(e=zr.exec(t))return[Dr(parseInt(e[1],16)),Dr(parseInt(e[2],16)),Dr(parseInt(e[3],16)),1];if(e=Ar.exec(t))return[Dr(17*parseInt(e[1],16)),Dr(17*parseInt(e[2],16)),Dr(17*parseInt(e[3],16)),1];throw Error("Cannot parse color: ".concat(t))}function Kr(t){return t=jr(t),{t:"rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"),i:.199*t[0]+.687*t[1]+.114*t[2]>160?"black":"white"}}var Fr=function(t,e){return(Fr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}))(t,e)};function Nr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function i(){this.constructor=t}Fr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Wr=function(){return(Wr=Object.assign||function(t){for(var e,i=1,n=arguments.length;n>i;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Vr(t,e,i){if(i||2===arguments.length)for(var n,r=0,s=e.length;s>r;r++)!n&&r in e||((n=n||Array.prototype.slice.call(e,0,r))[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}Gr.prototype.u=function(t,e,i){this.h.push({o:t,l:e,v:!0===i})},Gr.prototype._=function(t){var e=this.h.findIndex((function(e){return t===e.o}));e>-1&&this.h.splice(e,1)},Gr.prototype.M=function(t){this.h=this.h.filter((function(e){return e.l!==t}))},Gr.prototype.m=function(t,e){var i=Vr([],this.h,!0);this.h=this.h.filter((function(t){return!t.v})),i.forEach((function(i){return i.o(t,e)}))},Gr.prototype.p=function(){return this.h.length>0},Gr.prototype.g=function(){this.h=[]};var Ir=Gr;function Gr(){this.h=[]}function Xr(t){for(var e=[],i=1;arguments.length>i;i++)e[i-1]=arguments[i];for(var n=0,r=e;r.length>n;n++){var s,o=r[n];for(s in o)void 0!==o[s]&&("object"!=typeof o[s]||void 0===t[s]?t[s]=o[s]:Xr(t[s],o[s]))}return t}function Yr(t){return"number"==typeof t&&isFinite(t)}function Jr(t){return"number"==typeof t&&t%1==0}function qr(t){return"string"==typeof t}function Zr(t){return"boolean"==typeof t}function Hr(t){var e,i,n,r=t;if(!r||"object"!=typeof r)return r;for(i in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(i)&&(e[i]=(n=r[i])&&"object"==typeof n?Hr(n):n);return e}function Ur(t){return null!==t}function Qr(t){return null===t?void 0:t}var ts="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function es(t,e,i){return void 0===e&&(e=ts),"".concat(i=void 0!==i?"".concat(i," "):"").concat(t,"px ").concat(e)}ls.prototype.W=function(){var t=this.k,e=this.R(),i=this.I();return t.S===e&&t.D===i||(t.S=e,t.D=i,t.T=es(e,i),t.O=Math.floor(e/3.5),t.B=t.O,t.L=Math.max(Math.ceil(e/2-t.C/2),0),t.F=Math.ceil(e/2+t.C/2),t.V=Math.round(e/10)),t.A=this.j(),this.k},ls.prototype.j=function(){return this.P.W().layout.textColor},ls.prototype.R=function(){return this.P.W().layout.fontSize},ls.prototype.I=function(){return this.P.W().layout.fontFamily};var is,ns=ls,rs=(as.prototype.U=function(t){this.q=t},as.prototype.H=function(t,e,i,n){this.q.forEach((function(r){t.save(),r.H(t,e,i,n),t.restore()}))},as),ss=(be=(hs.prototype.H=function(t,e,i,n){t.save(),t.scale(e,e),this.Y(t,i,n),t.restore()},hs.prototype.$=function(t,e,i,n){t.save(),t.scale(e,e),this.K(t,i,n),t.restore()},hs.prototype.K=function(t,e,i){},hs),Nr(os,is=be),os.prototype.Z=function(t){this.X=t},os.prototype.Y=function(t){var e,i,n;null!==this.X&&null!==this.X.J&&(e=this.X.J,n=function(n){t.beginPath();for(var r=e.to-1;r>=e.from;--r){var s=i.G[r];t.moveTo(s.tt,s.it),t.arc(s.tt,s.it,n,0,2*Math.PI)}t.fill()},t.fillStyle=(i=this.X).nt,n(i.st+2),t.fillStyle=i.ht,n(i.st))},os);function os(){var t=null!==is&&is.apply(this,arguments)||this;return t.X=null,t}function hs(){}function as(){this.q=[]}function ls(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}function us(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var cs={from:0,to:1},fs=(ms.prototype.vt=function(t){var e=this.P._t();e.length!==this.ot.length&&(this.lt=e.map(us),this.ot=this.lt.map((function(t){var e=new ss;return e.Z(t),e})),this.ut.U(this.ot)),this.ft=!0},ms.prototype.dt=function(t,e,i){return this.ft&&(this.wt(t),this.ft=!1),this.ut},ms.prototype.wt=function(t){var e=this,i=this.P._t(),n=this.ct.Mt(),r=this.P.bt();i.forEach((function(i,s){s=e.lt[s];var o,h=i.gt(n);null!==h&&i.yt()?(o=Pr(i.kt()),s.ht=h.Nt,s.st=h.st,s.G[0].et=h.et,s.G[0].it=i.Ct().xt(h.et,o.St),s.nt=null!=(i=h.Tt)?i:e.P.Dt(s.G[0].it/t),s.G[0].rt=n,s.G[0].tt=r.At(n),s.J=cs):s.J=null}))},ms),ps=(vs.prototype.H=function(t,e,i,n){var r,s,o,h,a,l,u;null!==this.Bt&&(r=this.Bt.Et.yt,(a=this.Bt.Lt.yt)||r)&&(t.save(),l=Math.round(this.Bt.tt*e),s=Math.round(this.Bt.it*e),o=Math.ceil(this.Bt.Ft*e),h=Math.ceil(this.Bt.Ot*e),t.lineCap="butt",a&&l>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*e),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,kr(t,this.Bt.Lt.Pt),a=l,l=h,(h=t).beginPath(),h.moveTo(a+(u=h.lineWidth%2?.5:0),0),h.lineTo(a+u,l),h.stroke()),r&&s>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*e),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,kr(t,this.Bt.Et.Pt),Cr(t,s,0,o)),t.restore())},vs),ds=(ys.prototype.vt=function(){this.ft=!0},ys.prototype.dt=function(t,e){return this.ft&&(this.wt(),this.ft=!1),this.zt},ys.prototype.wt=function(){var t=this.Rt.yt(),e=Pr(this.Rt.It()),i=e.jt().W().crosshair,n=this.Wt;n.Et.yt=t&&this.Rt.qt(e),n.Lt.yt=t&&this.Rt.Ut(),n.Et.Vt=i.horzLine.width,n.Et.Pt=i.horzLine.style,n.Et.A=i.horzLine.color,n.Lt.Vt=i.vertLine.width,n.Lt.Pt=i.vertLine.style,n.Lt.A=i.vertLine.color,n.Ft=e.Ht(),n.Ot=e.Yt(),n.tt=this.Rt.$t(),n.it=this.Rt.Kt()},ys);function ys(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new ps(this.Wt),this.Rt=t}function vs(t){this.Bt=t}function ms(t,e){this.ut=new rs,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=e,this.ut.U(this.ot)}function gs(t,e,i){t.save(),t.scale(e,e),i(),t.restore()}function ws(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function bs(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";var h=t.createLinearGradient(0,0,0,r);h.addColorStop(0,s),h.addColorStop(1,o),t.fillStyle=h,t.fillRect(e,i,n,r),t.restore()}Os.prototype.Z=function(t,e){this.Bt=t,this.Xt=e},Os.prototype.H=function(t,e,i,n,r,s){var o,h,a,l,u,c,f,p,d,y,v,m,g;this.Bt.yt&&(t.font=e.T,d=this.Bt.Zt||!this.Bt.Jt?e.C:0,v=e.N,m=e.O,o=e.B,y=e.L,p=e.F,i=Math.ceil(i.Qt(t,h=this.Bt.Gt)),a=e.V,m=Math.ceil(.5*(e=e.S+m+o)),i=v+i+y+p+d,l=this.Xt.ti,this.Xt.ii&&(l=this.Xt.ii),m=(l=Math.round(l))-m,c=m+e,r=(e="right"===r)?n:0,n=Math.ceil(n*s),g=r,t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",h)&&(f=e?(u=r-d,(g=r-i)+p):(g=r+i,u=r+d,r+v+d+y),p=Math.max(1,Math.floor(s)),i=Math.max(1,Math.floor(v*s)),r=e?n:0,d=Math.round(m*s),y=Math.round(g*s),m=(v=Math.round(l*s)-Math.floor(.5*s))+p+(v-d),g=Math.round(u*s),t.save(),t.beginPath(),t.moveTo(r,d),t.lineTo(y,d),t.lineTo(y,m),t.lineTo(r,m),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(e?n-i:0,d,i,m-d),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(r,v,g-r,p)),t.textAlign="left",t.fillStyle=this.Xt.A,gs(t,s,(function(){t.fillText(h,f,c-o-a)})),t.restore())},Os.prototype.Yt=function(t,e){return this.Bt.yt?t.S+t.O+t.B:0};var _s,Ms=Os,xs=(ne=(Ds.prototype.Gt=function(){return this.ui(),this.si.Gt},Ds.prototype.ti=function(){return this.ui(),this.ni.ti},Ds.prototype.vt=function(){this.ft=!0},Ds.prototype.Yt=function(t,e){return void 0===e&&(e=!1),Math.max(this.ri.Yt(t,e),this.ei.Yt(t,e))},Ds.prototype.ai=function(){return this.ni.ii||0},Ds.prototype.oi=function(t){this.ni.ii=t},Ds.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},Ds.prototype.fi=function(){return this.ui(),this.si.yt},Ds.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},Ds.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},Ds.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},Ds),Nr(Ts,_s=ne),Ts.prototype.vi=function(t,e,i){t.yt=!1;var n,r=this.Rt.W().horzLine;r.labelVisible&&(n=this._i.kt(),this.Rt.yt())&&!this._i.wi()&&null!==n&&(r=Kr(r.labelBackgroundColor),i.t=r.t,i.A=r.i,r=this.di(this._i),i.ti=r.ti,t.Gt=this._i.Mi(r.et,n),t.yt=!0)},Ts),Ss=/[1-9]/g,ks=(Es.prototype.Z=function(t){this.Bt=t},Es.prototype.H=function(t,e,i){var n,r,s,o,h,a,l,u,c=this;null!==this.Bt&&!1!==this.Bt.yt&&0!==this.Bt.Gt.length&&(t.font=e.T,0>=(l=Math.round(e.bi.Qt(t,this.Bt.Gt,Ss)))||(t.save(),h=(l+=2*(n=e.mi))/2,o=this.Bt.Ht,0>(r=Math.floor((s=this.Bt.ti)-h)+.5)?r=Math.floor((s+=Math.abs(0-r))-h)+.5:r+l>o&&(r=Math.floor((s-=Math.abs(o-(r+l)))-h)+.5),o=r+l,s=0+e.N+e.O+e.S+e.B,t.fillStyle=this.Bt.t,t.fillRect(h=Math.round(r*i),l=Math.round(0*i),(o=Math.round(o*i))-h,(a=Math.round(s*i))-l),o=Math.round(this.Bt.ti*i),a=Math.round(((h=l)+e.N+e.C)*i),t.fillStyle=this.Bt.A,l=Math.max(1,Math.floor(i)),t.fillRect(o-Math.floor(.5*i),h,l,a-h),u=s-e.V-e.B,t.textAlign="left",t.fillStyle=this.Bt.A,gs(t,i,(function(){t.fillText(Pr(c.Bt).Gt,r+n,u)})),t.restore()))},Es),Cs=(Ps.prototype.vt=function(){this.ft=!0},Ps.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},Ps.prototype.wt=function(){var t,e,i,n=this.Wt,r=(n.yt=!1,this.ct.W().vertLine);r.labelVisible&&!(t=this.pi.bt()).wi()&&(e=t.gi(this.ct.Mt()),n.Ht=t.Ht(),(i=this.di()).rt)&&(n.ti=i.ti,n.Gt=t.yi(Pr(e)),n.yt=!0,i=Kr(r.labelBackgroundColor),n.t=i.t,n.A=i.i)},Ps),$s=(Bs.prototype.xi=function(){return this.Ni},Bs.prototype.Ci=function(t){this.Ni=t},Bs.prototype.Ct=function(){return this.ki},Bs.prototype.Si=function(t){this.ki=t},Bs.prototype.Ti=function(){return[]},Bs.prototype.yt=function(){return!0},Bs);function Bs(){this.ki=null,this.Ni=0}function Ps(t,e,i){this.ft=!0,this.zt=new ks,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=e,this.di=i}function Es(){this.Bt=null}function Ts(t,e,i){var n=_s.call(this)||this;return n.Rt=t,n._i=e,n.di=i,n}function Ds(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||Ms)(this.si,this.ni),this.ei=new(t||Ms)(this.hi,this.ni)}function Os(t,e){this.Z(t,e)}Nr(Rs,As=$s),Rs.prototype.W=function(){return this.zi},Rs.prototype.Yi=function(t,e){this.Pi=t,this.Wi=e},Rs.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},Rs.prototype.Ki=function(){return this.Pi},Rs.prototype.Xi=function(){return this.Wi},Rs.prototype.Zi=function(t,e,i){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(t,e,i)},Rs.prototype.Mt=function(){return this.Bi},Rs.prototype.$t=function(){return this.Oi},Rs.prototype.Kt=function(){return this.Vi},Rs.prototype.yt=function(){return this.Li},Rs.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},Rs.prototype.tn=function(t){return null!==this.Di?[this.Hi,this.Ri]:[]},Rs.prototype.qt=function(t){return t===this.Di&&this.zi.horzLine.visible},Rs.prototype.Ut=function(){return this.zi.vertLine.visible},Rs.prototype.nn=function(t,e){this.Li&&this.Di===t||this.Ei.clear();var i=[];return this.Di===t&&i.push(this.sn(this.Ei,e,this.Ii)),i},Rs.prototype.Ti=function(){return this.Li?[this.Ui]:[]},Rs.prototype.It=function(){return this.Di},Rs.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach((function(t){return t.vt()})),this.Ui.vt(),this.Ri.vt()},Rs.prototype.rn=function(t){return t&&!t.ji().wi()?t.ji():null},Rs.prototype.Ji=function(t,e,i){this.en(t,e,i)&&this.hn()},Rs.prototype.en=function(t,e,i){var n=this.Oi,r=this.Vi,s=this.Ai,o=this.Bi,h=this.Di,a=this.rn(i);this.Bi=t,this.Oi=isNaN(t)?NaN:this.pi.bt().At(t),this.Di=i,t=null!==a?a.kt():null;return null!==a&&null!==t?(this.Ai=e,this.Vi=a.xt(e,t)):(this.Ai=NaN,this.Vi=NaN),n!==this.Oi||r!==this.Vi||o!==this.Bi||s!==this.Ai||h!==this.Di},Rs.prototype.Qi=function(){var t=0===(t=this.pi._t().map((function(t){return t.an().un()})).filter(Ur)).length?null:Math.max.apply(Math,t);this.Bi=null!==t?t:NaN},Rs.prototype.sn=function(t,e,i){var n=t.get(e);return void 0===n&&(n=new xs(this,e,i),t.set(e,n)),n};var As,zs=Rs;function Rs(t,e){var i,n,r=As.call(this)||this;return r.Di=null,r.Ai=NaN,r.Bi=0,r.Li=!0,r.Ei=new Map,r.Fi=!1,r.Oi=NaN,r.Vi=NaN,r.Pi=NaN,r.Wi=NaN,r.pi=t,r.zi=e,r.Ri=new fs(t,r),r.Ii=(i=function(){return r.Ai},n=function(){return r.Vi},function(t){var e=n(),s=i();return t===Pr(r.Di).ji()?{et:s,ti:e}:(s=Pr(t.kt()),{et:t.qi(e,s),ti:e})}),r.Ui=new Cs(r,t,(function(){return{rt:r.pi.bt().gi(r.Bi),ti:r.$t()}})),r.Hi=new ds(r),r}function Ls(t){return"left"===t||"right"===t}Ks.prototype.cn=function(t,e){var i=void 0===(i=this.on.get(t))?e:{vn:Math.max(i.vn,e.vn),_n:i._n||e._n};this.on.set(t,i)},Ks.prototype.dn=function(){return this.fn},Ks.prototype.wn=function(t){return void 0===(t=this.on.get(t))?{vn:this.fn}:{vn:Math.max(this.fn,t.vn),_n:t._n}},Ks.prototype.Mn=function(){this.ln=[{bn:0}]},Ks.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},Ks.prototype.pn=function(){this.ln=[{bn:4}]},Ks.prototype.gn=function(t){this.ln.push({bn:2,St:t})},Ks.prototype.yn=function(t){this.ln.push({bn:3,St:t})},Ks.prototype.kn=function(){return this.ln},Ks.prototype.Nn=function(t){for(var e=this,i=0,n=t.ln;n.length>i;i++){this.xn(n[i])}this.fn=Math.max(this.fn,t.fn),t.on.forEach((function(t,i){e.cn(i,t)}))},Ks.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}};var js=Ks;function Ks(t){this.on=new Map,this.ln=[],this.fn=t}function Fs(t,e){if(!Yr(t))return"n/a";if(!Jr(e))throw new TypeError("invalid length");if(0>e||e>16)throw new TypeError("invalid length");return 0===e?""+t:("0000000000000000"+t).slice(-e)}Ys.prototype.format=function(t){return(0>t?"−":"")+this.Tn(t=Math.abs(t))},Ys.prototype.Sn=function(){if((this.Dn=0)<this._i&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},Ys.prototype.Tn=function(t){var e=this._i/this.Cn,i=Math.floor(t),n="",r=void 0!==this.Dn?this.Dn:NaN;return e>1?(e<=(t=+(Math.round(t*e)-i*e).toFixed(this.Dn))&&(t-=e,i+=1),n="."+Fs(+t.toFixed(this.Dn)*this.Cn,r)):(i=Math.round(i*e)/e,r>0&&(n="."+Fs(0,r))),i.toFixed(0)+n};var Ns,Ws=Ys,Vs=(Nr(Xs,Ns=Ws),Xs.prototype.format=function(t){return"".concat(Ns.prototype.format.call(this,t),"%")},Xs),Is=(Gs.prototype.format=function(t){var e="";return 0>t&&(e="-",t=-t),995>t?e+this.Bn(t):999995>t?e+this.Bn(t/1e3)+"K":999999995>t?e+this.Bn((t=1e3*Math.round(t/1e3))/1e6)+"M":e+this.Bn((t=1e6*Math.round(t/1e6))/1e9)+"B"},Gs.prototype.Bn=function(t){var e=Math.pow(10,this.An);return((t=Math.round(t*e)/e)>=1e-15&&1>t?t.toFixed(this.An).replace(/\.?0+$/,""):t+"").replace(/(\.[1-9]*)0+$/,(function(t,e){return e}))},Gs);function Gs(t){this.An=t}function Xs(t){return Ns.call(this,t=void 0===t?100:t)||this}function Ys(t,e){if(e=e||1,0>(t=Yr(t)&&Jr(t)?t:100))throw new TypeError("invalid base");this._i=t,this.Cn=e,this.Sn()}function Js(t,e,i,n){if(0!==e.length){t.moveTo(e[n.from].tt,e[n.from].it);for(var r=n.from+1;n.to>r;++r){var s=e[r];1===i&&t.lineTo(s.tt,e[r-1].it),t.lineTo(s.tt,s.it)}}}Nr(so,Us=be),so.prototype.Z=function(t){this.X=t},so.prototype.Y=function(t){var e,i;null!==this.X&&0!==this.X.G.length&&null!==this.X.J&&(t.lineCap="butt",t.lineJoin="round",t.lineWidth=this.X.Vt,kr(t,this.X.Pt),t.lineWidth=1,t.beginPath(),1===this.X.G.length?(t.moveTo((e=this.X.G[0]).tt-(i=this.X.Ln/2),this.X.En),t.lineTo(e.tt-i,e.it),t.lineTo(e.tt+i,e.it),t.lineTo(e.tt+i,this.X.En)):(t.moveTo(this.X.G[this.X.J.from].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),Js(t,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(t.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.En))),t.closePath(),t.fillStyle=this.On(t),t.fill())};var qs,Zs,Hs,Us,Qs=(Nr(ro,Hs=rh=so),ro.prototype.On=function(t){var e=this.X;return(t=t.createLinearGradient(0,0,0,e.Vn)).addColorStop(0,e.Pn),t.addColorStop(1,e.Wn),t},ro),to=(Nr(no,Zs=be),no.prototype.Z=function(t){this.X=t},no.prototype.Y=function(t){var e;null!==this.X&&0!==this.X.G.length&&null!==this.X.J&&(t.lineCap="butt",t.lineWidth=this.X.Vt,kr(t,this.X.Pt),t.strokeStyle=this.zn(t),t.lineJoin="round",1===this.X.G.length?(t.beginPath(),t.moveTo((e=this.X.G[0]).tt-this.X.Ln/2,e.it),t.lineTo(e.tt+this.X.Ln/2,e.it),void 0!==e.A&&(t.strokeStyle=e.A),t.stroke()):this.Rn(t,this.X))},no.prototype.Rn=function(t,e){t.beginPath(),Js(t,e.G,e.Fn,e.J),t.stroke()},no),eo=(Nr(io,qs=to),io.prototype.Rn=function(t,e){var i=e.G,n=e.J,r=e.Fn,s=e.ht;if(0!==i.length&&null!==n){t.beginPath();var o=(t.moveTo((e=i[n.from]).tt,e.it),null!=(e=e.A)?e:s);t.strokeStyle=o;for(var h=function(e){t.stroke(),t.beginPath(),t.strokeStyle=e,o=e},a=n.from+1;n.to>a;++a){var l=i[a],u=i[a-1],c=null!=(c=l.A)?c:s;1===r&&(t.lineTo(l.tt,u.it),c!==o)&&(h(c),t.moveTo(l.tt,u.it)),t.lineTo(l.tt,l.it),1!==r&&c!==o&&(h(c),t.moveTo(l.tt,l.it))}t.stroke()}},io.prototype.zn=function(){return this.X.ht},io);function io(){return null!==qs&&qs.apply(this,arguments)||this}function no(){var t=null!==Zs&&Zs.apply(this,arguments)||this;return t.X=null,t}function ro(){return null!==Hs&&Hs.apply(this,arguments)||this}function so(){var t=null!==Us&&Us.apply(this,arguments)||this;return t.X=null,t}function oo(t,e,i,n,r){for(var s=(r=void 0===r?t.length:r)-(n=void 0===n?0:n);s>0;){var o=s>>1,h=n+o;i(t[h],e)?(n=h+1,s-=1+o):s=o}return n}function ho(t,e,i,n,r){for(var s=(r=void 0===r?t.length:r)-(n=void 0===n?0:n);s>0;){var o=s>>1,h=n+o;i(e,t[h])?s=o:(n=h+1,s-=1+o)}return n}function ao(t,e){return e>t.rt}function lo(t,e){return e.rt>t}function uo(t,e,i){var n=e.In(),r=(e=e.jn(),oo(t,n,ao)),s=ho(t,e,lo);return i?{from:r>0&&t.length>r&&t[r].rt>=n?r-1:r,to:s>0&&t.length>s&&e>=t[s-1].rt?s+1:s}:{from:r,to:s}}go.prototype.vt=function(t){this.qn=!0,"data"===t&&(this.Un=!0),"options"===t&&(this.Hn=!0)},go.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},go.prototype.ns=function(){this.$n=null},go.prototype.Qn=function(){var t,e,i=this.Kn.Ct(),n=this.Xn.bt();this.ns(),n.wi()||i.wi()||null!==(t=n.ss())&&0!==this.Kn.an().hs()&&null!==(e=this.Kn.kt())&&(this.$n=uo(this.Yn,t,this.Zn),this.rs(i,n,e.St))};var co,fo,po=(Nr(mo,fo=Mu=go),mo.prototype.rs=function(t,e,i){e.es(this.Yn,Qr(this.$n)),t.us(this.Yn,i,Qr(this.$n))},mo.prototype.os=function(t,e){return{rt:t,et:e,tt:NaN,it:NaN}},mo.prototype.ts=function(){},mo.prototype.Gn=function(){var t=this,e=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(i){return t.cs(i.vs,i.St[3],e)}))},mo),yo=(Nr(vo,co=po),vo.prototype.dt=function(t,e){var i;return this.Kn.yt()?(i=this.Kn.W(),this.Jn(),this._s.Z({Fn:i.lineType,G:this.Yn,Pt:i.lineStyle,Vt:i.lineWidth,Pn:i.topColor,Wn:i.bottomColor,En:t,Vn:t,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:i.lineType,G:this.Yn,ht:i.lineColor,Pt:i.lineStyle,Vt:i.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt):null},vo.prototype.cs=function(t,e){return this.os(t,e)},vo);function vo(t,e){return(t=co.call(this,t,e)||this).zt=new rs,t._s=new Qs,t.ds=new eo,t.zt.U([t._s,t.ds]),t}function mo(t,e){return fo.call(this,t,e,!0)||this}function go(t,e,i){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=e,this.Zn=i}Co.prototype.Z=function(t){this.Bt=t},Co.prototype.H=function(t,e,i,n){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=this.ps(e),this.Ms>=2&&Math.max(1,Math.floor(e))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(e)):this.Ms;for(var r=null,s=this.Ms>=this.bs&&this.Bt.ws>=Math.floor(1.5*e),o=this.Bt.J.from;this.Bt.J.to>o;++o){var h,a,l,u=this.Bt.an[o],c=(r!==u.A&&(t.fillStyle=u.A,r=u.A),Math.floor(.5*this.bs)),f=Math.round(u.tt*e),p=f-c,d=this.bs,y=p+d-1,v=Math.min(u.ys,u.ks),m=Math.max(u.ys,u.ks),g=(t.fillRect(p,v=Math.round(v*e)-c,d,m=Math.max((m=Math.round(m*e)+c)-v,this.bs)),Math.ceil(1.5*this.Ms));s&&(this.Bt.Ns&&(a=f-g,v+m-1<(l=(h=Math.max(v,Math.round(u.xs*e)-c))+d-1)&&(h=(l=v+m-1)-d+1),t.fillRect(a,h,p-a,l-h+1)),p=f+g,v+m-1<(l=(a=Math.max(v,Math.round(u.Cs*e)-c))+d-1)&&(a=(l=v+m-1)-d+1),t.fillRect(1+y,a,p-y,l-a+1))}}},Co.prototype.ps=function(t){var e=Math.floor(t);return Math.max(e,Math.floor((e=Pr(this.Bt).ws,Math.floor(.3*e*t))))};var wo,bo,_o=Co,Mo=(Nr(ko,bo=Mu),ko.prototype.rs=function(t,e,i){e.es(this.Yn,Qr(this.$n)),t.Ss(this.Yn,i,Qr(this.$n))},ko.prototype.Ts=function(t,e,i){return{rt:t,open:e.St[0],high:e.St[1],low:e.St[2],close:e.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},ko.prototype.Gn=function(){var t=this,e=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(i){return t.cs(i.vs,i,e)}))},ko),xo=(Nr(So,wo=Mo),So.prototype.dt=function(t,e){var i;return this.Kn.yt()?(i=this.Kn.W(),this.Jn(),i={an:this.Yn,ws:this.Xn.bt().ws(),Ns:i.openVisible,gs:i.thinBars,J:this.$n},this.zt.Z(i),this.zt):null},So.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){e.A=t.Kn.ls().As(e.rt).Ds}))},So.prototype.cs=function(t,e,i){return Wr(Wr({},this.Ts(t,e,i)),{A:i.As(t).Ds})},So);function So(){var t=null!==wo&&wo.apply(this,arguments)||this;return t.zt=new _o,t}function ko(t,e){return bo.call(this,t,e,!1)||this}function Co(){this.Bt=null,this.Ms=0,this.bs=0}function $o(t,e,i){return Math.min(Math.max(t,e),i)}function Bo(t){return t>0?Math.log(t)/Math.log(10):NaN}function Po(t){return(t=Math.ceil(t))%2!=0?t-1:t}function Eo(t){return(t=Math.ceil(t))%2==0?t-1:t}Nr(Xo,Ao=rh),Xo.prototype.On=function(t){var e=this.X,i=(t=t.createLinearGradient(0,0,0,e.Vn),$o(e.En/e.Vn,0,1));return t.addColorStop(0,e.Bs),t.addColorStop(i,e.Ls),t.addColorStop(i,e.Es),t.addColorStop(1,e.Fs),t};var To,Do,Oo,Ao,zo=Xo,Ro=(Nr(Go,Oo=to),Go.prototype.zn=function(t){var e=this.X,i=(t=t.createLinearGradient(0,0,0,e.Vn),$o(e.En/e.Vn,0,1));return t.addColorStop(0,e.Pn),t.addColorStop(i,e.Pn),t.addColorStop(i,e.Wn),t.addColorStop(1,e.Wn),t},Go),Lo=(Nr(Io,Do=po),Io.prototype.dt=function(t,e){var i,n,r;return this.Kn.yt()&&null!==(n=this.Kn.kt())?(i=this.Kn.W(),this.Jn(),n=this.Kn.Ct().xt(i.baseValue.price,n.St),r=this.Xn.bt().ws(),this.Os.Z({G:this.Yn,Bs:i.topFillColor1,Ls:i.topFillColor2,Es:i.bottomFillColor1,Fs:i.bottomFillColor2,Vt:i.lineWidth,Pt:i.lineStyle,Fn:0,En:n,Vn:t,J:this.$n,Ln:r}),this.Vs.Z({G:this.Yn,Pn:i.topLineColor,Wn:i.bottomLineColor,Vt:i.lineWidth,Pt:i.lineStyle,Fn:0,En:n,Vn:t,J:this.$n,Ln:r}),this.ut):null},Io.prototype.cs=function(t,e){return this.os(t,e)},Io),jo=(Vo.prototype.Z=function(t){this.Bt=t},Vo.prototype.H=function(t,e,i,n){var r,s,o;null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J&&(this.Ms=(s=e,2.5>(r=this.Bt.ws)||r>4?(o=Math.min(o=Math.floor(r*(o=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI))*s),r=Math.floor(r*s)),Math.max(Math.floor(s),o)):Math.floor(3*s)),this.Ms>=2&&Math.floor(e)%2!=this.Ms%2&&this.Ms--,r=this.Bt.an,this.Bt.Ps&&this.Ws(t,r,this.Bt.J,e),this.Bt.zs&&this.Rs(t,r,this.Bt.J,this.Bt.ws,e),s=this.Is(e),!this.Bt.zs||this.Ms>2*s)&&this.js(t,r,this.Bt.J,e)},Vo.prototype.Ws=function(t,e,i,n){if(null!==this.Bt)for(var r="",s=Math.min(Math.floor(n),Math.floor(this.Bt.ws*n)),o=Math.floor(.5*(s=Math.max(Math.floor(n),Math.min(s,this.Ms)))),h=null,a=i.from;i.to>a;a++){var l,u=((l=e[a]).qs!==r&&(t.fillStyle=l.qs,r=l.qs),Math.round(Math.min(l.xs,l.Cs)*n)),c=Math.round(Math.max(l.xs,l.Cs)*n),f=Math.round(l.ys*n),p=Math.round(l.ks*n),d=(l=Math.round(n*l.tt)-o)+s-1,y=(null!==h&&(l=Math.min(l=Math.max(h+1,l),d)),d-l+1);t.fillRect(l,f,y,u-f),t.fillRect(l,c+1,y,p-c),h=d}},Vo.prototype.Is=function(t){var e=(2*(e=Math.floor(+t))>=this.Ms&&(e=Math.floor(.5*(this.Ms-1))),Math.max(Math.floor(t),e));return this.Ms>2*e?e:Math.max(Math.floor(t),Math.floor(+t))},Vo.prototype.Rs=function(t,e,i,n,r){if(null!==this.Bt)for(var s="",o=this.Is(r),h=null,a=i.from;i.to>a;a++){var l=((f=e[a]).Tt!==s&&(t.fillStyle=f.Tt,s=f.Tt),Math.round(f.tt*r)-Math.floor(.5*this.Ms)),u=l+this.Ms-1,c=Math.round(Math.min(f.xs,f.Cs)*r),f=Math.round(Math.max(f.xs,f.Cs)*r);null!==h&&(l=Math.min(l=Math.max(h+1,l),u)),this.Bt.ws*r>2*o?(v=u-(d=l)+1,m=f-(y=c)+1,(p=t).fillRect(d+(g=o),y,v-2*g,g),p.fillRect(d+g,y+m-g,v-2*g,g),p.fillRect(d,y,g,m),p.fillRect(d+v-g,y,g,m)):t.fillRect(l,c,u-l+1,f-c+1),h=u}var p,d,y,v,m,g},Vo.prototype.js=function(t,e,i,n){if(null!==this.Bt)for(var r="",s=this.Is(n),o=i.from;i.to>o;o++){var h=e[o],a=Math.round(Math.min(h.xs,h.Cs)*n),l=Math.round(Math.max(h.xs,h.Cs)*n),u=Math.round(h.tt*n)-Math.floor(.5*this.Ms),c=u+this.Ms-1;h.A!==r&&(r=t.fillStyle=h=h.A),this.Bt.zs&&(u+=s,a+=s,c-=s,l-=s),a>l||t.fillRect(u,a,c-u+1,l-a+1)}},Vo),Ko=(Nr(Wo,To=Mo),Wo.prototype.dt=function(t,e){var i;return this.Kn.yt()?(i=this.Kn.W(),this.Jn(),i={an:this.Yn,ws:this.Xn.bt().ws(),Ps:i.wickVisible,zs:i.borderVisible,J:this.$n},this.zt.Z(i),this.zt):null},Wo.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){var i=t.Kn.ls().As(e.rt);e.A=i.Ds,e.qs=i.Us,e.Tt=i.Hs}))},Wo.prototype.cs=function(t,e,i){var n=i.As(t);return Wr(Wr({},this.Ts(t,e,i)),{A:n.Ds,qs:n.Us,Tt:n.Hs})},Wo),Fo=(No.prototype.Z=function(t){this.Bt=t,this.Ys=[]},No.prototype.H=function(t,e,i,n){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){this.Ys.length||this.$s(e);for(var r=Math.max(1,Math.floor(e)),s=Math.round(this.Bt.Ks*e)-Math.floor(r/2),o=s+r,h=this.Bt.J.from;this.Bt.J.to>h;h++){var a=this.Ys[h-this.Bt.J.from],l=Math.round((u=this.Bt.G[h]).it*e),u=void(t.fillStyle=u.A),c=l>s?(u=s,l-Math.floor(r/2)+r):(u=l,o);t.fillRect(a.In,u,a.jn-a.In+1,c-u)}}},No.prototype.$s=function(t){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){var e=Math.ceil(this.Bt.ws*t)>1?Math.max(1,Math.floor(t)):0,i=Math.round(this.Bt.ws*t)-e;this.Ys=Array(this.Bt.J.to-this.Bt.J.from);for(var n=this.Bt.J.from;this.Bt.J.to>n;n++){var r,s=this.Bt.G[n],o=Math.round(s.tt*t),h=void 0,a=i%2?(h=o-(r=(i-1)/2),o+r):(h=o-(r=i/2),o+r-1);this.Ys[n-this.Bt.J.from]={In:h,jn:a,Xs:o,Zs:s.tt*t,rt:s.rt}}for(n=this.Bt.J.from+1;this.Bt.J.to>n;n++){var l=this.Ys[n-this.Bt.J.from],u=this.Ys[n-this.Bt.J.from-1];l.rt===u.rt+1&&l.In-u.jn!==e+1&&(u.Xs>u.Zs?u.jn=l.In-e-1:l.In=u.jn+e+1)}var c=Math.ceil(this.Bt.ws*t);for(n=this.Bt.J.from;this.Bt.J.to>n;n++){(l=this.Ys[n-this.Bt.J.from]).jn<l.In&&(l.jn=l.In);var f=l.jn-l.In+1;c=Math.min(f,c)}if(e>0&&4>c)for(n=this.Bt.J.from;this.Bt.J.to>n;n++)(f=(l=this.Ys[n-this.Bt.J.from]).jn-l.In+1)>c&&(l.Xs>l.Zs?--l.jn:l.In+=1)}else this.Ys=[]},No);function No(){this.Bt=null,this.Ys=[]}function Wo(){var t=null!==To&&To.apply(this,arguments)||this;return t.zt=new jo,t}function Vo(){this.Bt=null,this.Ms=0}function Io(t,e){return(t=Do.call(this,t,e)||this).Os=new zo,t.Vs=new Ro,t.ut=new rs,t.ut.U([t.Os,t.Vs]),t}function Go(){return null!==Oo&&Oo.apply(this,arguments)||this}function Xo(){return null!==Ao&&Ao.apply(this,arguments)||this}function Yo(t){return{G:[],ws:t,Ks:NaN,J:null}}Nr(vh,Zo=Mu),vh.prototype.dt=function(t,e){return this.Kn.yt()?(this.Jn(),this.ut):null},vh.prototype.Gn=function(){var t=this.Xn.bt().ws();this.Js=Yo(t);for(var e=0,i=0,n=this.Kn.W().color,r=0,s=this.Kn.an().fs();s.length>r;r++){var o=s[r],h={rt:o.vs,et:h=o.St[3],tt:NaN,it:NaN,A:void 0!==o.A?o.A:n};++e<this.Js.G.length?this.Js.G[e]=h:this.Js.G.push(h),this.Yn[i++]={rt:o.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},vh.prototype.ts=function(){},vh.prototype.ns=function(){Zo.prototype.ns.call(this),this.Js.J=null},vh.prototype.rs=function(t,e,i){var n,r,s;null!==this.$n&&(n=e.ws(),r=Pr(e.ss()),s=t.xt(this.Kn.W().base,i),e.es(this.Js.G),t.us(this.Js.G,i),this.Js.Ks=s,this.Js.J=uo(this.Js.G,r,!1),this.Js.ws=n,this.zt.Z(this.Js))};var Jo,qo,Zo,Ho=vh,Uo=(Nr(yh,qo=po),yh.prototype.dt=function(t,e){var i;return this.Kn.yt()?(i=this.Kn.W(),this.Jn(),i={G:this.Yn,ht:i.color,Pt:i.lineStyle,Fn:i.lineType,Vt:i.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()},this.ds.Z(i),this.ds):null},yh.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){e.A=t.Kn.ls().As(e.rt).Ds}))},yh.prototype.cs=function(t,e,i){return(e=this.os(t,e)).A=i.As(t).Ds,e},yh),Qo=/[2-9]/g,th=(dh.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},dh.prototype.Qt=function(t,e,i){var n=this.Gs.get(i=(e+"").replace(i=i||Qo,"0"));if(void 0===n){if(0===(n=t.measureText(i).width)&&0!==e.length)return 0;void 0!==(t=this.th[this.Qs])&&this.Gs.delete(t),this.th[this.Qs]=i,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(i,n)}return n},dh),eh=(ph.prototype.eh=function(t,e,i,n){this.nh=t,this.k=e,this.hh=i,this.sh=n},ph.prototype.H=function(t,e){null!==this.k&&null!==this.nh&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,e)},ph),ih=(fh.prototype.dt=function(t,e){var i,n=this.P.oh(this.ah);return null===n||null===(i=n.lh(this.ah)?n.fh():this.ah.Ct())||"overlay"===(n=n._h(i))?null:((i=this.P.dh()).S!==this.R&&(this.R=i.S,this.rh.ih()),this.zt.eh(this.uh.ci(),i,e,n),this.zt)},fh),nh=(ch.prototype.Z=function(t){this.Bt=t},ch.prototype.H=function(t,e,i,n){var r,s;null===this.Bt||!1===this.Bt.yt||0>(r=Math.round(this.Bt.it*e))||r>Math.ceil(this.Bt.Yt*e)||(s=Math.ceil(this.Bt.Ht*e),t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*e),kr(t,this.Bt.Pt),Cr(t,r,0,s))},ch),rh=(uh.prototype.vt=function(){this.ft=!0},uh.prototype.dt=function(t,e){return this.Kn.yt()?(this.ft&&(this.bh(t,e),this.ft=!1),this.Mh):null},uh),sh=(Nr(lh,Jo=rh),lh.prototype.bh=function(t,e){this.wh.yt=!1;var i,n=this.Kn.Ct(),r=n.mh().mh;2!==r&&3!==r||(r=this.Kn.W()).baseLineVisible&&this.Kn.yt()&&null!==(i=this.Kn.kt())&&(this.wh.yt=!0,this.wh.it=n.xt(i.St,i.St),this.wh.Ht=e,this.wh.Yt=t,this.wh.A=r.baseLineColor,this.wh.Vt=r.baseLineWidth,this.wh.Pt=r.baseLineStyle)},lh),oh=(ah.prototype.Z=function(t){this.Bt=t},ah.prototype.ph=function(){return this.Bt},ah.prototype.H=function(t,e,i,n){var r,s,o,h=this.Bt;null!==h&&(t.save(),s=(r=Math.max(1,Math.floor(e)))%2/2,s=Math.round(h.Zs.x*e)+s,o=h.Zs.y*e,t.fillStyle=h.gh,t.beginPath(),t.arc(s,o,Math.max(2,1.5*h.yh)*e,0,2*Math.PI,!1),t.fill(),t.fillStyle=h.kh,t.beginPath(),t.arc(s,o,h.st*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=h.Nh,t.beginPath(),t.arc(s,o,h.st*e+r/2,0,2*Math.PI,!1),t.stroke(),t.restore())},ah),hh=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function ah(){this.Bt=null}function lh(t){return Jo.call(this,t)||this}function uh(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new nh,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}function ch(){this.Bt=null}function fh(t,e,i){this.uh=t,this.rh=new th(50),this.ah=e,this.P=i,this.R=-1,this.zt=new eh(this.rh)}function ph(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}function dh(t){void 0===t&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(Array(t))}function yh(t,e){return(t=qo.call(this,t,e)||this).ds=new eo,t}function vh(t,e){return(t=Zo.call(this,t,e,!1)||this).ut=new rs,t.Js=Yo(0),t.zt=new Fo,t}function mh(t,e,i,n){return n=i+(n-i)*e,"transparent"===t?t:(e=(i=jr(t))[3],"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(n*e,")"))}function gh(t,e){for(var i,n=t%2600/2600,r=0,s=hh;s.length>r;r++){var o=s[r];if(n>=o.xh&&o.Ch>=n){i=o;break}}return $r(void 0!==i,"Last price animation internal logic error"),{kh:mh(e,t=(n-i.xh)/(i.Ch-i.xh),i.Dh,i.Ah),Nh:mh(e,t,i.Bh,i.Lh),st:(e=i.Sh)+(i.Th-e)*t}}bh.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},bh.prototype.Wh=function(){var t,e;this.vt(),2===this.Vh.W().lastPriceAnimation&&(t=performance.now(),(e=this.Oh-t)>0?650>e&&(this.Oh+=2600):(this.Fh=t,this.Oh=t+2600))},bh.prototype.vt=function(){this.ft=!0},bh.prototype.zh=function(){this.Eh=!0},bh.prototype.yt=function(){return 0!==this.Vh.W().lastPriceAnimation},bh.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},bh.prototype.dt=function(t,e){return this.ft?(this.wt(t,e),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},bh.prototype.wt=function(t,e){this.zt.Z(null);var i,n=this.Vh.jt().bt(),r=n.ss(),s=this.Vh.kt();null!==r&&null!==s&&!(i=this.Vh.jh(!0)).qh&&r.Uh(i.vs)&&(r={x:n.At(i.vs),y:this.Vh.Ct().xt(i.et,s.St)},n=i.A,s=this.Vh.W().lineWidth,i=gh(this.Hh(),n),this.zt.Z({gh:n,yh:s,kh:i.kh,Nh:i.Nh,st:i.st,Zs:r}))},bh.prototype.Ih=function(){var t,e=this.zt.ph();null!==e&&(t=gh(this.Hh(),e.gh),e.kh=t.kh,e.Nh=t.Nh,e.st=t.st)},bh.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599};var wh=bh;function bh(t){this.zt=new oh,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}function _h(t,e){return Eo(Math.min(Math.max(t,12),30)*e)}function Mh(t,e){switch(t){case"arrowDown":case"arrowUp":return _h(e,1);case"circle":return _h(e,.8);case"square":return _h(e,.7)}}function xh(t){return Po(_h(t,1))}function Sh(t){return Math.max(_h(t,.1),3)}function kh(t,e,i,n,r){var s=((i=Mh("square",i))-1)/2;e-=s;return!((t=t-s)>n||n>t+i||e>r||r>e+i)}function Ch(t,e,i,n,r){var s=(Mh("arrowUp",r)-1)/2;r=(Eo(r/2)-1)/2;e.beginPath(),t?(e.moveTo(i-s,n),e.lineTo(i,n-s),e.lineTo(i+s,n),e.lineTo(i+r,n),e.lineTo(i+r,n+s),e.lineTo(i-r,n+s)):(e.moveTo(i-s,n),e.lineTo(i,n+s),e.lineTo(i+s,n),e.lineTo(i+r,n),e.lineTo(i+r,n-s),e.lineTo(i-r,n-s)),e.lineTo(i-r,n),e.fill()}Nr(Ph,$h=be),Ph.prototype.Z=function(t){this.Bt=t},Ph.prototype.eh=function(t,e){this.R===t&&this.I===e||(this.R=t,this.I=e,this.Yh=es(t,e),this.rh.ih())},Ph.prototype.$h=function(t,e){if(null!==this.Bt&&null!==this.Bt.J)for(var i,n,r,s=this.Bt.J.from;this.Bt.J.to>s;s++){var o=this.Bt.G[s];if(n=t,r=e,void 0!==(i=o).Gt&&function(t,e,s){var o=i.Gt.Yt/2;return!(t>n||n>t+s||e-o>r||r>e+o)}(i.tt,i.Gt.it,i.Gt.Ht)||function(t,e,i){if(0!==t.hs)switch(t.Gh){case"arrowDown":case"arrowUp":return kh(n=t.tt,r=t.it,s=t.hs,e,i);case"circle":var n=t.tt,r=t.it,s=t.hs,o=e,h=i;return(s=2+Mh("circle",s)/2)>=Math.sqrt((n-=o)*n+(o=r-h)*o);case"square":return kh(t.tt,t.it,t.hs,e,i)}}(i,n,r))return{Kh:o.Xh,Zh:o.Zh}}return null},Ph.prototype.Y=function(t,e,i){if(null!==this.Bt&&null!==this.Bt.J){t.textBaseline="middle",t.font=this.Yh;for(var n=this.Bt.J.from;this.Bt.J.to>n;n++){var r=this.Bt.G[n];void 0!==r.Gt&&(r.Gt.Ht=this.rh.Qt(t,r.Gt.Jh),r.Gt.Yt=this.R),function(t,e){e.fillStyle=t.A,void 0!==t.Gt&&e.fillText(t.Gt.Jh,t.tt-t.Gt.Ht/2,t.Gt.it);var i=t,n=e;if(0!==i.hs)switch(i.Gh){case"arrowDown":return Ch(!1,n,i.tt,i.it,i.hs);case"arrowUp":return Ch(!0,n,i.tt,i.it,i.hs);case"circle":return function(t,e,n){var r=(Mh("circle",i.hs)-1)/2;t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.fill()}(n,i.tt,i.it);case"square":(function(t,e,n){var r=Mh("square",i.hs),s=(r-1)/2;t.fillRect(e-s,n-s,r,r)})(n,i.tt,i.it)}}(r,t)}}};var $h,Bh=Ph;function Ph(){var t=null!==$h&&$h.apply(this,arguments)||this;return t.Bt=null,t.rh=new th,t.R=-1,t.I="",t.Yh="",t}ia.prototype.vt=function(t){this.ft=!0,this.nr=!0,"data"===t&&(this.ir=!0)},ia.prototype.dt=function(t,e,i){if(!this.Vh.yt())return null;this.ft&&this.Jn();var n=this.pi.W().layout;return this.zt.eh(n.fontSize,n.fontFamily),this.zt.Z(this.Bt),this.zt},ia.prototype.hr=function(){var t,e;return this.nr&&(this.Vh.rr().length>0?(t=Sh(e=this.pi.bt().ws()),e=1.5*xh(e)+2*t,this.sr={above:e,below:e}):this.sr=null,this.nr=!1),this.sr},ia.prototype.Jn=function(){var t=this.Vh.Ct(),e=this.pi.bt(),i=this.Vh.rr(),n=(this.ir&&(this.Bt.G=i.map((function(t){return{rt:t.time,tt:0,it:0,hs:0,Gh:t.shape,A:t.color,Xh:t.Xh,Zh:t.id,Gt:void 0}})),this.ir=!1),this.pi.W().layout),r=(this.Bt.J=null,e.ss());if(null!==r){var s=this.Vh.kt();if(null!==s&&0!==this.Bt.G.length){var o=NaN,h=Sh(e.ws()),a={Qh:h,tr:h};this.Bt.J=uo(this.Bt.G,r,!0);for(var l=this.Bt.J.from;this.Bt.J.to>l;l++){var u=i[l],c=(u.time!==o&&(a.Qh=h,a.tr=h,o=u.time),this.Bt.G[l]),f=(c.tt=e.At(u.time),void 0!==u.text&&u.text.length>0&&(c.Gt={Jh:u.text,it:0,Ht:0,Yt:0}),this.Vh.er(u.time));null!==f&&function(t,e,i,n,r,s,o,h,a){var l=Yr(i)?i:i.close,u=Yr(i)?i:i.high,c=Yr(i)?i:i.low,f=(i=Yr(e.size)?Math.max(e.size,0):1,xh(h.ws())*i),p=f/2;switch(t.hs=f,e.position){case"inBar":return t.it=o.xt(l,a),void 0!==t.Gt&&(t.Gt.it=t.it+p+s+.6*r);case"aboveBar":return t.it=o.xt(u,a)-p-n.Qh,void 0!==t.Gt&&(t.Gt.it=t.it-p-.6*r,n.Qh+=1.2*r),n.Qh+=f+s;case"belowBar":t.it=o.xt(c,a)+p+n.tr,void 0!==t.Gt&&(t.Gt.it=t.it+p+s+.6*r,n.tr+=1.2*r),n.tr+=f+s}}(c,u,f,a,n.fontSize,h,t,e,s.St)}this.ft=!1}}};var Eh,Th,Dh,Oh,Ah,zh=ia,Rh=(Nr(ea,Ah=rh),ea.prototype.bh=function(t,e){var i,n=this.wh,r=(n.yt=!1,this.Kn.W());r.priceLineVisible&&this.Kn.yt()&&((i=this.Kn.jh(0===r.priceLineSource)).qh||(n.yt=!0,n.it=i.ti,n.A=this.Kn.ur(i.A),n.Ht=e,n.Yt=t,n.Vt=r.priceLineWidth,n.Pt=r.priceLineStyle))},ea),Lh=(Nr(ta,Oh=ne),ta.prototype.vi=function(t,e,i){t.yt=!1,e.yt=!1;var n,r,s,o,h=this.Rt;h.yt()&&(s=(n=h.W()).lastValueVisible,o=""!==h.ar(),n=0===n.seriesLastValueMode,(r=h.jh(!1)).qh||(s&&(t.Gt=this.lr(r,s,n),t.yt=0!==t.Gt.length),(o||n)&&(e.Gt=this.cr(r,s,o,n),e.yt=e.Gt.length>0),o=Kr(s=h.ur(r.A)),i.t=o.t,i.A=o.i,i.ti=r.ti,e.Tt=h.jt().Dt(r.ti/h.Ct().Yt()),t.Tt=s))},ta.prototype.cr=function(t,e,i,n){var r="",s=this.Rt.ar();return i&&0!==s.length&&(r+="".concat(s," ")),e&&n&&(r+=this.Rt.Ct().vr()?t._r:t.dr),r.trim()},ta.prototype.lr=function(t,e,i){return e?i?this.Rt.Ct().vr()?t.dr:t._r:t.Gt:""},ta),jh=(Qh.prototype.br=function(t){return null!==t&&this.wr===t.wr&&this.Mr===t.Mr},Qh.prototype.mr=function(){return new Qh(this.wr,this.Mr)},Qh.prototype.pr=function(){return this.wr},Qh.prototype.gr=function(){return this.Mr},Qh.prototype.yr=function(){return this.Mr-this.wr},Qh.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},Qh.prototype.Nn=function(t){return null===t?this:new Qh(Math.min(this.pr(),t.pr()),Math.max(this.gr(),t.gr()))},Qh.prototype.kr=function(t){var e,i,n;Yr(t)&&0!=this.Mr-this.wr&&(i=this.Mr-(e=.5*(this.Mr+this.wr)),n=this.wr-e,n*=t,this.Mr=e+(i*=t),this.wr=e+n)},Qh.prototype.Nr=function(t){Yr(t)&&(this.Mr+=t,this.wr+=t)},Qh.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},Qh.Sr=function(t){return null===t?null:new Qh(t.minValue,t.maxValue)},Qh),Kh=(Uh.prototype.Ar=function(){return this.Tr},Uh.prototype.Br=function(){return this.Dr},Uh.prototype.Cr=function(){return null===this.Tr?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},Uh.Sr=function(t){return null===t?null:new Uh(jh.Sr(t.priceRange),t.margins)},Uh),Fh=(Nr(Hh,Dh=rh),Hh.prototype.bh=function(t,e){var i,n=this.wh,r=(n.yt=!1,this.Lr.W());this.Kn.yt()&&r.lineVisible&&null!==(i=this.Lr.Er())&&(n.yt=!0,n.it=i,n.A=r.color,n.Ht=e,n.Yt=t,n.Vt=r.lineWidth,n.Pt=r.lineStyle)},Hh),Nh=(Nr(Zh,Th=ne),Zh.prototype.vi=function(t,e,i){t.yt=!1,e.yt=!1;var n=this.Lr.W(),r=n.axisLabelVisible,s=""!==n.title,o=this.Vh;r&&o.yt()&&null!==(r=this.Lr.Er())&&(s&&(e.Gt=n.title,e.yt=!0),e.Tt=o.jt().Dt(r/o.Ct().Yt()),t.Gt=o.Ct().Fr(n.price),t.yt=!0,s=Kr(n.color),i.t=s.t,i.A=s.i,i.ti=r)},Zh),Wh=(qh.prototype.Pr=function(t){Xr(this.zi,t),this.vt(),this.Vh.jt().Wr()},qh.prototype.W=function(){return this.zi},qh.prototype.tn=function(){return[this.Or,this.Vr]},qh.prototype.zr=function(){return this.uh},qh.prototype.vt=function(){this.Or.vt(),this.uh.vt()},qh.prototype.Er=function(){var t=this.Vh,e=t.Ct();return t.jt().bt().wi()||e.wi()||null===(t=t.kt())?null:e.xt(this.zi.price,t.St)},qh),Vh=(to=(Nr(Jh,Eh=$s),Jh.prototype.jt=function(){return this.pi},Jh),{Ds:"",Hs:"",Us:""}),Ih=(Yh.prototype.As=function(t,e){var i=this.Vh.Rr(),n=this.Vh.W();switch(i){case"Line":return this.Ir(n,t,e);case"Area":return this.jr(n);case"Baseline":return this.qr(n,t,e);case"Bar":return this.Ur(n,t,e);case"Candlestick":return this.Hr(n,t,e);case"Histogram":return this.Yr(n,t,e)}throw Error("Unknown chart style")},Yh.prototype.Ur=function(t,e,i){var n=Wr({},Vh),r=t.upColor,s=r,o=t=t.downColor;i=Er((e=Pr(this.$r(e,i))).St[0])<=Er(e.St[3]);return void 0!==e.A?(n.Ds=e.A,n.Hs=e.A):(n.Ds=i?r:t,n.Hs=i?s:o),n},Yh.prototype.Hr=function(t,e,i){var n,r=Wr({},Vh),s=t.upColor,o=t.downColor,h=t.borderUpColor,a=t.borderDownColor,l=t.wickUpColor;t=t.wickDownColor,i=Er((e=Pr(this.$r(e,i))).St[0])<=Er(e.St[3]);return r.Ds=null!=(n=e.A)?n:i?s:o,r.Hs=null!=(n=e.Tt)?n:i?h:a,r.Us=null!=(s=e.qs)?s:i?l:t,r},Yh.prototype.jr=function(t){return Wr(Wr({},Vh),{Ds:t.lineColor})},Yh.prototype.qr=function(t,e,i){return e=Pr(this.$r(e,i)).St[3]>=t.baseValue.price,Wr(Wr({},Vh),{Ds:e?t.topLineColor:t.bottomLineColor})},Yh.prototype.Ir=function(t,e,i){return e=Pr(this.$r(e,i)),Wr(Wr({},Vh),{Ds:null!=(i=e.A)?i:t.color})},Yh.prototype.Yr=function(t,e,i){var n=Wr({},Vh);e=Pr(this.$r(e,i));return n.Ds=void 0!==e.A?e.A:t.color,n},Yh.prototype.$r=function(t,e){return void 0!==e?e.St:this.Vh.an().Kr(t)},Yh),Gh=(Xh.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},Xh.prototype.Qr=function(){return this.hs()>0?this.te(0):null},Xh.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},Xh.prototype.hs=function(){return this.Xr.length},Xh.prototype.wi=function(){return 0===this.hs()},Xh.prototype.Uh=function(t){return null!==this.ie(t,0)},Xh.prototype.Kr=function(t){return this.ne(t)},Xh.prototype.ne=function(t,e){return null===(t=this.ie(t,e=void 0===e?0:e))?null:Wr(Wr({},this.se(t)),{vs:this.te(t)})},Xh.prototype.fs=function(){return this.Xr},Xh.prototype.he=function(t,e,i){if(this.wi())return null;for(var n=null,r=0,s=i;s.length>r;r++)n=na(n,this.re(t,e,s[r]));return n},Xh.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},Xh.prototype.te=function(t){return this.Xr[t].vs},Xh.prototype.se=function(t){return this.Xr[t]},Xh.prototype.ie=function(t,e){var i=this.ee(t);if(null===i&&0!==e)switch(e){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return i},Xh.prototype.ue=function(t){var e=this.oe(t);return e>0&&--e,e!==this.Xr.length&&this.te(e)<t?e:null},Xh.prototype.ae=function(t){var e=this.le(t);return e!==this.Xr.length&&t<this.te(e)?e:null},Xh.prototype.ee=function(t){var e=this.oe(t);return e===this.Xr.length||this.Xr[e].vs>t?null:e},Xh.prototype.oe=function(t){return oo(this.Xr,t,(function(t,e){return e>t.vs}))},Xh.prototype.le=function(t){return ho(this.Xr,t,(function(t,e){return e.vs>t}))},Xh.prototype.fe=function(t,e,i){for(var n=null,r=t;e>r;r++){var s=this.Xr[r].St[i];Number.isNaN(s)||(null===n?n={ce:s,ve:s}:(n.ce>s&&(n.ce=s),s>n.ve&&(n.ve=s)))}return n},Xh.prototype.re=function(t,e,i){if(this.wi())return null;var n=null,r=Pr(this.Qr()),s=Pr(this.un()),o=(t=Math.max(t,r),r=Math.min(e,s),Math.max(s=30*Math.ceil(t/30),30*Math.floor(r/30))),h=this.oe(t),a=(e=this.le(Math.min(r,s,e)),n=na(n,this.fe(h,e,i)),this.Zr.get(i));void 0===a&&(a=new Map,this.Zr.set(i,a));for(var l=Math.max(1+s,t);o>l;l+=30){var u,c,f=Math.floor(l/30),p=a.get(f);void 0===p&&(u=this.oe(30*f),c=this.le(30*(f+1)-1),p=this.fe(u,c,i),a.set(f,p)),n=na(n,p)}return h=this.oe(o),e=this.le(r),na(n,this.fe(h,e,i))},Xh);function Xh(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}function Yh(t){this.Vh=t}function Jh(t){var e=Eh.call(this)||this;return e.pi=t,e}function qh(t,e){this.Vh=t,this.zi=e,this.Or=new Fh(t,this),this.uh=new Nh(t,this),this.Vr=new ih(this.uh,t,t.jt())}function Zh(t,e){var i=Th.call(this)||this;return i.Vh=t,i.Lr=e,i}function Hh(t,e){return(t=Dh.call(this,t)||this).Lr=e,t}function Uh(t,e){this.Tr=t,this.Dr=e||null}function Qh(t,e){this.wr=t,this.Mr=e}function ta(t){var e=Oh.call(this)||this;return e.Rt=t,e}function ea(t){return Ah.call(this,t)||this}function ia(t,e){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new Bh,this.Vh=t,this.pi=e,this.Bt={G:[],J:null}}function na(t,e){return null===t?e:null===e?t:{ce:Math.min(t.ce,e.ce),ve:Math.max(t.ve,e.ve)}}Nr(ya,ra=to),ya.prototype.g=function(){null!==this.pe&&clearTimeout(this.pe)},ya.prototype.ur=function(t){return this.zi.priceLineColor||t},ya.prototype.jh=function(t){var e={qh:!0},i=this.Ct();if(this.jt().bt().wi()||i.wi()||this.Bt.wi())return e;var n,r,s=this.jt().bt().ss(),o=this.kt();if(null===s||null===o)return e;if(t){if(null===(t=this.Bt.Gr()))return e;r=(n=t).vs}else{if(null===(t=this.Bt.ne(s.jn(),-1)))return e;if(null===(n=this.Bt.Kr(t.vs)))return e;r=t.vs}return s=n.St[3],e=this.ls().As(r,{St:n}),t=i.xt(s,o.St),{qh:!1,et:s,Gt:i.Mi(s,o.St),_r:i.Fr(s),dr:i.Ne(s,o.St),A:e.Ds,ti:t,vs:r}},ya.prototype.ls=function(){return null===this.Me&&(this.Me=new Ih(this)),this.Me},ya.prototype.W=function(){return this.zi},ya.prototype.Pr=function(t){var e=t.priceScaleId;void 0!==e&&e!==this.zi.priceScaleId&&this.jt().xe(this,e),Xr(this.zi,t),null!==this.ki&&void 0!==t.scaleMargins&&this.ki.Pr({scaleMargins:t.scaleMargins}),void 0!==t.priceFormat&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},ya.prototype.Z=function(t,e){this.Bt.Z(t),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),null!==this.we&&(e&&e.Ae?this.we.Wh():0===t.length&&this.we.Ph()),e=this.jt().oh(this),this.jt().Be(e),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},ya.prototype.Le=function(t){this.be=t.map((function(t){return Wr({},t)})),this.De(),t=this.jt().oh(this),this.Ri.vt("data"),this.jt().Be(t),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},ya.prototype.rr=function(){return this.me},ya.prototype.Ee=function(t){return t=new Wh(this,t),this._e.push(t),this.jt().Se(this),t},ya.prototype.Fe=function(t){-1!==(t=this._e.indexOf(t))&&this._e.splice(t,1),this.jt().Se(this)},ya.prototype.Rr=function(){return this.ge},ya.prototype.kt=function(){var t=this.Oe();return null===t?null:{St:t.St[3],Ve:t.rt}},ya.prototype.Oe=function(){var t=this.jt().bt().ss();return null===t?null:(t=t.In(),this.Bt.ne(t,1))},ya.prototype.an=function(){return this.Bt},ya.prototype.er=function(t){return null===(t=this.Bt.Kr(t))?null:"Bar"===this.ge||"Candlestick"===this.ge?{open:t.St[0],high:t.St[1],low:t.St[2],close:t.St[3]}:t.St[3]},ya.prototype.Pe=function(t){var e=this,i=this.we;return null!==i&&i.yt()?(null===this.pe&&i.Rh()&&(this.pe=setTimeout((function(){e.pe=null,e.jt().We()}),0)),i.zh(),[i]):[]},ya.prototype.tn=function(){var t=[];this.ze()||t.push(this.de);for(var e=0,i=this._e;i.length>e;e++){t.push.apply(t,i[e].tn())}return t.push(this.Hi,this.Or,this.Vr,this.Ri),t},ya.prototype.nn=function(t,e){if(e!==this.ki&&!this.ze())return[];for(var i=Vr([],this.Ei,!0),n=0,r=this._e;r.length>n;n++){i.push(r[n].zr())}return i},ya.prototype.Re=function(t,e){var i,n=this;return void 0!==this.zi.autoscaleInfoProvider?(i=this.zi.autoscaleInfoProvider((function(){var i=n.Ie(t,e);return null===i?null:i.Cr()})),Kh.Sr(i)):this.Ie(t,e)},ya.prototype.je=function(){return this.zi.priceFormat.minMove},ya.prototype.qe=function(){return this.Ue},ya.prototype.hn=function(){var t;this.Hi.vt(),this.Ri.vt();for(var e=0,i=this.Ei;i.length>e;e++)i[e].vt();for(var n=0,r=this._e;r.length>n;n++)r[n].vt();this.Or.vt(),this.de.vt(),null!=(t=this.we)&&t.vt()},ya.prototype.Ct=function(){return Pr(ra.prototype.Ct.call(this))},ya.prototype.gt=function(t){var e;return"Line"!==this.ge&&"Area"!==this.ge&&"Baseline"!==this.ge||!this.zi.crosshairMarkerVisible||null===(e=this.Bt.Kr(t))?null:{et:e.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(t)}},ya.prototype.ar=function(){return this.zi.title},ya.prototype.yt=function(){return this.zi.visible},ya.prototype.ze=function(){return!Ls(this.Ct().Ke())},ya.prototype.Ie=function(t,e){var i;return Jr(t)&&Jr(e)&&!this.Bt.wi()?(e=null!==(t=this.Bt.he(t,e,i="Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge||"Histogram"===this.ge?[3]:[2,1]))?new jh(t.ce,t.ve):null,"Histogram"===this.Rr()&&(t=new jh(i=this.zi.base,i),e=null!==e?e.Nn(t):t),new Kh(e,this.Ri.hr())):null},ya.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},ya.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var t=this.zi.crosshairMarkerBorderColor;if(0!==t.length)return t}return null},ya.prototype.$e=function(t){switch(this.ge){case"Line":case"Area":case"Baseline":var e=this.zi.crosshairMarkerBackgroundColor;if(0!==e.length)return e}return this.ls().As(t).Ds},ya.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new Is(this.zi.priceFormat.precision);break;case"percent":this.Ue=new Vs(this.zi.priceFormat.precision);break;default:var t=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new Ws(t,this.zi.priceFormat.minMove*t)}null!==this.ki&&this.ki.Xe()},ya.prototype.De=function(){var t,e=this,i=this.jt().bt();i.wi()||0===this.Bt.hs()?this.me=[]:(t=Pr(this.Bt.Qr()),this.me=this.be.map((function(n,r){var s=Pr(i.Ze(n.time,!0));return{time:Pr(e.Bt.ne(s,t>s?1:-1)).vs,position:n.position,shape:n.shape,color:n.color,id:n.id,Xh:r,text:n.text,size:n.size}})))},ya.prototype.ke=function(){switch(this.Ri=new zh(this,this.jt()),this.ge){case"Bar":this.Hi=new xo(this,this.jt());break;case"Candlestick":this.Hi=new Ko(this,this.jt());break;case"Line":this.Hi=new Uo(this,this.jt());break;case"Area":this.Hi=new yo(this,this.jt());break;case"Baseline":this.Hi=new Lo(this,this.jt());break;case"Histogram":this.Hi=new Ho(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}};var ra,sa=ya,oa=(da.prototype.Je=function(t,e,i){var n=t;if(0===this.zi.mode)return n;var r=i.ji(),s=r.kt();if(null===s)return n;var o=r.xt(t,s);t=i.Ge().filter((function(t){return t instanceof sa})).reduce((function(t,n){var r,s;return i.lh(n)||!n.yt()||(r=n.Ct(),s=n.an(),r.wi())||!s.Uh(e)||null===(s=s.Kr(e))?t:(n=Er(n.kt()),t.concat([r.xt(s.St[3],n.St)]))}),[]);return 0===t.length?n:(t.sort((function(t,e){return Math.abs(t-o)-Math.abs(e-o)})),r.qi(n=t[0],s))},da),ha=(pa.prototype.Z=function(t){this.Bt=t},pa.prototype.H=function(t,e,i,n){var r=this;if(null!==this.Bt){var s=Math.max(1,Math.floor(e)),o=(t.lineWidth=s,Math.ceil(this.Bt.Ot*e)),h=Math.ceil(this.Bt.Ft*e),a=t;if((r=(a.save(),a.lineWidth%2&&a.translate(.5,.5),Pr(r.Bt))).Qe){t.strokeStyle=r.tu,kr(t,r.iu),t.beginPath();for(var l=0,u=r.nu;u.length>l;l++){var c;t.moveTo(c=Math.round((c=u[l]).su*e),-s),t.lineTo(c,o+s)}t.stroke()}if(r.hu){t.strokeStyle=r.ru,kr(t,r.eu),t.beginPath();for(var f=0,p=r.uu;p.length>f;f++){var d;t.moveTo(-s,d=Math.round((d=p[f]).su*e)),t.lineTo(h+s,d)}t.stroke()}a.restore()}},pa),aa=(fa.prototype.vt=function(){this.ft=!0},fa.prototype.dt=function(t,e){return this.ft&&(e={Ot:t,Ft:e,hu:(t=this.Di.jt().W().grid).horzLines.visible,Qe:t.vertLines.visible,ru:t.horzLines.color,tu:t.vertLines.color,eu:t.horzLines.style,iu:t.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]},this.zt.Z(e),this.ft=!1),this.zt},fa),la=(ca.prototype.ou=function(){return this.Hi},ca),ua={lu:4,fu:1e-4};function ca(t){this.Hi=new aa(t)}function fa(t){this.zt=new ha,this.ft=!0,this.Di=t}function pa(){this.Bt=null}function da(t){this.zi=t}function ya(t,e,i){var n=ra.call(this,t)||this;n.Bt=new Gh,n.Or=new Rh(n),n._e=[],n.de=new sh(n),n.we=null,n.Me=null,n.be=[],n.me=[],n.pe=null,n.zi=e,n.ge=i,e=new Lh(n);return n.Ei=[e],n.Vr=new ih(e,n,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(n.we=new wh(n)),n.ye(),n.ke(),n}function va(t,e){return t=100*(t-e)/e,0>e?-t:t}function ma(t,e){return t=100*(t-e)/e+100,0>e?-t:t}function ga(t,e){var i=Math.abs(t);return 1e-15>i?0:(i=Bo(i+e.fu)+e.lu,0>t?-i:i)}function wa(t,e){var i=Math.abs(t);return 1e-15>i?0:(i=Math.pow(10,i-e.lu)-e.fu,0>t?-i:i)}function ba(t,e){var i;return null===t?null:(i=ga(t.pr(),e),t=ga(t.gr(),e),new jh(i,t))}function _a(t,e){var i;return null===t?null:(i=wa(t.pr(),e),t=wa(t.gr(),e),new jh(i,t))}function Ma(t){return null===t||(t=Math.abs(t.gr()-t.pr()))>=1||1e-15>t?ua:(t=Math.ceil(Math.abs(Math.log10(t))),{lu:t=ua.lu+t,fu:1/Math.pow(10,t)})}Ca.prototype.du=function(t,e,i){for(var n=0===this.cu?0:1/this.cu,r=Math.pow(10,Math.max(0,Math.ceil(Bo(t-e)))),s=0,o=this.vu[0];n-r<=1e-14&&1e-14+n<r&&i*o-r<=1e-14&&1-r<=1e-14;)r/=o,o=this.vu[++s%this.vu.length];if(1e-14+n>=r&&(r=n),r=Math.max(1,r),this._u.length>0&&1e-14>Math.abs((t=r)-1))for(o=this._u[s=0];1e-14>=i*o-r&&r>1e-14+n;)r/=o,o=this._u[++s%this._u.length];return r};var xa=Ca,Sa=(ka.prototype.du=function(t,e){if(e>t)throw Error("high < low");var i=this._i.Yt(),n=(i=(t-e)*this.mu()/i,new xa(this.cu,[2,2.5,2])),r=new xa(this.cu,[2,2,2.5]),s=new xa(this.cu,[2.5,2,2]),o=[],h=(o.push(n.du(t,e,i),r.du(t,e,i),s.du(t,e,i)),o);if(1>h.length)throw Error("array is empty");for(var a=h[0],l=1;h.length>l;++l)a>h[l]&&(a=h[l]);return a},ka.prototype.pu=function(){var t=this._i,e=t.kt();if(null!==e){var i=t.Yt(),n=this.Mu(i-1,e),r=this.Mu(0,e),s=l=this._i.W().entireTextOnly?this.gu()/2:0,o=i-1-l,h=(i=Math.max(n,r),Math.min(n,r));if(i!==h){for(var a=this.du(i,h),l=i%a,u=h>i?-1:1,c=null,f=0,p=i-(l+=0>l?a:0);p>h;p-=a){var d=this.bu(p,e,!0);null!==c&&Math.abs(d-c)<this.mu()||s>d||d>o||(this.wu.length>f?(this.wu[f].su=d,this.wu[f].yu=t.ku(p)):this.wu.push({su:d,yu:t.ku(p)}),f++,c=d,t.Nu()&&(a=this.du(p*u,h)))}this.wu.length=f}else this.wu=[]}else this.wu=[]},ka.prototype.au=function(){return this.wu},ka.prototype.gu=function(){return this._i.S()},ka.prototype.mu=function(){return Math.ceil(2.5*this.gu())},ka);function ka(t,e,i,n){this.wu=[],this._i=t,this.cu=e,this.Mu=i,this.bu=n}function Ca(t,e){if(this.cu=t,this.vu=e,function(t){if(0<=t){for(var e=t;e>1;e/=10)if(e%10!=0)return;return 1}}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var i=this.cu;1!==i;){if(i%2==0)this._u.push(2),i/=2;else{if(i%5!=0)throw Error("unexpected base");this._u.push(2,2.5),i/=5}if(this._u.length>100)throw Error("something wrong with base")}}}function $a(t){return t.slice().sort((function(t,e){return Pr(t.xi())-Pr(e.xi())}))}function Ba(t){return t.getUTCFullYear()}var Pa=new Vs,Ea=new Ws(100,1),Ta=(Aa.prototype.Ke=function(){return this.Iu},Aa.prototype.W=function(){return this.zi},Aa.prototype.Pr=function(t){if(Xr(this.zi,t),this.Xe(),void 0!==t.mode&&this.$u({mh:t.mode}),void 0!==t.scaleMargins){var e=Br(t.scaleMargins.top);t=Br(t.scaleMargins.bottom);if(0>e||e>1)throw Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(0>t||t>1||e+t>1)throw Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(t));if(e+t>1)throw Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+t));this.Ku(),this.Pu=null}},Aa.prototype.Xu=function(){return this.zi.autoScale},Aa.prototype.Nu=function(){return 1===this.zi.mode},Aa.prototype.vr=function(){return 2===this.zi.mode},Aa.prototype.Zu=function(){return 3===this.zi.mode},Aa.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},Aa.prototype.$u=function(t){var e=this.mh(),i=null;void 0!==t._n&&(this.zi.autoScale=t._n),void 0!==t.mh&&(this.zi.mode=t.mh,2!==t.mh&&3!==t.mh||(this.zi.autoScale=!0),this.Tu.Du=!1),1===e.mh&&t.mh!==e.mh&&(function(t,e){var i;if(null!==t)return i=wa(t.pr(),e),t=wa(t.gr(),e),isFinite(i)&&isFinite(t)}(this.Tr,this.Ru)?null!==(i=_a(this.Tr,this.Ru))&&this.Gu(i):this.zi.autoScale=!0),1===t.mh&&t.mh!==e.mh&&null!==(i=ba(this.Tr,this.Ru))&&this.Gu(i),i=e.mh!==this.zi.mode;i&&(2===e.mh||this.vr())&&this.Xe(),i&&(3===e.mh||this.Zu())&&this.Xe(),void 0!==t.Ju&&e.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(e,this.mh())},Aa.prototype.ta=function(){return this.Fu},Aa.prototype.S=function(){return this.ju.fontSize},Aa.prototype.Yt=function(){return this.xu},Aa.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},Aa.prototype.na=function(){var t;return this.Cu||(t=this.Yt()-this.sa()-this.ha(),this.Cu=t)},Aa.prototype.Ar=function(){return this.ra(),this.Tr},Aa.prototype.Gu=function(t,e){var i=this.Tr;(e||null===i&&null!==t||null!==i&&!i.br(t))&&(this.Pu=null,this.Tr=t)},Aa.prototype.wi=function(){return this.ra(),0===this.xu||!this.Tr||this.Tr.wi()},Aa.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},Aa.prototype.xt=function(t,e){return this.vr()?t=va(t,e):this.Zu()&&(t=ma(t,e)),this.Yu(t,e)},Aa.prototype.us=function(t,e,i){this.ra();for(var n=this.ha(),r=(s=Pr(this.Ar())).pr(),s=s.gr(),o=this.na()-1,h=this.Ju(),a=o/(s-r),l=(o=void 0===i?0:i.from,void 0===i?t.length:i.to),u=this.ua(),c=o;l>c;c++){var f=t[c],p=f.et;isNaN(p)||(p=n+a*((p=null!==u?u(f.et,e):p)-r),f.it=p=h?p:this.xu-1-p)}},Aa.prototype.Ss=function(t,e,i){this.ra();for(var n=this.ha(),r=(s=Pr(this.Ar())).pr(),s=s.gr(),o=this.na()-1,h=this.Ju(),a=o/(s-r),l=(o=void 0===i?0:i.from,void 0===i?t.length:i.to),u=this.ua(),c=o;l>c;c++){var f=t[c],p=f.open,d=f.high,y=f.low,v=f.close,m=(p=(null!==u&&(p=u(f.open,e),d=u(f.high,e),y=u(f.low,e),v=u(f.close,e)),n+a*(p-r)),h?p:this.xu-1-p);f.xs=m,p=n+a*(d-r),f.ys=m=h?p:this.xu-1-p,p=n+a*(y-r),f.ks=m=h?p:this.xu-1-p,p=n+a*(v-r),f.Cs=m=h?p:this.xu-1-p}},Aa.prototype.qi=function(t,e){return t=this.Hu(t,e),this.aa(t,e)},Aa.prototype.aa=function(t,e){var i;return this.vr()?t=(0>e?-t:t)/100*e+e:this.Zu()&&(i=t,i-=100,t=(i=0>e?-i:i)/100*e+e),t},Aa.prototype.Ge=function(){return this.Ou},Aa.prototype.oa=function(){if(!this.Vu){for(var t=[],e=0;this.Ou.length>e;e++){var i=this.Ou[e];null===i.xi()&&i.Ci(e+1),t.push(i)}t=$a(t),this.Vu=t}return this.Vu},Aa.prototype.la=function(t){-1===this.Ou.indexOf(t)&&(this.Ou.push(t),this.Xe(),this.fa())},Aa.prototype.ca=function(t){if(-1===(t=this.Ou.indexOf(t)))throw Error("source is not attached to scale");this.Ou.splice(t,1),0===this.Ou.length&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},Aa.prototype.kt=function(){for(var t=null,e=0,i=this.Ou;i.length>e;e++){var n=i[e].kt();null!==n&&(null===t||t.Ve>n.Ve)&&(t=n)}return null===t?null:t.St},Aa.prototype.Ju=function(){return this.zi.invertScale},Aa.prototype.au=function(){var t=null===this.kt();if(null!==this.Pu&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var e=this.Uu.au();return this.Pu={au:e,va:t},this.Eu.m(),e},Aa.prototype._a=function(){return this.Eu},Aa.prototype.da=function(t){this.vr()||this.Zu()||null!==this.Wu||null!==this.Su||this.wi()||(this.Wu=this.xu-t,this.Su=Pr(this.Ar()).mr())},Aa.prototype.wa=function(t){var e;this.vr()||this.Zu()||null===this.Wu||(this.$u({_n:!1}),0>(t=this.xu-t)&&(t=0),t=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),(e=Pr(this.Su).mr()).kr(t=Math.max(t,.1)),this.Gu(e))},Aa.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},Aa.prototype.ba=function(t){this.Xu()||null!==this.zu||null!==this.Su||this.wi()||(this.zu=t,this.Su=Pr(this.Ar()).mr())},Aa.prototype.ma=function(t){var e;this.Xu()||null===this.zu||(e=Pr(this.Ar()).yr()/(this.na()-1),t-=this.zu,this.Ju()&&(t*=-1),t*=e,(e=Pr(this.Su).mr()).Nr(t),this.Gu(e,!0),this.Pu=null)},Aa.prototype.pa=function(){this.Xu()||null!==this.zu&&(this.zu=null,this.Su=null)},Aa.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},Aa.prototype.Mi=function(t,e){switch(this.zi.mode){case 2:return this.qe().format(va(t,e));case 3:return this.qe().format(ma(t,e));default:return this.ga(t)}},Aa.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},Aa.prototype.Fr=function(t){return this.ga(t,Pr(this.ya()).qe())},Aa.prototype.Ne=function(t,e){return t=va(t,e),Pa.format(t)},Aa.prototype.ka=function(){return this.Ou},Aa.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},Aa.prototype.hn=function(){this.Ou.forEach((function(t){return t.hn()}))},Aa.prototype.Xe=function(){this.Pu=null;var t=this.ya(),e=100;null!==t&&(e=Math.round(1/t.je())),this.Ue=Ea,this.vr()?(this.Ue=Pa,e=100):this.Zu()?(this.Ue=new Ws(100,1),e=100):null!==t&&(this.Ue=t.qe()),this.Uu=new Sa(this,e,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},Aa.prototype.fa=function(){this.Vu=null},Aa.prototype.ya=function(){return this.Ou[0]||null},Aa.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},Aa.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},Aa.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},Aa.prototype.Ku=function(){this.Cu=null},Aa.prototype.Yu=function(t,e){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?ga(t,this.Ru):t;var i=Pr(this.Ar());t=this.ha()+(this.na()-1)*(t-i.pr())/i.yr();return this.ea(t)},Aa.prototype.Hu=function(t,e){var i;return this.ra(),this.wi()?0:(t=this.ea(t),i=(i=Pr(this.Ar())).pr()+i.yr()*((t-this.ha())/(this.na()-1)),this.Nu()?wa(i,this.Ru):i)},Aa.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},Aa.prototype.xa=function(){var t,e,i,n=this.Tu.Au;if(null!==n){for(var r,s,o,h=null,a=0,l=0,u=0,c=this.ka();c.length>u;u++){if((p=c[u]).yt()){var f=p.kt();if(null!==f){var p,d=(p=p.Re(n.In(),n.jn()))&&p.Ar();if(null!==d){switch(this.zi.mode){case 1:d=ba(d,this.Ru);break;case 2:e=f.St,i=void 0,i=va((t=d).pr(),e),t=va(t.gr(),e),d=new jh(i,t);break;case 3:i=f.St,t=void 0,t=ma((e=d).pr(),i),e=ma(e.gr(),i),d=new jh(t,e)}h=null===h?d:h.Nn(Pr(d)),null!==p&&null!==(p=p.Br())&&(l=Math.max(a=Math.max(a,p.above),p.below))}}}}a===this.Bu&&l===this.Lu||(this.Bu=a,this.Lu=l,this.Pu=null,this.Ku()),null!==h?(h.pr()===h.gr()&&(r=5*(null===(r=this.ya())||this.vr()||this.Zu()?1:r.je()),this.Nu()&&(h=_a(h,this.Ru)),h=new jh(h.pr()-r,h.gr()+r),this.Nu())&&(h=ba(h,this.Ru)),this.Nu()&&((s=Ma(r=_a(h,this.Ru))).lu===(o=this.Ru).lu&&s.fu===o.fu||(o=null!==this.Su?_a(this.Su,this.Ru):null,h=ba(r,this.Ru=s),null!==o&&(this.Su=ba(o,s)))),this.Gu(h)):null===this.Tr&&(this.Gu(new jh(-.5,.5)),this.Ru=Ma(null)),this.Tu.Du=!0}},Aa.prototype.ua=function(){var t=this;return this.vr()?va:this.Zu()?ma:this.Nu()?function(e){return ga(e,t.Ru)}:null},Aa.prototype.ga=function(t,e){return void 0===this.qu.priceFormatter?(e=void 0===e?this.qe():e).format(t):this.qu.priceFormatter(t)},Aa),Da=(Oa.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var e=0,i=Array.from(this.Ca.values());i.length>e;e++){var n=Pr(i[e][0].Ct());n.Pr(t.overlayPriceScales),t.localization&&n.Xe()}},Oa.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?Br(this.Ca.get(t))[0].Ct():null},Oa.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach((function(t){t.g&&t.g()})),this.Ta.m()},Oa.prototype.Wa=function(){return this.Sa},Oa.prototype.za=function(t){this.Sa=t},Oa.prototype.jt=function(){return this.pi},Oa.prototype.Ht=function(){return this.hh},Oa.prototype.Yt=function(){return this.xu},Oa.prototype.Ra=function(t){this.hh=t,this.Ia()},Oa.prototype.ia=function(t){var e=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach((function(i){e.lh(i)&&null!==(i=i.Ct())&&i.ia(t)})),this.Ia()},Oa.prototype.Ge=function(){return this.Ou},Oa.prototype.lh=function(t){return null===(t=t.Ct())||this.Ba!==t&&this.Ea!==t},Oa.prototype.la=function(t,e,i){i=void 0!==i?i:this.qa().ja+1,this.Ua(t,e,i)},Oa.prototype.ca=function(t){var e,i=($r(-1!==(i=this.Ou.indexOf(t)),"removeDataSource: invalid data source"),this.Ou.splice(i,1),Pr(t.Ct()).Ke()),n=(this.Ca.has(i)&&-1!==(n=(e=Br(this.Ca.get(i))).indexOf(t))&&(e.splice(n,1),0===e.length)&&this.Ca.delete(i),t.Ct());n&&n.Ge().indexOf(t)>=0&&n.ca(t),null!==n&&(n.fa(),this.Ha(n)),this.Vu=null},Oa.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},Oa.prototype.Ya=function(){return this.Ba},Oa.prototype.$a=function(){return this.Ea},Oa.prototype.Ka=function(t,e){t.da(e)},Oa.prototype.Xa=function(t,e){t.wa(e),this.Ia()},Oa.prototype.Za=function(t){t.Ma()},Oa.prototype.Ja=function(t,e){t.ba(e)},Oa.prototype.Ga=function(t,e){t.ma(e),this.Ia()},Oa.prototype.Qa=function(t){t.pa()},Oa.prototype.Ia=function(){this.Ou.forEach((function(t){t.hn()}))},Oa.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&0!==this.Ea.Ge().length?t=this.Ea:this.pi.W().leftPriceScale.visible&&0!==this.Ba.Ge().length?t=this.Ba:0!==this.Ou.length&&(t=this.Ou[0].Ct()),null===t?this.Ea:t},Oa.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},Oa.prototype.Ha=function(t){null!==t&&t.Xu()&&this.io(t)},Oa.prototype.no=function(t){var e=this.Da.ss();t.$u({_n:!0}),null!==e&&t.Na(e),this.Ia()},Oa.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},Oa.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach((function(e){t.lh(e)&&t.Ha(e.Ct())})),this.Ia(),this.pi.Wr()},Oa.prototype.oa=function(){return null===this.Vu&&(this.Vu=$a(this.Ou)),this.Vu},Oa.prototype.ro=function(){return this.Ta},Oa.prototype.eo=function(){return this.Aa},Oa.prototype.io=function(t){var e=t.ka();e&&e.length>0&&!this.Da.wi()&&null!==(e=this.Da.ss())&&t.Na(e),t.hn()},Oa.prototype.qa=function(){var t=this.oa();if(0===t.length)return{uo:0,ja:0};for(var e=0,i=0,n=0;t.length>n;n++){var r=t[n].xi();null!==r&&(e>r&&(e=r),r>i)&&(i=r)}return{uo:e,ja:i}},Oa.prototype.Ua=function(t,e,i){var n,r=this.Va(e);null===r&&(r=this.La(e,this.pi.W().overlayPriceScales)),this.Ou.push(t),Ls(e)||((n=this.Ca.get(e)||[]).push(t),this.Ca.set(e,n)),r.la(t),t.Si(r),t.Ci(i),this.Ha(r),this.Vu=null},Oa.prototype.Fa=function(t,e,i){e.mh!==i.mh&&this.io(t)},Oa.prototype.La=function(t,e){return e=Wr({visible:!0,autoScale:!0},Hr(e)),(t=new Ta(t,e,this.pi.W().layout,this.pi.W().localization)).ia(this.Yt()),t},Oa);function Oa(t,e){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new Ir,this.Da=t,this.pi=e,this.Aa=new la(this),t=e.W(),this.Ba=this.La("left",t.leftPriceScale),this.Ea=this.La("right",t.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(t)}function Aa(t,e,i,n){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new Ir,this.Fu=new Ir,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=Ea,this.Ru=Ma(null),this.Iu=t,this.zi=e,this.ju=i,this.qu=n,this.Uu=new Sa(this,100,this.Hu.bind(this),this.Yu.bind(this))}Na.prototype.lo=function(t){return i=this.oo,(e=this.ao).replace(/yyyy/g,Fs(Ba(t),4)).replace(/yy/g,Fs(Ba(t)%100,2)).replace(/MMMM/g,(e=t,n=i,new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(n,{month:"long"}))).replace(/MMM/g,(e=t,n=i,new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(n,{month:"short"}))).replace(/MM/g,Fs(t.getUTCMonth()+1,2)).replace(/dd/g,Fs(t.getUTCDate(),2));var e,i,n};var za=Na,Ra=(Fa.prototype.lo=function(t){return this.fo.replace("%h",Fs(t.getUTCHours(),2)).replace("%m",Fs(t.getUTCMinutes(),2)).replace("%s",Fs(t.getUTCSeconds(),2))},Fa),La={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},ja=(Ka.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},Ka);function Ka(t){void 0===t&&(t={}),t=Wr(Wr({},La),t),this.wo=new za(t.co,t.do),this.Mo=new Ra(t.vo),this.bo=t._o}function Fa(t){this.fo=t||"%h:%m:%s"}function Na(t,e){void 0===e&&(e="default"),this.ao=t=void 0===t?"yyyy-MM-dd":t,this.oo=e}Ga.prototype.lo=function(t){var e=new Date(void 0===t.Co?1e3*t.So:Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),i=this.Gs.get(e);return void 0!==i?i.To:(this.mo===this.xo&&(i=this.ko.get(this.yo),this.ko.delete(this.yo),this.Gs.delete(Br(i)),this.yo++,this.mo--),i=this.No(t),this.Gs.set(e,{To:i,Do:this.po}),this.ko.set(this.po,e),this.mo++,this.po++,i)};var Wa=Ga,Va=(Ia.prototype.In=function(){return this.Ao},Ia.prototype.jn=function(){return this.Bo},Ia.prototype.Lo=function(){return this.Bo-this.Ao+1},Ia.prototype.Uh=function(t){return t>=this.Ao&&this.Bo>=t},Ia.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},Ia);function Ia(t,e){$r(e>=t,"right should be >= left"),this.Ao=t,this.Bo=e}function Ga(t,e){void 0===e&&(e=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=e}function Xa(t,e){return null===t||null===e?t===e:t.br(e)}Za.prototype.Fo=function(t,e){this.Oo(e),this.Gs=null;for(var i=e;t.length>i;++i){var n=t[i],r=this.Eo.get(n.Vo);void 0===r&&this.Eo.set(n.Vo,r=[]),r.push({vs:i,rt:n.rt,Po:n.Vo})}},Za.prototype.Wo=function(t,e){return e=Math.ceil(e/t),null!==this.Gs&&this.Gs.zo===e||(this.Gs={au:this.Ro(e),zo:e}),this.Gs.au},Za.prototype.Oo=function(t){if(0!==t){var e=[];this.Eo.forEach((function(i,n){t>i[0].vs?i.splice(oo(i,t,(function(e){return t>e.vs})),1/0):e.push(n)}));for(var i=0,n=e;n.length>i;i++)this.Eo.delete(n[i])}else this.Eo.clear()},Za.prototype.Ro=function(t){for(var e=[],i=0,n=Array.from(this.Eo.keys()).sort((function(t,e){return e-t}));n.length>i;i++){var r=n[i];if(this.Eo.get(r)){for(var s=e,o=(e=[],s.length),h=0,a=Br(this.Eo.get(r)),l=a.length,u=1/0,c=-1/0,f=0;l>f;f++){for(var p=a[f],d=p.vs;o>h;){var y=s[h],v=y.vs;if(d<=v){u=v;break}h++,e.push(y),c=v,u=1/0}u-d>=t&&d-c>=t&&(e.push(p),c=d)}for(;o>h;h++)e.push(s[h])}}return e};var Ya=Za,Ja=(qa.prototype.jo=function(){return null===this.Io?null:new Va(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},qa.prototype.qo=function(){return this.Io},qa.Uo=function(){return new qa(null)},qa);function qa(t){this.Io=t}function Za(){this.Eo=new Map,this.Gs=null}Ua.prototype.W=function(){return this.zi},Ua.prototype.el=function(t){Xr(this.qu,t),this.ul(),this.rl()},Ua.prototype.Pr=function(t,e){Xr(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),void 0!==t.barSpacing&&this.pi.gn(t.barSpacing),void 0!==t.rightOffset&&this.pi.yn(t.rightOffset),void 0!==t.minBarSpacing&&this.pi.gn(null!=(t=t.barSpacing)?t:this.hl),this.ul(),this.rl(),this.Qo.m()},Ua.prototype.gi=function(t){return(null==(t=this.Yo[t])?void 0:t.rt)||null},Ua.prototype.Ze=function(t,e){var i;return 1>this.Yo.length?null:t.So>this.Yo[this.Yo.length-1].rt.So?e?this.Yo.length-1:null:(i=oo(this.Yo,t.So,(function(t,e){return e>t.rt.So})),this.Yo[i].rt.So<=t.So||e?i:null)},Ua.prototype.wi=function(){return 0===this.hh||0===this.Yo.length||null===this.Ho},Ua.prototype.ss=function(){return this.ll(),this.Xo.jo()},Ua.prototype.fl=function(){return this.ll(),this.Xo.qo()},Ua.prototype.cl=function(){var t=this.ss();return null===t?null:(t={from:t.In(),to:t.jn()},this.vl(t))},Ua.prototype.vl=function(t){var e=Math.round(t.from),i=(t=Math.round(t.to),Pr(this._l())),n=Pr(this.dl());return{from:Pr(this.gi(Math.max(i,e))),to:Pr(this.gi(Math.min(n,t)))}},Ua.prototype.wl=function(t){return{from:Pr(this.Ze(t.from,!0)),to:Pr(this.Ze(t.to,!0))}},Ua.prototype.Ht=function(){return this.hh},Ua.prototype.Ra=function(t){var e;!isFinite(t)||0>=t||this.hh===t||(this.zi.lockVisibleTimeRangeOnResize&&this.hh&&(this.hl=e=this.hl*t/this.hh),this.zi.fixLeftEdge&&null!==(e=this.ss())&&0>=e.In()&&(this.sl-=Math.round((e=this.hh-t)/this.hl)+1),this.hh=t,this.Zo=!0,this.Ml(),this.bl())},Ua.prototype.At=function(t){return this.wi()||!Jr(t)?0:(t=this.ml()+this.sl-t,this.hh-(.5+t)*this.hl-1)},Ua.prototype.es=function(t,e){for(var i=this.ml(),n=void 0===e?t.length:e.to,r=void 0===e?0:e.from;n>r;r++){t[r].tt=this.hh-(.5+(i+this.sl-t[r].rt))*this.hl-1}},Ua.prototype.pl=function(t){return Math.ceil(this.gl(t))},Ua.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},Ua.prototype.ws=function(){return this.hl},Ua.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},Ua.prototype.Nl=function(){return this.sl},Ua.prototype.au=function(){if(this.wi())return null;if(null!==this.il)return this.il;for(var t=this.hl,e=5*(this.pi.W().layout.fontSize+4),i=Math.round(e/t),n=Pr(this.ss()),r=Math.max(n.In(),n.In()-i),s=Math.max(n.jn(),n.jn()-i),o=(n=this.$o.Wo(t,e),this._l()+i),h=this.dl()-i,a=this.xl(),l=this.zi.fixLeftEdge||a,u=this.zi.fixRightEdge||a,c=0,f=0,p=n;p.length>f;f++){var d,y=p[f];y.vs>=r&&s>=y.vs&&(d=void 0,this.nl.length>c?((d=this.nl[c]).su=this.At(y.vs),d.yu=this.Cl(y.rt,y.Po),d.Po=y.Po):(d={Sl:!1,su:this.At(y.vs),yu:this.Cl(y.rt,y.Po),Po:y.Po},this.nl.push(d)),d.Sl=!(this.hl>e/2&&!a)&&(l&&o>=y.vs||u&&y.vs>=h),c++)}return this.nl.length=c,this.il=this.nl,this.nl},Ua.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},Ua.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},Ua.prototype.Al=function(t,e){var i=this.gl(t),n=this.ws();this.gn(n+e*(n/10)),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(i-this.gl(t)))},Ua.prototype.da=function(t){this.zu&&this.pa(),null!==this.Wu||null!==this.tl||this.wi()||(this.Wu=t,this.Bl())},Ua.prototype.wa=function(t){var e;null!==this.tl&&(t=$o(this.hh-t,0,this.hh),e=$o(this.hh-Pr(this.Wu),0,this.hh),0!==t)&&0!==e&&this.gn(this.tl.ws*t/e)},Ua.prototype.Ma=function(){null!==this.Wu&&(this.Wu=null,this.Ll())},Ua.prototype.ba=function(t){null!==this.zu||null!==this.tl||this.wi()||(this.zu=t,this.Bl())},Ua.prototype.ma=function(t){null!==this.zu&&(t=(this.zu-t)/this.ws(),this.sl=Pr(this.tl).Nl+t,this.Zo=!0,this.bl())},Ua.prototype.pa=function(){null!==this.zu&&(this.zu=null,this.Ll())},Ua.prototype.El=function(){this.Fl(this.zi.rightOffset)},Ua.prototype.Fl=function(t,e){var i=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||0>=e)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this.sl,r=performance.now(),s=function(){var o=(performance.now()-r)/e,h=o>=1;i.yn(h?t:n+(t-n)*o),h||setTimeout(s,20)};s()},Ua.prototype.vt=function(t,e){this.Zo=!0,this.Yo=t,this.$o.Fo(t,e),this.bl()},Ua.prototype.Ol=function(){return this.Jo},Ua.prototype.Vl=function(){return this.Go},Ua.prototype.Pl=function(){return this.Qo},Ua.prototype.ml=function(){return this.Ho||0},Ua.prototype.Wl=function(t){var e=t.Lo();this.kl(this.hh/e),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},Ua.prototype.zl=function(){var t=this._l(),e=this.dl();null!==t&&null!==e&&this.Wl(new Va(t,e+this.zi.rightOffset))},Ua.prototype.Rl=function(t){t=new Va(t.from,t.to),this.Wl(t)},Ua.prototype.yi=function(t){return void 0!==this.qu.timeFormatter?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},Ua.prototype.xl=function(){var t=(e=this.pi.W()).handleScroll,e=e.handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)},Ua.prototype._l=function(){return 0===this.Yo.length?null:0},Ua.prototype.dl=function(){return 0===this.Yo.length?null:this.Yo.length-1},Ua.prototype.jl=function(t){return(this.hh-1-t)/this.hl},Ua.prototype.gl=function(t){return t=this.jl(t),t=this.ml()+this.sl-t,Math.round(1e6*t)/1e6},Ua.prototype.kl=function(t){var e=this.hl;this.hl=t,this.Ml(),e!==this.hl&&(this.Zo=!0,this.ql())},Ua.prototype.ll=function(){var t,e;this.Zo&&(this.Zo=!1,this.wi()?this.Ul(Ja.Uo()):(t=this.ml(),e=new Va((t=this.sl+t)-(e=this.hh/this.hl)+1,t),this.Ul(new Ja(e))))},Ua.prototype.Ml=function(){var t=this.Hl();t>this.hl&&(this.hl=t,this.Zo=!0),0!==this.hh&&this.hl>(t=.5*this.hh)&&(this.hl=t,this.Zo=!0)},Ua.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Yo.length?this.hh/this.Yo.length:this.zi.minBarSpacing},Ua.prototype.bl=function(){var t=this.Yl();null!==(t=(this.sl>t&&(this.sl=t,this.Zo=!0),this.$l()))&&t>this.sl&&(this.sl=t,this.Zo=!0)},Ua.prototype.$l=function(){var t=this._l(),e=this.Ho;return null===t||null===e?null:t-e-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},Ua.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},Ua.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},Ua.prototype.Ll=function(){this.tl=null},Ua.prototype.Cl=function(t,e){var i=this,n=this.Ko.get(e);return void 0===n&&(n=new Wa((function(t){return i.Kl(t,e)})),this.Ko.set(e,n)),n.lo(t)},Ua.prototype.Kl=function(t,e){var i=function(t,i){switch(e){case 0:case 10:return t?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(this.zi.timeVisible,this.zi.secondsVisible);if(void 0!==this.zi.tickMarkFormatter)return this.zi.tickMarkFormatter(null!=(n=t.Co)?n:t.So,i,this.qu.locale);var n=t,r=(t=this.qu.locale,{});switch(i){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}return n=new Date(void 0===n.Co?1e3*n.So:Date.UTC(n.Co.year,n.Co.month-1,n.Co.day)),new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()).toLocaleString(t,r)},Ua.prototype.Ul=function(t){var e=this.Xo;this.Xo=t,Xa(e.jo(),this.Xo.jo())||this.Jo.m(),Xa(e.qo(),this.Xo.qo())||this.Go.m(),this.ql()},Ua.prototype.ql=function(){this.il=null},Ua.prototype.ul=function(){this.ql(),this.Ko.clear()},Ua.prototype.rl=function(){var t=this.qu.dateFormat;this.Il=this.zi.timeVisible?new ja({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):new za(t,this.qu.locale)},Ua.prototype.al=function(){var t,e;this.zi.fixLeftEdge&&null!==(e=this._l())&&null!==(t=this.ss())&&(0>(t=t.In()-e)&&this.yn(e=this.sl-t-1),this.Ml())},Ua.prototype.ol=function(){this.bl(),this.Ml()};var Ha=Ua;function Ua(t,e,i){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new Ya,this.Ko=new Map,this.Xo=Ja.Uo(),this.Zo=!0,this.Jo=new Ir,this.Go=new Ir,this.Qo=new Ir,this.tl=null,this.il=null,this.nl=[],this.zi=e,this.qu=i,this.sl=e.rightOffset,this.hl=e.barSpacing,this.pi=t,this.rl()}Nr(ol,tl=be),ol.prototype.Y=function(t){},ol.prototype.K=function(t){if(this.Bt.yt){t.save();for(var e,i=0,n=0,r=this.Bt.Zl;r.length>n;n++)0!==(a=r[n]).Gt.length&&(t.font=a.T,a.Al=(e=this.Jl(t,a.Gt))>this.Bt.Ht?this.Bt.Ht/e:1,i+=a.Gl*a.Al);var s=0;switch(this.Bt.Ql){case"top":s=0;break;case"center":s=Math.max((this.Bt.Yt-i)/2,0);break;case"bottom":s=Math.max(this.Bt.Yt-i,0)}t.fillStyle=this.Bt.A;for(var o=0,h=this.Bt.Zl;h.length>o;o++){var a=h[o],l=(t.save(),0);switch(this.Bt.tf){case"left":t.textAlign="left",l=a.Gl/2;break;case"center":t.textAlign="center",l=this.Bt.Ht/2;break;case"right":t.textAlign="right",l=this.Bt.Ht-1-a.Gl/2}t.translate(l,s),t.textBaseline="top",t.font=a.T,t.scale(a.Al,a.Al),t.fillText(a.Gt,0,a.if),t.restore(),s+=a.Gl*a.Al}t.restore()}},ol.prototype.Jl=function(t,e){var i=this.nf(t.font),n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n},ol.prototype.nf=function(t){var e=this.Xl.get(t);return void 0===e&&(e=new Map,this.Xl.set(t,e)),e};var Qa,tl,el=ol,il=(sl.prototype.vt=function(){this.ft=!0},sl.prototype.dt=function(t,e){return this.ft&&(this.wt(t,e),this.ft=!1),this.zt},sl.prototype.wt=function(t,e){var i=this.Rt.W(),n=this.Wt;n.yt=i.visible,n.yt&&(n.A=i.color,n.Ht=e,n.Yt=t,n.tf=i.horzAlign,n.Ql=i.vertAlign,n.Zl=[{Gt:i.text,T:es(i.fontSize,i.fontFamily,i.fontStyle),Gl:1.2*i.fontSize,if:0,Al:0}])},sl),nl=(Nr(rl,Qa=$s),rl.prototype.nn=function(){return[]},rl.prototype.tn=function(){return[this.Hi]},rl.prototype.W=function(){return this.zi},rl.prototype.hn=function(){this.Hi.vt()},rl);function rl(t,e){var i=Qa.call(this)||this;return i.zi=e,i.Hi=new il(i),i}function sl(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new el(this.Wt),this.Rt=t}function ol(t){var e=tl.call(this)||this;return e.Xl=new Map,e.Bt=t,e}al.prototype.Ce=function(){this.mf(new js(3))},al.prototype.Wr=function(){this.mf(new js(2))},al.prototype.We=function(){this.mf(new js(1))},al.prototype.Se=function(t){t=this.pf(t),this.mf(t)},al.prototype.gf=function(){return this.ef},al.prototype.yf=function(t){var e=this.ef;this.ef=t,null!==e&&this.Se(e.kf),null!==t&&this.Se(t.kf)},al.prototype.W=function(){return this.zi},al.prototype.Pr=function(t){Xr(this.zi,t),this.sf.forEach((function(e){return e.Oa(t)})),void 0!==t.timeScale&&this.Da.Pr(t.timeScale),void 0!==t.localization&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},al.prototype.Nf=function(t,e){"left"!==t?"right"!==t?null!==(t=this.xf(t))&&(t.Ct.Pr(e),this.uf.m()):this.Pr({rightPriceScale:e}):this.Pr({leftPriceScale:e})},al.prototype.xf=function(t){for(var e=0,i=this.sf;i.length>e;e++){var n=i[e],r=n.Va(t);if(null!==r)return{It:n,Ct:r}}return null},al.prototype.bt=function(){return this.Da},al.prototype.Cf=function(){return this.sf},al.prototype.Sf=function(){return this._f},al.prototype.Tf=function(){return this.ct},al.prototype.Df=function(){return this.af},al.prototype.Af=function(t,e){t.ia(e),this.yl()},al.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach((function(e){return e.Ra(t)})),this.yl()},al.prototype.df=function(t){var e=new Da(this.Da,this),i=(t=(void 0!==t?this.sf.splice(t,0,e):this.sf.push(e),void 0===t?this.sf.length-1:t),new js(3));return i.cn(t,{vn:0,_n:!0}),this.mf(i),e},al.prototype.Ka=function(t,e,i){t.Ka(e,i)},al.prototype.Xa=function(t,e,i){t.Xa(e,i),this.Te(),this.mf(this.Bf(t,2))},al.prototype.Za=function(t,e){t.Za(e),this.mf(this.Bf(t,2))},al.prototype.Ja=function(t,e,i){e.Xu()||t.Ja(e,i)},al.prototype.Ga=function(t,e,i){e.Xu()||(t.Ga(e,i),this.Te(),this.mf(this.Bf(t,2)))},al.prototype.Qa=function(t,e){e.Xu()||(t.Qa(e),this.mf(this.Bf(t,2)))},al.prototype.no=function(t,e){t.no(e),this.mf(this.Bf(t,2))},al.prototype.Lf=function(t){this.Da.da(t)},al.prototype.Ef=function(t,e){var i,n=this.bt();n.wi()||0===e||(i=n.Ht(),n.Al(t=Math.max(1,Math.min(t,i)),e),this.yl())},al.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},al.prototype.Wf=function(t){this.Da.wa(t),this.yl()},al.prototype.zf=function(){this.Da.Ma(),this.Wr()},al.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},al.prototype.Vf=function(t){var e=!1;return null!==this.rf&&Math.abs(t-this.rf)>20&&(e=!(this.rf=null)),this.Da.ma(t),this.yl(),e},al.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},al.prototype._t=function(){return this.hf},al.prototype.Rf=function(t,e,i){this.ct.Yi(t,e);var n,r=NaN,s=this.Da.pl(t),o=(n=(null!==(n=this.Da.ss())&&(s=Math.min(Math.max(n.In(),s),n.jn())),i.ji())).kt();null!==o&&(r=n.qi(e,o)),r=this.vf.Je(r,s,i),this.ct.Zi(s,r,i),this.We(),this.af.m(this.ct.Mt(),{x:t,y:e})},al.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},al.prototype.Te=function(){var t,e,i=this.ct.It();null!==i&&(t=this.ct.Ki(),e=this.ct.Xi(),this.Rf(t,e,i)),this.ct.hn()},al.prototype.jf=function(t,e,i){var n=this.Da.gi(0),r=(e=(void 0!==e&&void 0!==i&&this.Da.vt(e,i),this.Da.gi(0)),i=this.Da.ml(),this.Da.ss());null!==r&&null!==n&&null!==e&&(r=r.Uh(i),n=n.So>e.So,e=null!==t&&t>i&&!n,n=r&&this.Da.W().shiftVisibleRangeOnNewBar,e)&&!n&&(r=t-i,this.Da.yn(this.Da.Nl()-r)),this.Da.Dl(t)},al.prototype.Be=function(t){null!==t&&t.ho()},al.prototype.oh=function(t){var e=this.sf.find((function(e){return e.oa().includes(t)}));return void 0===e?null:e},al.prototype.yl=function(){this._f.hn(),this.sf.forEach((function(t){return t.ho()})),this.Te()},al.prototype.g=function(){this.sf.forEach((function(t){return t.g()})),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},al.prototype.qf=function(){return this.cf},al.prototype.dh=function(){return this.cf.W()},al.prototype.Pa=function(){return this.uf},al.prototype.Uf=function(t,e){e=this.Hf(e,t,this.sf[0]);return this.hf.push(e),1===this.hf.length?this.Ce():this.Wr(),e},al.prototype.Yf=function(t){var e=this.oh(t),i=this.hf.indexOf(t);$r(-1!==i,"Series not found"),this.hf.splice(i,1),Pr(e).ca(t),t.g&&t.g()},al.prototype.xe=function(t,e){var i,n=Pr(this.oh(t)),r=(n.ca(t),this.xf(e));(null===r?(i=t.xi(),n):(i=r.It===n?t.xi():void 0,r.It)).la(t,e,i)},al.prototype.zl=function(){var t=new js(2);t.Mn(),this.mf(t)},al.prototype.$f=function(t){var e=new js(2);e.mn(t),this.mf(e)},al.prototype.pn=function(){var t=new js(2);t.pn(),this.mf(t)},al.prototype.gn=function(t){var e=new js(2);e.gn(t),this.mf(e)},al.prototype.yn=function(t){var e=new js(2);e.yn(t),this.mf(e)},al.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},al.prototype.Xf=function(){return this.bf},al.prototype.Zf=function(){return this.wf},al.prototype.Dt=function(t){var e=this.bf,i=this.wf;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.lf||this.lf.Pn!==i||this.lf.Wn!==e)this.lf={Pn:i,Wn:e,Jf:new Map};else{var n=this.lf.Jf.get(t);if(void 0!==n)return n}n=e,e=t/100,l=(i=jr(i))[0],r=i[1],s=i[2],i=i[3],o=(n=jr(n))[0],h=n[1],a=n[2],n=n[3],o=[Dr(l+e*(o-l)),Dr(r+e*(h-r)),Dr(s+e*(a-s)),Or(i+e*(n-i))];var r,s,o,h,a,l="rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],", ").concat(o[3],")");return this.lf.Jf.set(t,l),l},al.prototype.Bf=function(t,e){var i=new js(e);return null!==t&&(t=this.sf.indexOf(t),i.cn(t,{vn:e})),i},al.prototype.pf=function(t,e){return void 0===e&&(e=2),this.Bf(this.oh(t),e)},al.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach((function(t){return t.eo().ou().vt()}))},al.prototype.Hf=function(t,e,i){e=new sa(this,t,e);var n=void 0!==t.priceScaleId?t.priceScaleId:this.Kf();return i.la(e,n),Ls(n)||e.Pr(t),e},al.prototype.Mf=function(t){var e=this.zi.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color};var hl=al;function al(t,e){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new Ir,this.af=new Ir,this.lf=null,this.ff=t,this.zi=e,this.cf=new ns(this),this.Da=new Ha(this,e.timeScale,this.zi.localization),this.ct=new zs(this,e.crosshair),this.vf=new oa(e.crosshair),this._f=new nl(this,e.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}function ll(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}function ul(t){return!Yr(t)&&!qr(t)}function cl(t){return Yr(t)}pl.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot};var fl=pl;function pl(t,e){this.Ft=t,this.Ot=e}function dl(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function yl(t){return(t=Pr(t.getContext("2d"))).setTransform(1,0,0,1,0,0),t}function vl(t,e){var i=dl(t=t.createElement("canvas"));return t.style.width="".concat(e.Ft,"px"),t.style.height="".concat(e.Ot,"px"),t.width=e.Ft*i,t.height=e.Ot*i,t}function ml(t,e){var i=Pr(t.ownerDocument).createElement("canvas");return(i=(t.appendChild(i),new xr(i,t=void 0===(t={allowDownsampling:!1})?Mr:t))).resizeCanvas({width:e.Ft,height:e.Ot}),i}function gl(t,e){return t.Gf-e.Gf}function wl(t,e,i){return Math.sign(t=(t.Gf-e.Gf)/(t.rt-e.rt))*Math.min(Math.abs(t),i)}Ml.prototype.lc=function(t,e){if(null!==this.Qf){if(this.Qf.rt===e)return void(this.Qf.Gf=t);if(this.Cn>Math.abs(this.Qf.Gf-t))return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:e,Gf:t}},Ml.prototype.xh=function(t,e){if(null!==this.Qf&&null!==this.tc&&e-this.Qf.rt<=50){var i=0,n=wl(this.Qf,this.tc,this.ac),r=gl(this.Qf,this.tc),s=[n],o=[r];i+=r,null!==this.ic&&(r=wl(this.tc,this.ic,this.ac),Math.sign(r)===Math.sign(n))&&(h=gl(this.tc,this.ic),s.push(r),o.push(h),i+=h,null!==this.nc)&&(r=wl(this.ic,this.nc,this.ac),Math.sign(r)===Math.sign(n))&&(h=gl(this.ic,this.nc),s.push(r),o.push(h),i+=h);for(var h,a=0,l=0;s.length>l;++l)a+=o[l]/i*s[l];this.uc>Math.abs(a)||(this.sc={Gf:t,rt:e},this.rc=a,this.hc=(n=Math.abs(a),Math.log(+(h=Math.log(r=this.oc))/-n)/h))}},Ml.prototype.fc=function(t){var e=Pr(this.sc);return e.Gf+this.rc*(Math.pow(this.oc,t=t-e.rt)-1)/Math.log(this.oc)},Ml.prototype.cc=function(t){return null===this.sc||this.vc(t)===this.hc},Ml.prototype._c=function(){return this.ec},Ml.prototype.dc=function(){this.ec=!0},Ml.prototype.vc=function(t){return t-=Pr(this.sc).rt,Math.min(t,this.hc)};var bl=Ml,_l="undefined"!=typeof window;function Ml(t,e,i,n){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=e,this.oc=i,this.Cn=n}function xl(){return _l&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Sl(){return _l&&/iPhone|iPad|iPod/.test(window.navigator.platform)}Cl.prototype.g=function(){null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Bc&&(this.Bc(),this.Bc=null),null!==this.Ec&&(this.Ec(),this.Ec=null),null!==this.Fc&&(this.Fc(),this.Fc=null),null!==this.Oc&&(this.Oc(),this.Oc=null),null!==this.Lc&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},Cl.prototype.uv=function(t){var e=this,i=(this.Ec&&this.Ec(),this.av.bind(this));this.Ec=function(){e.hv.removeEventListener("mousemove",i)},this.hv.addEventListener("mousemove",i),this.$c(t)||(t=this.Kc(t),this.iv(t,this.Qc.ov),this.qc=!0)},Cl.prototype.sv=function(){null!==this.Mc&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:-1/0,it:1/0}},Cl.prototype.tv=function(){null!==this.gc&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:-1/0,it:1/0}},Cl.prototype.av=function(t){this.Rc||null!==this.Cc||this.$c(t)||(t=this.Kc(t),this.iv(t,this.Qc.lv),this.qc=!0)},Cl.prototype.fv=function(t){var e,i,n,r=Tl(t.changedTouches,Pr(this.jc));null===r||(this.Ic=El(t),null!==this.Vc)||this.zc||(this.Wc=!0,e=(n=this.Zc(Pl(r),Pr(this.Cc))).cv,i=n.vv,n=n.Xc,!this.Sc&&5>n)||(this.Sc||(e=(n=.5*e)<=i&&!this.zi._v(),i=n>i&&!this.zi.dv(),e||i||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()),this.zc)||(n=this.Kc(t,r),this.Jc(n,this.Qc.wv),Bl(t))},Cl.prototype.Mv=function(t){0===t.button&&(this.Zc(Pl(t),Pr(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)&&(t=this.Kc(t),this.iv(t,this.Qc.bv))},Cl.prototype.Zc=function(t,e){var i=Math.abs(e.tt-t.tt);return{cv:i,vv:e=Math.abs(e.it-t.it),Xc:i+e}},Cl.prototype.mv=function(t){var e,i=Tl(t.changedTouches,Pr(this.jc));null!==(i=null===i&&0===t.touches.length?t.changedTouches[0]:i)&&(this.jc=null,this.Ic=El(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null),e=this.Kc(t,i),this.Jc(e,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(30>this.Zc(Pl(i),this.yc).Xc&&!this.Dc&&this.Jc(e,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(e,this.Qc.gv),this.Qc.gv&&Bl(t)),0===this.mc&&Bl(t),0===t.touches.length)&&this.Nc&&(this.Nc=!1,Bl(t))},Cl.prototype.Hc=function(t){var e;0===t.button&&(e=this.Kc(t),this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),xl()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(e,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(5>this.Zc(Pl(t),this.bc).Xc&&!this.Tc&&this.iv(e,this.Qc.nv),this.sv()):this.Tc||this.iv(e,this.Qc.kv)))},Cl.prototype.ev=function(){null!==this.kc&&(clearTimeout(this.kc),this.kc=null)},Cl.prototype.Nv=function(t){var e,i,n,r;null===this.jc&&(this.jc=(e=t.changedTouches[0]).identifier,this.Ic=El(t),i=this.hv.ownerDocument.documentElement,this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=Pl(e),this.Oc&&(this.Oc(),this.Oc=null),n=this.fv.bind(this),r=this.mv.bind(this),this.Oc=function(){i.removeEventListener("touchmove",n),i.removeEventListener("touchend",r)},i.addEventListener("touchmove",n,{passive:!1}),i.addEventListener("touchend",r,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240),t=this.Kc(t,e),this.Jc(t,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=Pl(e)))},Cl.prototype.Sv=function(t){var e,i,n,r;0===t.button&&(e=this.hv.ownerDocument.documentElement,xl()&&e.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=Pl(t),this.Fc&&(this.Fc(),this.Fc=null),i=this.Mv.bind(this),n=this.Hc.bind(this),this.Fc=function(){e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",n)},e.addEventListener("mousemove",i),e.addEventListener("mouseup",n),this.Rc=!0,this.$c(t)||(r=this.Kc(t),this.iv(r,this.Qc.Tv),this.Mc)||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=Pl(t)))},Cl.prototype.rv=function(){function t(t){!e.Qc.Dv||t.target&&e.hv.contains(t.target)||e.Qc.Dv()}var e=this,i=(this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this)),this.hv.ownerDocument);this.Bc=function(){i.removeEventListener("touchstart",t)},this.Ac=function(){i.removeEventListener("mousedown",t)},i.addEventListener("mousedown",t),i.addEventListener("touchstart",t,{passive:!0}),Sl()&&(this.Lc=function(){e.hv.removeEventListener("dblclick",e.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),_l&&void 0!==window.chrome&&this.hv.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1})),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",(function(){}),{passive:!1})},Cl.prototype.Bv=function(){var t=this;void 0===this.Qc.Lv&&void 0===this.Qc.Ev&&void 0===this.Qc.Fv||(this.hv.addEventListener("touchstart",(function(e){return t.Ov(e.touches)}),{passive:!0}),this.hv.addEventListener("touchmove",(function(e){var i;2===e.touches.length&&null!==t.Vc&&void 0!==t.Qc.Ev&&(i=$l(e.touches[0],e.touches[1])/t.Pc,t.Qc.Ev(t.Vc,i),Bl(e))}),{passive:!1}),this.hv.addEventListener("touchend",(function(e){t.Ov(e.touches)})))},Cl.prototype.Ov=function(t){1===t.length&&(this.Wc=!1),2!==t.length||this.Wc||this.Nc?this.Vv():this.Pv(t)},Cl.prototype.Pv=function(t){var e=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,it:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Pc=$l(t[0],t[1]),void 0!==this.Qc.Lv&&this.Qc.Lv(),this.ev()},Cl.prototype.Vv=function(){null!==this.Vc&&(this.Vc=null,void 0!==this.Qc.Fv)&&this.Qc.Fv()},Cl.prototype.Av=function(t){this.Ec&&this.Ec(),!this.$c(t)&&this.qc&&(t=this.Kc(t),this.iv(t,this.Qc.Wv),this.qc=!Sl())},Cl.prototype.xv=function(t){var e=Tl(t.touches,Pr(this.jc));null!==e&&(t=this.Kc(t,e),this.Jc(t,this.Qc.zv),this.Dc=!0,this.Nc=!0)},Cl.prototype.$c=function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:El(t)<this.Ic+500},Cl.prototype.Jc=function(t,e){e&&e.call(this.Qc,t)},Cl.prototype.iv=function(t,e){e&&e.call(this.Qc,t)},Cl.prototype.Kc=function(t,e){e=e||t;var i=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:e.clientX,Iv:e.clientY,jv:e.pageX,qv:e.pageY,Uv:e.screenX,Hv:e.screenY,Yv:e.clientX-i.left,$v:e.clientY-i.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Qv:t.type,t_:e.target,i_:t.view,n_:function(){"touchstart"!==t.type&&Bl(t)}}};var kl=Cl;function Cl(t,e,i){var n=this;this.wc=0,this.Mc=null,this.bc={tt:-1/0,it:1/0},this.mc=0,this.gc=null,this.yc={tt:-1/0,it:1/0},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!Sl(),this.Uc=function(t){n.Hc(t)},this.Yc=function(t){var e;n.$c(t)?(e=n.Kc(t),++n.mc,n.gc&&n.mc>1&&(30>n.Zc(Pl(t),n.yc).Xc&&!n.Dc&&n.Jc(e,n.Qc.Gc),n.tv())):(e=n.Kc(t),++n.wc,n.Mc&&n.wc>1&&(5>n.Zc(Pl(t),n.bc).Xc&&!n.Tc&&n.iv(e,n.Qc.nv),n.sv()))},this.hv=t,this.Qc=e,this.zi=i,this.rv()}function $l(t,e){var i=t.clientX-e.clientX;return Math.sqrt(i*i+(t=t.clientY-e.clientY)*t)}function Bl(t){t.cancelable&&t.preventDefault()}function Pl(t){return{tt:t.pageX,it:t.pageY}}function El(t){return t.timeStamp||performance.now()}function Tl(t,e){for(var i=0;t.length>i;++i)if(t[i].identifier===e)return t[i];return null}zl.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},zl.prototype.r_=function(t,e,i,n,r){e=this.e_(t,e),"left"!==r&&(r=dl(t.canvas),i-=Math.floor(e.u_*r)),t.drawImage(e.a_,i,n-=Math.floor(e.Yt/2),e.Ht,e.Yt)},zl.prototype.e_=function(t,e){var i,n,r,s,o,h,a,l,u=this;return this.h_.has(e)?l=Br(this.h_.get(e)):(this.th.length>=200&&(i=Br(this.th.shift()),this.h_.delete(i)),i=dl(t.canvas),n=Math.ceil(this.R/4.5),r=Math.round(this.R/10),s=Math.ceil(this.rh.Qt(t,e)),o=Po(Math.round(s+2*n)),h=Po(this.R+2*n),a=vl(document,new fl(o,h)),l={Gt:e,u_:Math.round(Math.max(1,s)),Ht:Math.ceil(o*i),Yt:Math.ceil(h*i),a_:a},0!==s&&(this.th.push(l.Gt),this.h_.set(l.Gt,l)),gs(t=yl(l.a_),i,(function(){t.font=u.Yh,t.fillStyle=u.s_,t.fillText(e,0,h-n-r)}))),l};var Dl=zl,Ol=(Al.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this._i&&this._i._a().M(this),this._i=null,this.c_.g()},Al.prototype.B_=function(){return this.p_},Al.prototype.ht=function(){return Pr(this._i).W().borderColor},Al.prototype.L_=function(){return this.zi.textColor},Al.prototype.S=function(){return this.zi.fontSize},Al.prototype.E_=function(){return es(this.S(),this.zi.fontFamily)},Al.prototype.F_=function(){var t=this.cf.W(),e=this.Yh!==t.T;return(this.s_!==t.A||e)&&(this.w_(t),this.s_=t.A),e&&(this.f_.ih(),this.Yh=t.T),t},Al.prototype.O_=function(){if(null===this._i)return 0;var t=0,e=this.F_(),i=yl(this.g_.canvas),n=this._i.au();i.font=this.E_(),n.length>0&&(t=Math.max(this.f_.Qt(i,n[0].yu),this.f_.Qt(i,n[n.length-1].yu)));for(var r=this.V_(),s=r.length;s--;){var o=this.f_.Qt(i,r[s].Gt());o>t&&(t=o)}var h=(null!==(n=this._i.kt())&&null!==this.o_&&(h=this._i.qi(1,n),a=this._i.qi(this.o_.Ot-2,n),t=Math.max(t,this.f_.Qt(i,this._i.Mi(Math.floor(Math.min(h,a))+.11111111111111,n)),this.f_.Qt(i,this._i.Mi(Math.ceil(Math.max(h,a))-.11111111111111,n)))),t||34),a=Math.ceil(e.N+e.C+e.L+e.F+h);return a+a%2},Al.prototype.P_=function(t){if(0>t.Ft||0>t.Ot)throw Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},Al.prototype.W_=function(){return Pr(this.o_).Ft},Al.prototype.Si=function(t){this._i!==t&&(null!==this._i&&this._i._a().M(this),(this._i=t)._a().u(this.Eu.bind(this),this))},Al.prototype.Ct=function(){return this._i},Al.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,Pr(this.Ct()))},Al.prototype.R_=function(t){var e,i,n;null!==this.o_&&(1!==t&&(t=yl(this.g_.canvas),this.I_(),this.j_(t,this.g_.pixelRatio),this.Rs(t,this.g_.pixelRatio),this.q_(t,this.g_.pixelRatio),this.U_(t,this.g_.pixelRatio)),e=yl(this.y_.canvas),i=this.o_.Ft,n=this.o_.Ot,gs(e,this.y_.pixelRatio,(function(){e.clearRect(0,0,i,n)})),this.H_(e,this.y_.pixelRatio))},Al.prototype.Y_=function(){return this.g_.canvas},Al.prototype.vt=function(){var t;null!=(t=this._i)&&t.au()},Al.prototype.k_=function(t){var e,i;null!==this._i&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price&&(e=this.Di.M_().jt(),i=this.Di.z_(),this.l_=!0,e.Ka(i,this._i,t.$v))},Al.prototype.N_=function(t){var e,i;null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price&&(e=this.Di.M_().jt(),i=this.Di.z_(),e.Xa(i,this._i,t.$v))},Al.prototype.x_=function(){var t,e,i;null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price&&(t=this.Di.M_().jt(),e=this.Di.z_(),i=this._i,this.l_)&&(this.l_=!1,t.Za(e,i))},Al.prototype.C_=function(t){var e,i;null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price&&(e=this.Di.M_().jt(),i=this.Di.z_(),this.l_=!1,e.Za(i,this._i))},Al.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},Al.prototype.T_=function(t){null===this._i||!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1)},Al.prototype.D_=function(t){this.K_(0)},Al.prototype.V_=function(){for(var t=[],e=null===this._i?void 0:this._i,i=this.Di.z_().oa(),n=0;i.length>n;++n)for(var r=i[n].nn(this.Di.z_(),e),s=0;r.length>s;s++)t.push(r[s]);return t},Al.prototype.j_=function(t,e){var i,n,r=this;null!==this.o_&&(i=this.o_.Ft,n=this.o_.Ot,gs(t,e,(function(){var e,s=(e=r.Di.z_().jt()).Zf();s===(e=e.Xf())?ws(t,0,0,i,n,s):bs(t,0,0,i,n,s,e)})))},Al.prototype.Rs=function(t,e){var i;null!==this.o_&&null!==this._i&&this._i.W().borderVisible&&(t.save(),t.fillStyle=this.ht(),i=Math.max(1,Math.floor(this.F_().N*e)),t.fillRect(this.m_?Math.floor(this.o_.Ft*e)-i:0,0,i,Math.ceil(this.o_.Ot*e)),t.restore())},Al.prototype.q_=function(t,e){if(null!==this.o_&&null!==this._i){var i=this._i.au(),n=(t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht(),this.F_()),r=this._i.W().borderVisible&&this._i.W().drawTicks,s=Math.floor(this.m_?(this.o_.Ft-n.C)*e-n.N*e:n.N*e),o=Math.round(this.m_?s-n.L*e:s+n.C*e+n.L*e),h=this.m_?"right":"left",a=Math.max(1,Math.floor(e)),l=Math.floor(.5*e);if(r){var u=Math.round(n.C*e);t.beginPath();for(var c=0,f=i;f.length>c;c++){var p=f[c];t.rect(s,Math.round(p.su*e)-l,u,a)}t.fill()}t.fillStyle=this.L_();for(var d=0,y=i;y.length>d;d++)this.c_.r_(t,(p=y[d]).yu,o,Math.round(p.su*e),h);t.restore()}},Al.prototype.I_=function(){if(null!==this.o_&&null!==this._i){var t=this.o_.Ot/2,e=[],i=this._i.oa().slice(),n=this.Di.z_(),r=this.F_(),s=(this._i===n.fh()&&this.Di.z_().oa().forEach((function(t){n.lh(t)&&i.push(t)})),this._i.Ge()[0]),o=this._i,h=(i.forEach((function(i){var r=i.nn(n,o);r.forEach((function(t){t.oi(null),t.li()&&e.push(t)})),s===i&&r.length>0&&(t=r[0].ti())})),e.filter((function(e){return e.ti()<=t}))),a=e.filter((function(e){return e.ti()>t}));if(h.sort((function(t,e){return e.ti()-t.ti()})),h.length&&a.length&&a.push(h[0]),a.sort((function(t,e){return t.ti()-e.ti()})),e.forEach((function(t){return t.oi(t.ti())})),this._i.W().alignLabels){for(var l=1;h.length>l;l++){var u=h[l],c=(p=h[l-1]).Yt(r,!1);u.ti()>(d=p.ai())-c&&u.oi(d-c)}for(var f=1;a.length>f;f++){var p,d;u=a[f],c=(p=a[f-1]).Yt(r,!0);u.ti()<(d=p.ai())+c&&u.oi(d+c)}}}},Al.prototype.U_=function(t,e){var i,n,r,s,o=this;null!==this.o_&&(t.save(),i=this.o_,n=this.V_(),r=this.F_(),s=this.m_?"right":"left",n.forEach((function(n){n.fi()&&(n=n.dt(Pr(o._i)),t.save(),n.H(t,r,o.f_,i.Ft,s,e),t.restore())})),t.restore())},Al.prototype.H_=function(t,e){var i,n,r,s,o,h,a=this;null!==this.o_&&null!==this._i&&(t.save(),i=this.o_,s=this.Di.M_().jt(),n=[],r=this.Di.z_(),(s=s.Tf().nn(r,this._i)).length&&n.push(s),o=this.F_(),h=this.m_?"right":"left",n.forEach((function(n){n.forEach((function(n){t.save(),n.dt(Pr(a._i)).H(t,o,a.f_,i.Ft,h,e),t.restore()}))})),t.restore())},Al.prototype.K_=function(t){this.p_.style.cursor=1===t?"ns-resize":"default"},Al.prototype.Eu=function(){var t=this.O_();t>this.v_&&this.Di.M_().jt().Ce(),this.v_=t},Al.prototype.w_=function(t){this.c_.g(),this.c_=new Dl(t.S,t.A,t.D)},Al);function Al(t,e,i,n){var r=this;(e=((t=(this._i=null,this.o_=null,this.l_=!1,this.f_=new th(50),this.c_=new Dl(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){r.w_(r.cf.W()),r.__||r.Di.M_().jt().Wr()},this.b_=function(){r.__||r.Di.M_().jt().Wr()},this.Di=t,this.zi=e,this.cf=i,this.m_="left"===n,this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=ml(this.p_,new fl(16,16)),this.g_.subscribeCanvasConfigured(this.d_),this.g_.canvas)).style.position="absolute",t.style.zIndex="1",t.style.left="0",t.style.top="0",this.y_=ml(this.p_,new fl(16,16)),this.y_.subscribeCanvasConfigured(this.b_),this.y_.canvas)).style.position="absolute",e.style.zIndex="2",e.style.left="0",e.style.top="0",i={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new kl(this.y_.canvas,i,{_v:function(){return!1},dv:function(){return!0}})}function zl(t,e,i,n){this.rh=new th(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=e,this.Yh=es(t,i,n)}function Rl(t,e,i,n,r){t.$&&t.$(e,i,n,r)}function Ll(t,e,i,n,r){t.H(e,i,n,r)}function jl(t,e){return t.tn(e)}function Kl(t,e){return void 0!==t.Pe?t.Pe(e):[]}Vl.prototype.g=function(){null!==this.X_&&this.X_.g(),null!==this.Z_&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this.ud&&this.ud.ro().M(this),this.A_.g()},Vl.prototype.z_=function(){return Pr(this.ud)},Vl.prototype.wd=function(t){null!==this.ud&&this.ud.ro().M(this),this.ud=t,null!==this.ud&&this.ud.ro().u(Vl.prototype.od.bind(this),this,!0),this.dd()},Vl.prototype.M_=function(){return this.ad},Vl.prototype.B_=function(){return this._d},Vl.prototype.dd=function(){var t;null!==this.ud&&(this.Md(),0!==this.pi()._t().length)&&(null!==this.X_&&(t=this.ud.Ya(),this.X_.Si(Pr(t))),null!==this.Z_&&(t=this.ud.$a(),this.Z_.Si(Pr(t))))},Vl.prototype.bd=function(){null!==this.X_&&this.X_.vt(),null!==this.Z_&&this.Z_.vt()},Vl.prototype.Wa=function(){return null!==this.ud?this.ud.Wa():0},Vl.prototype.za=function(t){this.ud&&this.ud.za(t)},Vl.prototype.ov=function(t){this.ud&&(this.md(),this.pd(t.Yv,t=t.$v))},Vl.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},Vl.prototype.lv=function(t){var e;this.ud&&(this.md(),this.pd(e=t.Yv,t=t.$v),e=this.$h(e,t),this.pi().yf(e&&{kf:e.kf,yd:e.yd}))},Vl.prototype.kv=function(t){var e,i;null!==this.ud&&(this.md(),e=t.Yv,t=t.$v,this.Q_.p())&&(i=this.pi().Tf().Mt(),this.Q_.m(i,{x:e,y:t}))},Vl.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},Vl.prototype.yv=function(t){null!==this.ud&&(this.md(),this.nd=!1,this.Nd(t))},Vl.prototype.zv=function(t){this.nd=!0,null===this.sd&&this.xd(t={x:t.Yv,y:t.$v},t)},Vl.prototype.Wv=function(t){null!==this.ud&&(this.md(),this.ud.jt().yf(null),this.Cd())},Vl.prototype.Sd=function(){return this.Q_},Vl.prototype.Lv=function(){this.td=1,this.Td()},Vl.prototype.Ev=function(t,e){var i;this.ad.W().handleScale.pinch&&(i=5*(e-this.td),this.td=e,this.pi().Ef(t.tt,i))},Vl.prototype.Cv=function(t){var e;this.nd=!1,this.hd=null!==this.sd,this.gd(),null!==this.sd&&(e=this.pi().Tf(),this.rd={x:e.$t(),y:e.Kt()},this.sd={x:t.Yv,y:t.$v})},Vl.prototype.wv=function(t){var e,i;null!==this.ud&&(i=t.Yv,e=t.$v,null===this.sd?this.kd(t):(this.hd=!1,i=(t=Pr(this.rd)).x+(i-this.sd.x),this.pd(i,t=t.y+(e-this.sd.y))))},Vl.prototype.pv=function(t){0===this.M_().W().trackingMode.exitMode&&(this.hd=!0),this.Dd(),this.Nd(t)},Vl.prototype.$h=function(t,e){var i=this.ud;if(null!==i)for(var n=0,r=i.oa();r.length>n;n++){var s=r[n],o=this.Ad(s.tn(i),t,e);if(null!==o)return{kf:s,i_:o.i_,yd:o.yd}}return null},Vl.prototype.Bd=function(t,e){Pr("left"===e?this.X_:this.Z_).P_(new fl(t,this.o_.Ot))},Vl.prototype.Ld=function(){return this.o_},Vl.prototype.P_=function(t){if(0>t.Ft||0>t.Ot)throw Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},Vl.prototype.Ed=function(){var t=Pr(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var e=0,i=t.Ge();i.length>e;e++){var n,r=i[e];t.lh(r)&&(null!==(n=r.Ct())&&t.Ha(n),r.hn())}},Vl.prototype.Y_=function(){return this.g_.canvas},Vl.prototype.R_=function(t){0!==t&&null!==this.ud&&(t>1&&this.Ed(),null!==this.X_&&this.X_.R_(t),null!==this.Z_&&this.Z_.R_(t),1!==t&&((t=yl(this.g_.canvas)).save(),this.j_(t,this.g_.pixelRatio),this.ud&&(this.Fd(t,this.g_.pixelRatio),this.Od(t,this.g_.pixelRatio),this.Vd(t,this.g_.pixelRatio,jl)),t.restore()),(t=yl(this.y_.canvas)).clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(t,this.g_.pixelRatio,Kl),this.Pd(t,this.y_.pixelRatio))},Vl.prototype.Wd=function(){return this.X_},Vl.prototype.zd=function(){return this.Z_},Vl.prototype.od=function(){null!==this.ud&&this.ud.ro().M(this),this.ud=null},Vl.prototype.j_=function(t,e){var i=this;gs(t,e,(function(){var e,n=(e=i.pi()).Zf();n===(e=e.Xf())?ws(t,0,0,i.o_.Ft,i.o_.Ot,e):bs(t,0,0,i.o_.Ft,i.o_.Ot,n,e)}))},Vl.prototype.Fd=function(t,e){var i;null!==(i=(i=Pr(this.ud)).eo().ou().dt(i.Yt(),i.Ht()))&&(t.save(),i.H(t,e,!1),t.restore())},Vl.prototype.Od=function(t,e){var i=this.pi().Sf();this.Rd(t,e,jl,Rl,i),this.Rd(t,e,jl,Ll,i)},Vl.prototype.Pd=function(t,e){this.Rd(t,e,jl,Ll,this.pi().Tf())},Vl.prototype.Vd=function(t,e,i){for(var n=Pr(this.ud).oa(),r=0,s=n;s.length>r;r++){var o=s[r];this.Rd(t,e,i,Rl,o)}for(var h=0,a=n;a.length>h;h++)this.Rd(t,e,i,Ll,o=a[h])},Vl.prototype.Rd=function(t,e,i,n,r){i=i(r,s=Pr(this.ud));for(var s,o=s.Yt(),h=s.Ht(),a=null!==(s=s.jt().gf())&&s.kf===r,l=null!==s&&a&&void 0!==s.yd?s.yd.Kh:void 0,u=0,c=i;c.length>u;u++){var f=c[u].dt(o,h);null!==f&&(t.save(),n(f,t,e,a,l),t.restore())}},Vl.prototype.Ad=function(t,e,i){for(var n=0,r=t;r.length>n;n++){var s=r[n],o=s.dt(this.o_.Ot,this.o_.Ft);if(null!==o&&o.$h&&null!==(o=o.$h(e,i)))return{i_:s,yd:o}}return null},Vl.prototype.Md=function(){var t,e,i,n;null!==this.ud&&(t=this.ad,e=this.ud.Ya().W().visible,i=this.ud.$a().W().visible,e||null===this.X_||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),i||null===this.Z_||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null),n=t.jt().qf(),e&&null===this.X_&&(this.X_=new Ol(this,t.W().layout,n,"left"),this.fd.appendChild(this.X_.B_())),i)&&null===this.Z_&&(this.Z_=new Ol(this,t.W().layout,n,"right"),this.vd.appendChild(this.Z_.B_()))},Vl.prototype.Id=function(t){return t.Gv&&this.nd||null!==this.sd},Vl.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},Vl.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},Vl.prototype.pd=function(t,e){this.pi().Rf(this.jd(t),this.qd(e),Pr(this.ud))},Vl.prototype.Cd=function(){this.pi().If()},Vl.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},Vl.prototype.xd=function(t,e){this.sd=t,this.hd=!1,this.pd(e.x,e.y),t=this.pi().Tf(),this.rd={x:t.$t(),y:t.Kt()}},Vl.prototype.pi=function(){return this.ad.jt()},Vl.prototype.Ud=function(){var t=this.pi(),e=this.z_(),i=e.ji();t.Qa(e,i),t.Pf(),this.J_=null,this.G_=!1},Vl.prototype.Nd=function(t){var e,i,n,r,s,o=this;this.G_&&(e=performance.now(),null!==this.ed&&this.ed.xh(t.Yv,e),null===this.ed||this.ed.cc(e)?this.Ud():(i=this.pi(),n=i.bt(),r=this.ed,s=function(){var t,e,h;r._c()||(t=performance.now(),e=r.cc(t),r._c()||(h=n.Nl(),i.Vf(r.fc(t)),h===n.Nl()&&(e=!0,o.ed=null)),e?o.Ud():requestAnimationFrame(s))},requestAnimationFrame(s)))},Vl.prototype.md=function(){this.sd=null},Vl.prototype.gd=function(){var t;this.ud&&(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement?Pr(document.activeElement).blur():null!==(t=document.getSelection())&&t.removeAllRanges(),this.ud.ji().wi()||this.pi().bt().wi())},Vl.prototype.kd=function(t){var e,i,n,r;null===this.ud||(e=this.pi()).bt().wi()||(n=(i=this.ad.W()).handleScroll,i=i.kineticScroll,(n.pressedMouseMove&&!t.Gv||(n.horzTouchDrag||n.vertTouchDrag)&&t.Gv)&&(n=this.ud.ji(),r=performance.now(),null!==this.J_||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:r,Yv:t.Yv,$v:t.$v}),null!==this.ed&&this.ed.lc(t.Yv,r),null===this.J_||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(null===this.ed&&(t.Gv&&i.touch||!t.Gv&&i.mouse)&&(this.ed=new bl(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,r)),n.wi()||e.Ja(this.ud,n,t.$v),e.Of(t.Yv),this.G_=!0),this.G_)&&(n.wi()||e.Ga(this.ud,n,t.$v),e.Vf(t.Yv)))},Vl.prototype.Td=function(){var t=performance.now();t=null===this.ed||this.ed.cc(t);null===this.ed||t||this.Ud(),null!==this.ed&&(this.ed.dc(),this.ed=null)};var Fl=Vl,Nl=(Wl.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},Wl.prototype.B_=function(){return this.p_},Wl.prototype.Ld=function(){return this.o_},Wl.prototype.P_=function(t){if(0>t.Ft||0>t.Ot)throw Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},Wl.prototype.R_=function(t){3>t&&!this.ft||0===this.o_.Ft||0===this.o_.Ot||(this.ft=!1,t=yl(this.g_.canvas),this.j_(t,this.g_.pixelRatio),this.Rs(t,this.g_.pixelRatio))},Wl.prototype.Y_=function(){return this.g_.canvas},Wl.prototype.Rs=function(t,e){var i,n;this.Hd()&&(n=this.o_.Ft,t.save(),t.fillStyle=this.zi.timeScale.borderColor,i=Math.floor(this.cf.W().N*e),t.fillRect(n=this.m_?Math.round(n*e)-i:0,0,i,i),t.restore())},Wl.prototype.j_=function(t,e){var i=this;gs(t,e,(function(){ws(t,0,0,i.o_.Ft,i.o_.Ot,i.Yd())}))},Wl);function Wl(t,e,i,n,r){var s=this;this.ft=!0,this.o_=new fl(0,0),this.d_=function(){return s.R_(3)},this.m_="left"===t,this.cf=i.qf,this.zi=e,this.Hd=n,this.Yd=r,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=ml(this.p_,new fl(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}function Vl(t,e){var i=this;(e=((e=((t=(this.o_=new fl(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new Ir,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){i.__||null===i.ud||i.pi().Wr()},this.b_=function(){i.__||null===i.ud||i.pi().Wr()},this.ad=t,this.ud=e,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative",document.createElement("div"))).style.width="100%",t.style.height="100%",t.style.position="relative",t.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(t),this.g_=ml(t,new fl(16,16)),this.g_.subscribeCanvasConfigured(this.d_),this.g_.canvas)).style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.y_=ml(t,new fl(16,16)),this.y_.subscribeCanvasConfigured(this.b_),this.y_.canvas)).style.position="absolute",e.style.zIndex="2",e.style.left="0",e.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new kl(this.y_.canvas,this,{_v:function(){return null===i.sd&&!i.ad.W().handleScroll.vertTouchDrag},dv:function(){return null===i.sd&&!i.ad.W().handleScroll.horzTouchDrag}})}function Il(t,e){return t.Po>e.Po?t:e}Jl.prototype.g=function(){this.A_.g(),null!==this.$d&&this.$d.g(),null!==this.Kd&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},Jl.prototype.B_=function(){return this.Jd},Jl.prototype.nw=function(){return this.$d},Jl.prototype.sw=function(){return this.Kd},Jl.prototype.Tv=function(t){var e;this.Xd||(this.Xd=!0,!(e=this.ad.jt()).bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Lf(t.Yv))},Jl.prototype.Cv=function(t){this.Tv(t)},Jl.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time)&&t.zf()},Jl.prototype.bv=function(t){var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Wf(t.Yv)},Jl.prototype.wv=function(t){this.bv(t)},Jl.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},Jl.prototype.pv=function(){this.yv()},Jl.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},Jl.prototype.Gc=function(){this.nv()},Jl.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},Jl.prototype.Wv=function(){this.K_(0)},Jl.prototype.Ld=function(){return this.o_},Jl.prototype.hw=function(){return this.Zd},Jl.prototype.rw=function(t,e,i){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),null!==this.$d&&this.$d.P_(new fl(e,t.Ot)),null!==this.Kd&&this.Kd.P_(new fl(i,t.Ot))},Jl.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},Jl.prototype.vt=function(){this.ad.jt().bt().au()},Jl.prototype.Y_=function(){return this.g_.canvas},Jl.prototype.R_=function(t){var e;0!==t&&(1!==t&&(e=yl(this.g_.canvas),this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),null!==this.$d&&this.$d.R_(t),null!==this.Kd)&&this.Kd.R_(t),(e=yl(this.y_.canvas)).clearRect(0,0,Math.ceil(this.o_.Ft*(t=this.y_.pixelRatio)),Math.ceil(this.o_.Ot*t)),this.aw([this.ad.jt().Tf()],e,t))},Jl.prototype.j_=function(t,e){var i=this;gs(t,e,(function(){ws(t,0,0,i.o_.Ft,i.o_.Ot,i.ad.jt().Xf())}))},Jl.prototype.Rs=function(t,e){var i;this.ad.W().timeScale.borderVisible&&(t.save(),t.fillStyle=this.ow(),i=Math.max(1,Math.floor(this.uw().N*e)),t.fillRect(0,0,Math.ceil(this.o_.Ft*e),i),t.restore())},Jl.prototype.q_=function(t,e){var i=this,n=this.ad.jt().bt().au();if(n&&0!==n.length){var r=n.reduce(Il,n[0]).Po,s=(r>30&&50>r&&(r=30),t.save(),t.strokeStyle=this.ow(),this.uw()),o=s.N+s.C+s.O+s.S-s.V,h=(t.textAlign="center",t.fillStyle=this.ow(),Math.floor(this.uw().N*e)),a=Math.max(1,Math.floor(e)),l=Math.floor(.5*e);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var u=Math.round(s.C*e),c=n.length;c--;){t.rect(Math.round(n[c].su*e)-l,h,a,u)}t.fill()}t.fillStyle=this.j(),gs(t,e,(function(){t.font=i.lw();for(var e,s=0,h=n;h.length>s;s++)(a=h[s]).Po<r&&(e=a.Sl?i.fw(t,a.su,a.yu):a.su,t.fillText(a.yu,e,o));t.font=i.cw();for(var a,l=0,u=n;u.length>l;l++)(a=u[l]).Po>=r&&(e=a.Sl?i.fw(t,a.su,a.yu):a.su,t.fillText(a.yu,e,o))})),t.restore()}},Jl.prototype.fw=function(t,e,i){return t=this.f_.Qt(t,i),0>(i=Math.floor(e-t/2)+.5)?e+=Math.abs(0-i):i+t>this.o_.Ft&&(e-=Math.abs(this.o_.Ft-(i+t))),e},Jl.prototype.aw=function(t,e,i){for(var n=this.uw(),r=0,s=t;s.length>r;r++)for(var o=0,h=s[r].Ti();h.length>o;o++){var a=h[o];e.save(),a.dt().H(e,n,i),e.restore()}},Jl.prototype.ow=function(){return this.ad.W().timeScale.borderColor},Jl.prototype.j=function(){return this.zi.textColor},Jl.prototype.R=function(){return this.zi.fontSize},Jl.prototype.lw=function(){return es(this.R(),this.zi.fontFamily)},Jl.prototype.cw=function(){return es(this.R(),this.zi.fontFamily,"bold")},Jl.prototype.uw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new th});var t,e=this.k,i=this.lw();return e.T!==i&&(t=this.R(),e.S=t,e.T=i,e.O=Math.ceil(t/2.5),e.B=e.O,e.mi=Math.ceil(t/2),e.V=Math.round(this.R()/5),e.bi.ih()),this.k},Jl.prototype.K_=function(t){this.p_.style.cursor=1===t?"ew-resize":"default"},Jl.prototype.iw=function(){function t(){return n.leftPriceScale.borderVisible&&i.bt().W().borderVisible}function e(){return i.Xf()}var i=this.ad.jt(),n=i.W(),r=(n.leftPriceScale.visible||null===this.$d||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),n.rightPriceScale.visible||null===this.Kd||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null),{qf:this.ad.jt().qf()});n.leftPriceScale.visible&&null===this.$d&&(this.$d=new Nl("left",n,r,t,e),this.Gd.appendChild(this.$d.B_())),n.rightPriceScale.visible&&null===this.Kd&&(this.Kd=new Nl("right",n,r,t,e),this.Qd.appendChild(this.Kd.B_()))};var Gl=Jl,Xl=(Yl.prototype.jt=function(){return this.pi},Yl.prototype.W=function(){return this.zi},Yl.prototype.Tw=function(){return this._w},Yl.prototype.Dw=function(){return this.Nw},Yl.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),0!==this.dw&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,e=this._w;e.length>t;t++){var i=e[t];this.pw.removeChild(i.B_()),i.Sd().M(this),i.g()}this._w=[],Pr(this.Nw).g(),null!==this.Jd.parentElement&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},Yl.prototype.xw=function(t,e,i){void 0===i&&(i=!1),this.xu===e&&this.hh===t||(e=(this.xu=e)+"px",t=(this.hh=t)+"px",Pr(this.Jd).style.height=e,Pr(this.Jd).style.width=t,this.pw.style.height=e,this.pw.style.width=t,i?this.Aw(new js(3)):this.pi.Ce())},Yl.prototype.R_=function(t){void 0===t&&(t=new js(3));for(var e=0;this._w.length>e;e++)this._w[e].R_(t.wn(e).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},Yl.prototype.Pr=function(t){this.pi.Pr(t),this.Sw(),this.xw(t.width||this.hh,t=t.height||this.xu)},Yl.prototype.Sd=function(){return this.Q_},Yl.prototype.Df=function(){return this.af},Yl.prototype.Bw=function(){var t=this,e=(null!==this.bw&&(this.Aw(this.bw),this.bw=null),this._w[0]),i=vl(document,new fl(this.hh,this.xu)),n=yl(i),r=dl(i);return gs(n,r,(function(){function i(e){for(var i=0;t._w.length>i;i++){var r,h=(r=t._w[i]).Ld().Ot,a=(r=Pr("left"===e?r.Wd():r.zd())).Y_();n.drawImage(a,s,o,r.W_(),h),o+=h}}var r,s=0,o=0;t.Lw()&&(i("left"),s=Pr(e.Wd()).W_());o=0;for(var h=0;t._w.length>h;h++){var a=t._w[h],l=a.Ld(),u=a.Y_();n.drawImage(u,s,o,l.Ft,l.Ot),o+=l.Ot}function c(e){var i=(e=Pr("left"===e?t.Nw.nw():t.Nw.sw())).Ld();e=e.Y_();n.drawImage(e,s,o,i.Ft,i.Ot)}s+=e.Ld().Ft,t.Ew()&&(o=0,i("right")),t.zi.timeScale.visible&&(s=0,t.Lw()&&(c("left"),s=Pr(e.Wd()).W_()),r=t.Nw.Ld(),u=t.Nw.Y_(),n.drawImage(u,s,o,r.Ft,r.Ot),t.Ew())&&(s+=e.Ld().Ft,c("right"),n.restore())})),i},Yl.prototype.Fw=function(t){return"none"===t||"left"===t&&!this.Lw()||"right"===t&&!this.Ew()||0===this._w.length?0:Pr("left"===t?this._w[0].Wd():this._w[0].zd()).W_()},Yl.prototype.Ow=function(){for(var t=0,e=0,i=0,n=0,r=this._w;r.length>n;n++){var s=r[n];this.Lw()&&(e=Math.max(e,Pr(s.Wd()).O_())),this.Ew()&&(i=Math.max(i,Pr(s.zd()).O_())),t+=s.Wa()}var o,h=this.xu,a=Math.max((o=this.hh)-e-i,0),l=(o=this.zi.timeScale.visible)?this.Nw.ew():0;l%2&&(l+=1);for(var u=0+l,c=u>h?0:h-u,f=c/t,p=0,d=0;this._w.length>d;++d){(s=this._w[d]).wd(this.pi.Cf()[d]);var y=d===this._w.length-1?c-p:Math.round(s.Wa()*f);p+=y=Math.max(y,2),s.P_(new fl(a,y)),this.Lw()&&s.Bd(e,"left"),this.Ew()&&s.Bd(i,"right"),s.z_()&&this.pi.Af(s.z_(),y)}this.Nw.rw(new fl(o?a:0,l),o?e:0,o?i:0),this.pi.Ra(a),this.ww!==e&&(this.ww=e),this.Mw!==i&&(this.Mw=i)},Yl.prototype.yw=function(t){var e,i=t.deltaX/100,n=-t.deltaY/100;if(0!==i&&this.zi.handleScroll.mouseWheel||0!==n&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:i*=120,n*=120;break;case t.DOM_DELTA_LINE:i*=32,n*=32}0!==n&&this.zi.handleScale.mouseWheel&&(e=Math.sign(n)*Math.min(1,Math.abs(n)),t=t.clientX-this.Jd.getBoundingClientRect().left,this.jt().Ef(t,e)),0!==i&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*i)}},Yl.prototype.Aw=function(t){var e=t.dn();3===e&&this.Vw(),3!==e&&2!==e||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach((function(t){t.bd()})),3===(null==(e=this.bw)?void 0:e.dn())&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},Yl.prototype.Ww=function(t){for(var e=0,i=t.kn();i.length>e;e++){this.xn(i[e])}},Yl.prototype.Pw=function(t){for(var e=this.pi.Cf(),i=0;e.length>i;i++)t.wn(i)._n&&e[i].so()},Yl.prototype.xn=function(t){var e=this.pi.bt();switch(t.bn){case 0:e.zl();break;case 1:e.Rl(t.St);break;case 2:e.gn(t.St);break;case 3:e.yn(t.St);break;case 4:e.Tl()}},Yl.prototype.ff=function(t){var e=this;null!==this.bw?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame((function(){var t;e.mw=!1,e.dw=0,null!==e.bw&&(t=e.bw,e.bw=null,e.Aw(t))})))},Yl.prototype.Vw=function(){this.Cw()},Yl.prototype.Cw=function(){for(var t=this.pi.Cf(),e=t.length,i=this._w.length,n=e;i>n;n++){var r=Br(this._w.pop());this.pw.removeChild(r.B_()),r.Sd().M(this),r.g()}for(n=i;e>n;n++)(r=new Fl(this,t[n])).Sd().u(this.zw.bind(this),this),this._w.push(r),this.pw.insertBefore(r.B_(),this.Nw.B_());for(n=0;e>n;n++){var s=t[n];(r=this._w[n]).z_()!==s?r.wd(s):r.dd()}this.Sw(),this.Ow()},Yl.prototype.Rw=function(t,e){var i,n=new Map,r=(null!==t&&this.pi._t().forEach((function(e){var i=e.er(t);null!==i&&n.set(e,i)})),null!==t&&null!==(r=this.pi.bt().gi(t))&&(i=r),this.jt().gf());return{rt:i,Iw:e||void 0,jw:null!==r&&r.kf instanceof sa?r.kf:void 0,qw:n,Uw:r=null!==r&&void 0!==r.yd?r.yd.Zh:void 0}},Yl.prototype.zw=function(t,e){var i=this;this.Q_.m((function(){return i.Rw(t,e)}))},Yl.prototype.kw=function(t,e){var i=this;this.af.m((function(){return i.Rw(t,e)}))},Yl.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},Yl.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},Yl.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},Yl);function Yl(t,e){this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new Ir,this.af=new Ir,this.zi=e,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(e=this.Jd).style.userSelect="none",e.style.webkitUserSelect="none",e.style.msUserSelect="none",e.style.MozUserSelect="none",e.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new hl(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new Gl(this),this.pw.appendChild(this.Nw.B_());var i,n=this.zi.height;0!==(e=this.zi.width)&&0!==n||(i=t.getBoundingClientRect(),0===e&&(e=Math.floor(i.width),e-=e%2),0===n&&(n=Math.floor(i.height),n-=n%2)),this.xw(e,n),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}function Jl(t){var e=this;(t=((t=(this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new fl(0,0),this.Zd=new Ir,this.f_=new th(5),this.__=!1,this.d_=function(){e.__||e.ad.jt().Wr()},this.b_=function(){e.__||e.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=ml(this.tw,new fl(16,16)),this.g_.subscribeCanvasConfigured(this.d_),this.g_.canvas)).style.position="absolute",t.style.zIndex="1",t.style.left="0",t.style.top="0",this.y_=ml(this.tw,new fl(16,16)),this.y_.subscribeCanvasConfigured(this.b_),this.y_.canvas)).style.position="absolute",t.style.zIndex="2",t.style.left="0",t.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new kl(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}function ql(t,e,i){return{vs:e,rt:t,St:[i=i.value,i,i,i]}}function Zl(t,e,i){var n=i.value;e={vs:e,rt:t,St:[n,n,n,n]};return"color"in i&&void 0!==i.color&&(e.A=i.color),e}function Hl(t){return void 0!==t.St}function Ul(t){return function(e,i,n){return void 0===n.open&&void 0===n.value?{rt:e,vs:i}:t(e,i,n)}}var Ql={Candlestick:Ul((function(t,e,i){return e={vs:e,rt:t,St:[i.open,i.high,i.low,i.close]},"color"in i&&void 0!==i.color&&(e.A=i.color),"borderColor"in i&&void 0!==i.borderColor&&(e.Tt=i.borderColor),"wickColor"in i&&void 0!==i.wickColor&&(e.qs=i.wickColor),e})),Bar:Ul((function(t,e,i){return e={vs:e,rt:t,St:[i.open,i.high,i.low,i.close]},"color"in i&&void 0!==i.color&&(e.A=i.color),e})),Area:Ul(ql),Baseline:Ul(ql),Histogram:Ul(Zl),Line:Ul(Zl)};function tu(t){return Ql[t]}var eu=[{Hw:1e3,Po:10},{Hw:6e4,Po:20},{Hw:3e5,Po:21},{Hw:18e5,Po:22},{Hw:36e5,Po:30},{Hw:108e5,Po:31},{Hw:216e5,Po:32},{Hw:432e5,Po:33}];function iu(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(var i=eu.length-1;i>=0;--i)if(Math.floor(e.getTime()/eu[i].Hw)!==Math.floor(t.getTime()/eu[i].Hw))return eu[i].Po;return 0}function nu(t,e){if(void 0===e&&(e=0),0!==t.length){for(var i=0===e?null:t[e-1].rt.So,n=null!==i?new Date(1e3*i):null,r=0,s=e;t.length>s;++s){var o=t[s],h=new Date(1e3*o.rt.So);null!==n&&(o.Vo=iu(h,n)),r+=o.rt.So-(i||o.rt.So),i=o.rt.So,n=h}0===e&&t.length>1&&(e=new Date(1e3*(t[0].rt.So-(e=Math.ceil(r/(t.length-1))))),t[0].Vo=iu(new Date(1e3*t[0].rt.So),e))}}function ru(t){var e;if(ul(t))return e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0)),{So:Math.round(e.getTime()/1e3),Co:t};throw Error("time must be of type BusinessDay")}function su(t){if(cl(t))return{So:t};throw Error("time must be of type isUTCTimestamp")}function ou(t){return 0===t.length?null:ul(t[0].time)?ru:su}function hu(t){return cl(t)?su(t):ul(t)?ru(t):ru(au(t))}function au(t){var e=new Date(t);if(isNaN(e.getTime()))throw Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function lu(t){qr(t.time)&&(t.time=au(t.time))}function uu(t){return{vs:0,Yw:new Map,Ve:t}}function cu(t){if(void 0!==t&&0!==t.length)return{$w:t[0].rt.So,Kw:t[t.length-1].rt.So}}pu.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},pu.prototype.Qw=function(t,e){var i=this,n=0!==this.Xw.size,r=!1,s=this.Zw.get(t);if(void 0!==s)if(1===this.Zw.size)r=!(n=!1),this.Xw.clear();else for(var o=0,h=this.Gw;h.length>o;o++)h[o].pointData.Yw.delete(t)&&(r=!0);var a,l,u,c=[];0!==e.length&&(e.forEach(lu),a=Pr(ou(e)),l=tu(t.Rr()),c=e.map((function(e){var n=a(e.time),s=i.Xw.get(n.So);void 0===s&&(s=uu(n),i.Xw.set(n.So,s),r=!0),n=l(n,s.vs,e);return s.Yw.set(t,n),n}))),n&&this.tM(),this.iM(t,c),e=-1;return r&&(u=[],this.Xw.forEach((function(t){u.push({Vo:0,rt:t.Ve,pointData:t})})),u.sort((function(t,e){return t.rt.So-e.rt.So})),e=this.nM(u)),this.sM(t,e,function(t){t=cu(t);var e=cu(s);if(void 0!==t&&void 0!==e)return{Ae:t.Kw>=e.Kw&&t.$w>=e.$w}}(this.Zw.get(t)))},pu.prototype.Yf=function(t){return this.Qw(t,[])},pu.prototype.hM=function(t,e){lu(e);var i=Pr(ou([e]))(e.time);if(void 0!==(n=this.Jw.get(t))&&n.So>i.So)throw Error("Cannot update oldest data, last time=".concat(n.So,", new time=").concat(i.So));var n,r=void 0===(n=this.Xw.get(i.So));void 0===n&&(n=uu(i),this.Xw.set(i.So,n)),i=tu(t.Rr())(i,n.vs,e),n.Yw.set(t,i),this.rM(t,i),e={Ae:Hl(i)};if(!r)return this.sM(t,-1,e);r=oo(this.Gw,(i={Vo:0,rt:n.Ve,pointData:n}).rt.So,(function(t,e){return e>t.rt.So})),this.Gw.splice(r,0,i);for(var s=r;this.Gw.length>s;++s)du(this.Gw[s].pointData,s);return nu(this.Gw,r),this.sM(t,r,e)},pu.prototype.rM=function(t,e){var i=this.Zw.get(t),n=(void 0===i&&this.Zw.set(t,i=[]),0!==i.length?i[i.length-1]:null);null===n||e.rt.So>n.rt.So?Hl(e)&&i.push(e):Hl(e)?i[i.length-1]=e:i.splice(-1,1),this.Jw.set(t,e.rt)},pu.prototype.iM=function(t,e){0!==e.length?(this.Zw.set(t,e.filter(Hl)),this.Jw.set(t,e[e.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},pu.prototype.tM=function(){for(var t=0,e=this.Gw;e.length>t;t++){var i=e[t];0===i.pointData.Yw.size&&this.Xw.delete(i.rt.So)}},pu.prototype.nM=function(t){for(var e=-1,i=0;this.Gw.length>i&&t.length>i;++i){var n=this.Gw[i],r=t[i];if(n.rt.So!==r.rt.So){e=i;break}r.Vo=n.Vo,du(r.pointData,i)}if(-1===(e=-1===e&&this.Gw.length!==t.length?Math.min(this.Gw.length,t.length):e))return-1;for(i=e;t.length>i;++i)du(t[i].pointData,i);return nu(t,e),this.Gw=t,e},pu.prototype.eM=function(){var t;return 0===this.Zw.size?null:(t=0,this.Zw.forEach((function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].vs))})),t)},pu.prototype.sM=function(t,e,i){var n={uM:new Map,bt:{ml:this.eM()}};return-1!==e?(this.Zw.forEach((function(e,r){n.uM.set(r,{ph:e,aM:r===t?i:void 0})})),this.Zw.has(t)||n.uM.set(t,{ph:[],aM:i}),n.bt.oM=this.Gw,n.bt.lM=e):(e=this.Zw.get(t),n.uM.set(t,{ph:e||[],aM:i})),n};var fu=pu;function pu(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}function du(t,e){t.vs=e,t.Yw.forEach((function(t){t.vs=e}))}var yu={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},vu=(mu.prototype.applyOptions=function(t){this.Lr.Pr(t)},mu.prototype.options=function(){return this.Lr.W()},mu.prototype.fM=function(){return this.Lr},mu);function mu(t){this.Lr=t}function gu(t){var e=t.overlay;t=function(t,e){var i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);r.length>n;n++)0>e.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i}(t,["overlay"]);return e&&(t.priceScaleId=""),t}Ru.prototype.priceFormatter=function(){return this.Kn.qe()},Ru.prototype.priceToCoordinate=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().xt(t,e.St)},Ru.prototype.coordinateToPrice=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().qi(t,e.St)},Ru.prototype.barsInLogicalRange=function(t){var e,i,n,r;return null===t||(i=new Ja(new Va(t.from,t.to)).jo(),(n=this.Kn.an()).wi())?null:(e=n.ne(i.In(),1),i=n.ne(i.jn(),-1),r=Pr(n.Qr()),n=Pr(n.un()),null!==e&&null!==i&&e.vs>i.vs?{barsBefore:t.from-r,barsAfter:n-t.to}:(r={barsBefore:null===e||e.vs===r?t.from-r:e.vs-r,barsAfter:null===i||i.vs===n?n-t.to:n-i.vs},null!==e&&null!==i&&(r.from=e.rt.Co||e.rt.So,r.to=i.rt.Co||i.rt.So),r))},Ru.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},Ru.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},Ru.prototype.setMarkers=function(t){t=t.map((function(t){return Wr(Wr({},t),{time:hu(t.time)})})),this.Kn.Le(t)},Ru.prototype.applyOptions=function(t){t=gu(t),this.Kn.Pr(t)},Ru.prototype.options=function(){return Hr(this.Kn.W())},Ru.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},Ru.prototype.createPriceLine=function(t){return t=Xr(Hr(yu),t),t=this.Kn.Ee(t),new vu(t)},Ru.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},Ru.prototype.seriesType=function(){return this.Kn.Rr()};var wu,bu=Ru,_u=(Nr(zu,wu=bu),zu.prototype.applyOptions=function(t){ll(t),wu.prototype.applyOptions.call(this,t)},zu),Mu={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ts,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},xu={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:ts},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Wr({},Mo={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}}),leftPriceScale:Wr(Wr({},Mo),{visible:!1}),rightPriceScale:Wr(Wr({},Mo),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:Mu,localization:{locale:_l?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},Su={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},ku={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Cu={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},$u={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Bu={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Pu={color:"#26a69a",base:0},Eu={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Tu=(Au.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},Au.prototype.options=function(){return this._i().W()},Au.prototype.width=function(){return Ls(this.MM)?this.wM.Fw("left"===this.MM?"left":"right"):0},Au.prototype._i=function(){return Pr(this.wM.jt().xf(this.MM)).Ct},Au),Du=(Ou.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},Ou.prototype.scrollPosition=function(){return this.Da.Nl()},Ou.prototype.scrollToPosition=function(t,e){e?this.Da.Fl(t,1e3):this.pi.yn(t)},Ou.prototype.scrollToRealTime=function(){this.Da.El()},Ou.prototype.getVisibleRange=function(){var t,e=this.Da.cl();return null===e?null:{from:null!=(t=e.from.Co)?t:e.from.So,to:null!=(t=e.to.Co)?t:e.to.So}},Ou.prototype.setVisibleRange=function(t){t={from:hu(t.from),to:hu(t.to)},t=this.Da.wl(t),this.pi.$f(t)},Ou.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return null===t?null:{from:t.In(),to:t.jn()}},Ou.prototype.setVisibleLogicalRange=function(t){$r(t.to>=t.from,"The from index cannot be after the to index."),this.pi.$f(t)},Ou.prototype.resetTimeScale=function(){this.pi.pn()},Ou.prototype.fitContent=function(){this.pi.zl()},Ou.prototype.logicalToCoordinate=function(t){var e=this.pi.bt();return e.wi()?null:e.At(t)},Ou.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},Ou.prototype.timeToCoordinate=function(t){return t=hu(t),null===(t=this.Da.Ze(t,!1))?null:this.Da.At(t)},Ou.prototype.coordinateToTime=function(t){var e;t=(e=this.pi.bt()).pl(t);return null===(e=e.gi(t))?null:null!=(t=e.Co)?t:e.So},Ou.prototype.width=function(){return this.Nw.Ld().Ft},Ou.prototype.height=function(){return this.Nw.Ld().Ot},Ou.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},Ou.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},Ou.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},Ou.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},Ou.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},Ou.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},Ou.prototype.applyOptions=function(t){this.Da.Pr(t)},Ou.prototype.options=function(){return Hr(this.Da.W())},Ou.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},Ou.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},Ou.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},Ou);function Ou(t,e){this.bM=new Ir,this.Go=new Ir,this.Zd=new Ir,this.pi=t,this.Da=t.bt(),this.Nw=e,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}function Au(t,e){this.wM=t,this.MM=e}function zu(){return null!==wu&&wu.apply(this,arguments)||this}function Ru(t,e,i){this.Kn=t,this.cM=e,this.vM=i}function Lu(t){void 0!==t&&"custom"!==t.type&&void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(t){if(t>=1)return 0;for(var e=0;8>e;e++){if(1e-8>Math.abs(Math.round(t)-t))return e;t*=10}return e}(t.minMove))}function ju(t){return Zr((e=t).handleScale)?e.handleScale={axisDoubleClickReset:i=e.handleScale,axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}:void 0!==e.handleScale&&Zr(e.handleScale.axisPressedMouseMove)&&(e.handleScale.axisPressedMouseMove={time:i=e.handleScale.axisPressedMouseMove,price:i}),Zr(i=e.handleScroll)&&(e.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i}),(e=t).priceScale&&(e.leftPriceScale=e.leftPriceScale||{},e.rightPriceScale=e.rightPriceScale||{},i=e.priceScale.position,delete e.priceScale.position,e.leftPriceScale=Xr(e.leftPriceScale,e.priceScale),e.rightPriceScale=Xr(e.rightPriceScale,e.priceScale),"left"===i&&(e.leftPriceScale.visible=!0,e.rightPriceScale.visible=!1),"right"===i&&(e.leftPriceScale.visible=!1,e.rightPriceScale.visible=!0),"none"===i&&(e.leftPriceScale.visible=!1,e.rightPriceScale.visible=!1),e.overlayPriceScales=e.overlayPriceScales||{},void 0!==e.priceScale.invertScale&&(e.overlayPriceScales.invertScale=e.priceScale.invertScale),void 0!==e.priceScale.scaleMargins)&&(e.overlayPriceScales.scaleMargins=e.priceScale.scaleMargins),(e=t).layout&&e.layout.backgroundColor&&!e.layout.background&&(e.layout.background={type:"solid",color:e.layout.backgroundColor}),t;var e,i}Fu.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},Fu.prototype.resize=function(t,e,i){this.wM.xw(t,e,i)},Fu.prototype.addAreaSeries=function(t){Lu((t=gu(t=void 0===t?{}:t)).priceFormat);t=Xr(Hr(Eu),$u,t),t=this.wM.jt().Uf("Area",t);var e=new bu(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.addBaselineSeries=function(t){Lu((t=gu(t=void 0===t?{}:t)).priceFormat);t=Xr(Hr(Eu),Hr(Bu),t),t=this.wM.jt().Uf("Baseline",t);var e=new bu(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.addBarSeries=function(t){Lu((t=gu(t=void 0===t?{}:t)).priceFormat);t=Xr(Hr(Eu),ku,t),t=this.wM.jt().Uf("Bar",t);var e=new bu(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.addCandlestickSeries=function(t){ll(t=gu(t=void 0===t?{}:t)),Lu(t.priceFormat);t=Xr(Hr(Eu),Su,t),t=this.wM.jt().Uf("Candlestick",t);var e=new _u(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.addHistogramSeries=function(t){Lu((t=gu(t=void 0===t?{}:t)).priceFormat);t=Xr(Hr(Eu),Pu,t),t=this.wM.jt().Uf("Histogram",t);var e=new bu(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.addLineSeries=function(t){Lu((t=gu(t=void 0===t?{}:t)).priceFormat);t=Xr(Hr(Eu),Cu,t),t=this.wM.jt().Uf("Line",t);var e=new bu(t,this,this);return this.kM.set(e,t),this.NM.set(t,e),e},Fu.prototype.removeSeries=function(t){var e=Br(this.kM.get(t)),i=this.yM.Yf(e);this.wM.jt().Yf(e),this.DM(i),this.kM.delete(t),this.NM.delete(e)},Fu.prototype._M=function(t,e){this.DM(this.yM.Qw(t,e))},Fu.prototype.dM=function(t,e){this.DM(this.yM.hM(t,e))},Fu.prototype.subscribeClick=function(t){this.xM.u(t)},Fu.prototype.unsubscribeClick=function(t){this.xM._(t)},Fu.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},Fu.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},Fu.prototype.priceScale=function(t){return void 0===t&&(t=this.wM.jt().Kf()),new Tu(this.wM,t)},Fu.prototype.timeScale=function(){return this.TM},Fu.prototype.applyOptions=function(t){this.wM.Pr(ju(t))},Fu.prototype.options=function(){return this.wM.W()},Fu.prototype.takeScreenshot=function(){return this.wM.Bw()},Fu.prototype.DM=function(t){var e=this.wM.jt();e.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach((function(t,e){return e.Z(t.ph,t.aM)})),e.yl()},Fu.prototype.AM=function(t){return Br(this.NM.get(t))},Fu.prototype.SM=function(t){var e=this,i=new Map,n=(t.qw.forEach((function(t,n){i.set(e.AM(n),t)})),void 0===t.jw?void 0:this.AM(t.jw));return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:n,hoveredMarkerId:t.Uw,seriesPrices:i}};var Ku=Fu;function Fu(t,e){var i=this;this.yM=new fu,this.kM=new Map,this.NM=new Map,this.xM=new Ir,this.CM=new Ir,e=void 0===e?Hr(xu):Xr(Hr(xu),ju(e)),this.wM=new Xl(t,e),this.wM.Sd().u((function(t){i.xM.p()&&i.xM.m(i.SM(t()))}),this),this.wM.Df().u((function(t){i.CM.p()&&i.CM.m(i.SM(t()))}),this),t=this.wM.jt();this.TM=new Du(t,this.wM.Dw())}function Nu(t,e=[],i,n){const r=new Map;for(const o of e){var s=i(t,o);s.updateReference(n(o)),r.set(o.id,s)}return{update(e=[]){var s,o,h=new Set(r.keys()),a=new Map(e.map((t=>[t.id,t])));for(const t of h)a.has(t)||(function(t){if(null==t)throw Error("no value");return t}(r.get(t)).destroy(),r.delete(t));for([s,o]of a.entries()){var l,u=r.get(s);void 0===u?((l=i(t,o)).updateReference(n(o)),r.set(s,l)):(u.update(o),u.updateReference(n(o)))}},destroy(){for(const t of r.values())t.destroy()}}}function Wu(t,e=[]){return Nu(t,e,Vu,(t=>t.reference))}function Vu(t,e){const i=t.createPriceLine(e.options);let n;return{update(t){t.options&&i.applyOptions(t.options)},updateReference(t){t!==n&&(null!=n&&n(null),null!==(n=t))&&void 0!==n&&n(i)},destroy(){null!=n&&n(null),t.removePriceLine(i)}}}function Iu(t,e){let i,n=Gu(t,e),r=Wu(n,e.priceLines),s=e.reactive?e.data:null;return{update(o){o.type!==n.seriesType()?(r.destroy(),t.removeSeries(n),null!=i&&i(null),n=Gu(t,o),null!=i&&i(n),r=Wu(n,e.priceLines)):(o.options&&n.applyOptions(o.options),o.reactive||(s=null),o.data!==s&&o.reactive&&(s=o.data,n.setData(s)),r.update(o.priceLines))},updateReference(t){t!==i&&(null!=i&&i(null),null!==(i=t))&&void 0!==i&&i(n)},destroy(){r.destroy(),null!=i&&i(null),t.removeSeries(n)}}}function Gu(t,e){switch(e.type){case"Area":var i=t.addAreaSeries(e.options);return i.setData(e.data),i;case"Bar":return(i=t.addBarSeries(e.options)).setData(e.data),i;case"Candlestick":return(i=t.addCandlestickSeries(e.options)).setData(e.data),i;case"Histogram":return(i=t.addHistogramSeries(e.options)).setData(e.data),i;case"Line":return(i=t.addLineSeries(e.options)).setData(e.data),i;case"Baseline":return(i=t.addBaselineSeries(e.options)).setData(e.data),i}}function Xu(t,e){var i,n;let{options:r,reference:s,onClick:o,onCrosshairMove:h}=e,a=null!=(i=null==r?void 0:r.width)?i:0,l=null!=(i=null==r?void 0:r.height)?i:0;i=t,t=r,n=qr(i)?($r(null!==(n=document.getElementById(i)),"Cannot find element in DOM with id=".concat(i)),n):i;const u=new Ku(n,t),c=(null!=s&&s(u),[i,n=[]]=[u,e.series],Nu(i,n,Iu,(t=>t.reference)));return o&&u.subscribeClick(o),h&&u.subscribeCrosshairMove(h),{update(t){var{options:e,reference:i,onClick:n,onCrosshairMove:f}=t;i!==s&&(null!=s&&s(null),null!==(s=i))&&void 0!==s&&s(u),e&&(u.applyOptions(e),(void 0!==e.width&&e.width!==a||void 0!==e.height&&e.height!==l)&&(a=null!=(i=e.width)?i:a,l=null!=(i=e.height)?i:l,u.resize(a,l,!0)),r=e),c.update(t.series),n!==o&&(o&&u.unsubscribeClick(o),o=n)&&u.subscribeClick(o),f!==h&&(h&&u.unsubscribeCrosshairMove(h),h=f)&&u.subscribeCrosshairMove(h)},destroy(){c.destroy(),o&&u.unsubscribeCrosshairMove(o),h&&u.unsubscribeCrosshairMove(h),u.remove(),null!=s&&s(null)}}}function Yu(t){if(void 0===t)return B().$$.context.get("lightweight-chart-context");P("lightweight-chart-context",t)}function Ju(t){let e;const i=t[2].default,n=a(i,t,t[1],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,[r]){n&&n.p&&(!e||2&r)&&c(n,i,t,t[1],e?u(i,t[1],r,null):f(t[1]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function qu(t,e,i){let{$$slots:n={},$$scope:r}=e,s=e.value;return t.$$set=t=>{"value"in t&&i(0,s=t.value),"$$scope"in t&&i(1,r=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&Yu(s)},[s,r,n]}var Zu=class extends U{constructor(t){super(),H(this,t,qu,Ju,o,{value:0})}};function Hu(t){let e,i;return e=new Zu({props:{value:t[3],$$slots:{default:[Uu]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,n){q(e,t,n),i=!0},p(t,i){var n={};8&i&&(n.value=t[3]),4194304&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Z(e,t)}}}function Uu(t){let e;const i=t[21].default,n=a(i,t,t[22],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||4194304&r)&&c(n,i,t,t[22],e?u(i,t[22],r,null):f(t[22]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function Qu(t){let i,n,o,h,a,l,u=null!==t[3]&&Hu(t),c=[t[1]],f={};for(let t=0;c.length>t;t+=1)f=e(f,c[t]);return{c(){i=g("div"),u&&u.c(),S(i,f)},m(e,r){v(e,i,r),u&&u.m(i,null),h=!0,a||(l=[y(n=function(t,e){let i=e;return null!=i&&i(t),{update(e){e!==i&&(null!=i&&i(null),null!==(i=e))&&void 0!==i&&i(t)},destroy(){null!=i&&i(null)}}}(i,t[0]?t[0].ref:void 0)),y(o=Xu(i,{options:t[2],onCrosshairMove:t[5],onClick:t[6],reference:t[4]}))],a=!0)},p(t,[e]){null!==t[3]?u?(u.p(t,e),8&e&&G(u,1)):((u=Hu(t)).c(),G(u,1),u.m(i,null)):u&&(V(),X(u,1,1,(()=>{u=null})),I()),S(i,f=Y(c,[2&e&&t[1]])),n&&s(n.update)&&1&e&&n.update.call(null,t[0]?t[0].ref:void 0),o&&s(o.update)&&20&e&&o.update.call(null,{options:t[2],onCrosshairMove:t[5],onClick:t[6],reference:t[4]})},i(t){h||(G(u),h=!0)},o(t){X(u),h=!1},d(t){t&&m(i),u&&u.d(),a=!1,r(l)}}}function tc(t,e,i){let{$$slots:n={},$$scope:r}=e;const s=function(){const t=B();return(e,i,{cancelable:n=!1}={})=>{var r,s,o=t.$$.callbacks[e];if(o){[e,i,{bubbles:n=!1,cancelable:r=!1}]=[e,i,{cancelable:n}],(s=document.createEvent("CustomEvent")).initCustomEvent(e,n,r,i);const h=s;return o.slice().forEach((e=>{e.call(t,h)})),!h.defaultPrevented}return!0}}();let o,h,{container:a}=e,{width:l=0}=e,{height:u=0}=e,{watermark:c}=e,{layout:f}=e,{leftPriceScale:p}=e,{rightPriceScale:d}=e,{overlayPriceScales:y}=e,{timeScale:v}=e,{crosshair:m}=e,{grid:g}=e,{localization:w}=e,{handleScroll:b}=e,{handleScale:_}=e,{ref:M}=e,x=null,S={};return t.$$set=t=>{"container"in t&&i(0,a=t.container),"width"in t&&i(7,l=t.width),"height"in t&&i(8,u=t.height),"watermark"in t&&i(9,c=t.watermark),"layout"in t&&i(10,f=t.layout),"leftPriceScale"in t&&i(11,p=t.leftPriceScale),"rightPriceScale"in t&&i(12,d=t.rightPriceScale),"overlayPriceScales"in t&&i(13,y=t.overlayPriceScales),"timeScale"in t&&i(14,v=t.timeScale),"crosshair"in t&&i(15,m=t.crosshair),"grid"in t&&i(16,g=t.grid),"localization"in t&&i(17,w=t.localization),"handleScroll"in t&&i(18,b=t.handleScroll),"handleScale"in t&&i(19,_=t.handleScale),"ref"in t&&i(20,M=t.ref),"$$scope"in t&&i(22,r=t.$$scope)},t.$$.update=()=>{var e;1048448&t.$$.dirty&&i(2,o={width:l,height:u,watermark:c,layout:f,leftPriceScale:p,rightPriceScale:d,overlayPriceScales:y,timeScale:v,crosshair:m,grid:g,localization:w,handleScroll:b,handleScale:_}),1048576&t.$$.dirty&&i(4,(e=M,h=t=>{i(3,x=t),void 0!==e&&e(t)})),3&t.$$.dirty&&(i(1,S=Object.assign({},a)),delete S.ref)},[a,S,o,x,h,function(t){s("crosshairMove",t)},function(t){s("click",t)},l,u,c,f,p,d,y,v,m,g,w,b,_,M,n,r]}var ec=class extends U{constructor(t){super(),H(this,t,tc,Qu,h,{container:0,width:7,height:8,watermark:9,layout:10,leftPriceScale:11,rightPriceScale:12,overlayPriceScales:13,timeScale:14,crosshair:15,grid:16,localization:17,handleScroll:18,handleScale:19,ref:20})}};function ic(t){let e,i;return e=new Zu({props:{value:t[0],$$slots:{default:[nc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,n){q(e,t,n),i=!0},p(t,i){var n={};1&i[0]&&(n.value=t[0]),536870912&i[0]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Z(e,t)}}}function nc(t){let e;const i=t[28].default,n=a(i,t,t[29],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||536870912&r[0])&&c(n,i,t,t[29],e?u(i,t[29],r,null):f(t[29]),null)},i(t){e||(G(n,t),e=!0)},o(t){X(n,t),e=!1},d(t){n&&n.d(t)}}}function rc(t){let e,i,n=null!==t[0]&&ic(t);return{c(){n&&n.c(),e=_()},m(t,r){n&&n.m(t,r),v(t,e,r),i=!0},p(t,i){null!==t[0]?n?(n.p(t,i),1&i[0]&&G(n,1)):((n=ic(t)).c(),G(n,1),n.m(e.parentNode,e)):n&&(V(),X(n,1,1,(()=>{n=null})),I())},i(t){i||(G(n),i=!0)},o(t){X(n),i=!1},d(t){n&&n.d(t),t&&m(e)}}}function sc(t,e,i){let n,r,{$$slots:s={},$$scope:o}=e,{lastValueVisible:h}=e,{title:a}=e,{priceScaleId:l}=e,{visible:u}=e,{priceLineVisible:c}=e,{priceLineSource:f}=e,{priceLineWidth:p}=e,{priceLineColor:d}=e,{priceLineStyle:y}=e,{priceFormat:v}=e,{baseLineVisible:m}=e,{baseLineColor:g}=e,{baseLineWidth:w}=e,{baseLineStyle:b}=e,{autoscaleInfoProvider:_}=e,{scaleMargins:M}=e,{color:x}=e,{lineStyle:S}=e,{lineWidth:k}=e,{lineType:C}=e,{crosshairMarkerVisible:$}=e,{crosshairMarkerRadius:P}=e,{crosshairMarkerBorderColor:E}=e,{crosshairMarkerBackgroundColor:T}=e,{ref:D}=e,{data:O=[]}=e,{reactive:A=!1}=e,z=null;const R=""+performance.now();return function(t){let e=null;const i=Yu();B().$$.on_mount.push((()=>{var[n]=t();return e=Iu(i,n),()=>{null!=e&&e.destroy(),e=null}})),B().$$.after_update.push((()=>{var[i,n]=t();null!=e&&e.update(i),null!=e&&e.updateReference(n)}))}((()=>[{id:R,type:"Line",reactive:A,options:n,data:O},r])),t.$$set=t=>{"lastValueVisible"in t&&i(1,h=t.lastValueVisible),"title"in t&&i(2,a=t.title),"priceScaleId"in t&&i(3,l=t.priceScaleId),"visible"in t&&i(4,u=t.visible),"priceLineVisible"in t&&i(5,c=t.priceLineVisible),"priceLineSource"in t&&i(6,f=t.priceLineSource),"priceLineWidth"in t&&i(7,p=t.priceLineWidth),"priceLineColor"in t&&i(8,d=t.priceLineColor),"priceLineStyle"in t&&i(9,y=t.priceLineStyle),"priceFormat"in t&&i(10,v=t.priceFormat),"baseLineVisible"in t&&i(11,m=t.baseLineVisible),"baseLineColor"in t&&i(12,g=t.baseLineColor),"baseLineWidth"in t&&i(13,w=t.baseLineWidth),"baseLineStyle"in t&&i(14,b=t.baseLineStyle),"autoscaleInfoProvider"in t&&i(15,_=t.autoscaleInfoProvider),"scaleMargins"in t&&i(16,M=t.scaleMargins),"color"in t&&i(17,x=t.color),"lineStyle"in t&&i(18,S=t.lineStyle),"lineWidth"in t&&i(19,k=t.lineWidth),"lineType"in t&&i(20,C=t.lineType),"crosshairMarkerVisible"in t&&i(21,$=t.crosshairMarkerVisible),"crosshairMarkerRadius"in t&&i(22,P=t.crosshairMarkerRadius),"crosshairMarkerBorderColor"in t&&i(23,E=t.crosshairMarkerBorderColor),"crosshairMarkerBackgroundColor"in t&&i(24,T=t.crosshairMarkerBackgroundColor),"ref"in t&&i(25,D=t.ref),"data"in t&&i(26,O=t.data),"reactive"in t&&i(27,A=t.reactive),"$$scope"in t&&i(29,o=t.$$scope)},t.$$.update=()=>{var e;33554430&t.$$.dirty[0]&&(n={lastValueVisible:h,title:a,priceScaleId:l,visible:u,priceLineVisible:c,priceLineSource:f,priceLineWidth:p,priceLineColor:d,priceLineStyle:y,priceFormat:v,baseLineVisible:m,baseLineColor:g,baseLineWidth:w,baseLineStyle:b,autoscaleInfoProvider:_,scaleMargins:M,color:x,lineStyle:S,lineWidth:k,lineType:C,crosshairMarkerBackgroundColor:T,crosshairMarkerBorderColor:E,crosshairMarkerRadius:P,crosshairMarkerVisible:$}),33554432&t.$$.dirty[0]&&(e=D,r=t=>{i(0,z=t),void 0!==e&&e(t)})},[z,h,a,l,u,c,f,p,d,y,v,m,g,w,b,_,M,x,S,k,C,$,P,E,T,D,O,A,s,o]}var oc=class extends U{constructor(t){super(),H(this,t,sc,rc,h,{lastValueVisible:1,title:2,priceScaleId:3,visible:4,priceLineVisible:5,priceLineSource:6,priceLineWidth:7,priceLineColor:8,priceLineStyle:9,priceFormat:10,baseLineVisible:11,baseLineColor:12,baseLineWidth:13,baseLineStyle:14,autoscaleInfoProvider:15,scaleMargins:16,color:17,lineStyle:18,lineWidth:19,lineType:20,crosshairMarkerVisible:21,crosshairMarkerRadius:22,crosshairMarkerBorderColor:23,crosshairMarkerBackgroundColor:24,ref:25,data:26,reactive:27},null,[-1,-1])}};function hc(t){let e;return{c(){e=w("astroloAGI💫")},m(t,i){v(t,e,i)},d(t){t&&m(e)}}}function ac(t){let e,i,n,r;return e=new kt({props:{href:"/",class:"me-auto",$$slots:{default:[hc]},$$scope:{ctx:t}}}),(n=new Pt({props:{class:"me-2",id:"options","aria-label":"options click"}})).$on("click",t[0]),{c(){J(e.$$.fragment),i=b(),J(n.$$.fragment)},m(t,s){q(e,t,s),v(t,i,s),q(n,t,s),r=!0},p(t,i){var n={};64&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){r||(G(e.$$.fragment,t),G(n.$$.fragment,t),r=!0)},o(t){X(e.$$.fragment,t),X(n.$$.fragment,t),r=!1},d(t){Z(e,t),t&&m(i),Z(n,t)}}}function lc(t){let e,i;return e=new Mt({props:{color:"dark",dark:!0,fixed:"top",$$slots:{default:[ac]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,n){q(e,t,n),i=!0},p(t,i){var n={};64&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Z(e,t)}}}function uc(t){let e;return{c(){e=w("1")},m(t,i){v(t,e,i)},d(t){t&&m(e)}}}function cc(t){let e;return{c(){e=w("2")},m(t,i){v(t,e,i)},d(t){t&&m(e)}}}function fc(t){let e;return{c(){e=w("meow")},m(t,i){v(t,e,i)},d(t){t&&m(e)}}}function pc(t){let e;return{c(){e=w(".col-sm-auto .offset-sm-1")},m(t,i){v(t,e,i)},d(t){t&&m(e)}}}function dc(t){let e,i,n,r;return e=new pt({props:{$$slots:{default:[fc]},$$scope:{ctx:t}}}),n=new pt({props:{$$slots:{default:[pc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),i=b(),J(n.$$.fragment)},m(t,s){q(e,t,s),v(t,i,s),q(n,t,s),r=!0},p(t,i){var r={};64&i&&(r.$$scope={dirty:i,ctx:t}),e.$set(r),r={};64&i&&(r.$$scope={dirty:i,ctx:t}),n.$set(r)},i(t){r||(G(e.$$.fragment,t),G(n.$$.fragment,t),r=!0)},o(t){X(e.$$.fragment,t),X(n.$$.fragment,t),r=!1},d(t){Z(e,t),t&&m(i),Z(n,t)}}}function yc(e){let i,n;return i=new oc({props:{data:e[1]}}),{c(){J(i.$$.fragment)},m(t,e){q(i,t,e),n=!0},p:t,i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){X(i.$$.fragment,t),n=!1},d(t){Z(i,t)}}}function vc(t){let e,i;return e=new ec({props:{width:800,height:600,$$slots:{default:[yc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,n){q(e,t,n),i=!0},p(t,i){var n={};64&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Z(e,t)}}}function mc(t){let e,i,n,r,s,o,h,a,l,u;return e=new Dt({props:{class:"mb-1",$$slots:{default:[lc]},$$scope:{ctx:t}}}),n=new Dt({props:{$$slots:{default:[uc]},$$scope:{ctx:t}}}),s=new Dt({props:{$$slots:{default:[cc]},$$scope:{ctx:t}}}),h=new Dt({props:{class:"row-fluid",$$slots:{default:[dc]},$$scope:{ctx:t}}}),l=new Dt({props:{$$slots:{default:[vc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),i=b(),J(n.$$.fragment),r=b(),J(s.$$.fragment),o=b(),J(h.$$.fragment),a=b(),J(l.$$.fragment)},m(t,c){q(e,t,c),v(t,i,c),q(n,t,c),v(t,r,c),q(s,t,c),v(t,o,c),q(h,t,c),v(t,a,c),q(l,t,c),u=!0},p(t,i){var r={};64&i&&(r.$$scope={dirty:i,ctx:t}),e.$set(r),r={},64&i&&(r.$$scope={dirty:i,ctx:t}),n.$set(r),r={},64&i&&(r.$$scope={dirty:i,ctx:t}),s.$set(r),r={},64&i&&(r.$$scope={dirty:i,ctx:t}),h.$set(r),r={};64&i&&(r.$$scope={dirty:i,ctx:t}),l.$set(r)},i(t){u||(G(e.$$.fragment,t),G(n.$$.fragment,t),G(s.$$.fragment,t),G(h.$$.fragment,t),G(l.$$.fragment,t),u=!0)},o(t){X(e.$$.fragment,t),X(n.$$.fragment,t),X(s.$$.fragment,t),X(h.$$.fragment,t),X(l.$$.fragment,t),u=!1},d(t){Z(e,t),t&&m(i),Z(n,t),t&&m(r),Z(s,t),t&&m(o),Z(h,t),t&&m(a),Z(l,t)}}}function gc(t){let e,i,n;return i=new vt({props:{fluid:!0,$$slots:{default:[mc]},$$scope:{ctx:t}}}),{c(){e=g("main"),J(i.$$.fragment)},m(t,r){v(t,e,r),q(i,e,null),n=!0},p(t,[e]){var n={};64&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){X(i.$$.fragment,t),n=!1},d(t){t&&m(e),Z(i)}}}function wc(t,e,i){let n=!1;const r=new class extends yr{constructor(){super("DocDatabase"),this.version(1).stores({docs:"++id,name,amount"})}};return r.transaction("rw",r.docs,(async()=>{0===await r.docs.where({name:"Rocket"}).count()&&await r.docs.add({name:"Rocket",amount:69})})),[()=>n=!n,[{time:"2019-04-11",value:80.01},{time:"2019-04-12",value:96.63},{time:"2019-04-13",value:76.64},{time:"2019-04-14",value:81.89},{time:"2019-04-15",value:74.43},{time:"2019-04-16",value:80.01},{time:"2019-04-17",value:96.63},{time:"2019-04-18",value:76.64},{time:"2019-04-19",value:81.89},{time:"2019-04-20",value:74.43}],"astroloAGI"]}return new class extends U{constructor(t){super(),H(this,t,wc,gc,o,{sitename:2})}get sitename(){return this.$$.ctx[2]}}({target:document.body,props:{sitename:"astroloAGI"}})}();
